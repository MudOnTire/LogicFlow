/*! For license information please see main.e444cd82.chunk.js.LICENSE.txt */
(this.webpackJsonpexamples=this.webpackJsonpexamples||[]).push([[0],{131:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){"use strict";n.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABqUlEQVQ4T92Uv0tbURTHPyevUwc3qUshU/8DBzOYmwiFDlK6dHKwVHBwUKjUoleS4Ku0UkEHB6HSDp1cpHRwSnKz1KH/QaeAS0txcXDy5ciNL5LEF4k/oOBZHvfdcz/33O/53ivccUgvnrFaBAo95ksuFD9/Kf4LMOdCcb4UY9UAVeBWFd5XoHmnaQIKCOm21nnNko7c1LQZSp2IkvsgdT+86PLYoj6KUvzp8sGvIGCiXJLf/v9YQZ9EEd+A4fa8oMFQeVX+dgD9IG8134CvwGMV1morspDkteyyfhTlLXCYgslKKJVW3iUfxlV46Aiw40KZaocaq5+B18BBEDDZqv4CmLO6pnDS7vzxoj48PuWLwEuU7ymY8QsasIXwXGF34AGvfhTlpAUatfo0BRkxVhVwLpRc9/GM1U/AG4WfsT4ZYN2FMp+Q6w1vrgTGt2MW2IgBcy6UzSRdjdX+gH5xdlGf+W9tVfaTYPHG/QN7QbqadQ7MWj0S5ZiIXMuc/QA6YOeXoqrCgNfwqnfvuuxS04fZJd0W4QUweF1CnP9Plb3ae5nu+cDeEMwZu/TFGsleoRIAAAAASUVORK5CYII="},228:function(e,t,n){"use strict";n.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAB80lEQVQ4T62SP2hTURTGf997Qx1F1EFQ61DpWAcHhyY3zrpp0EEoaEGnuta80MSXttBRhw4W2iC6xEWdCsJ7qf/G6uCgg3TQRaE6OEmSI+/ZFBJjU9p804V7z+9+55xPDFgaMA+5wC5g3EcM7xP+AXiiXGCPDD4B9X0CncRk4jCSKEWhUqALzJlxOTlL1OKK4t18lNQBUQfQzdhBmkTAe8Fvg7P45OKyfvaD9gRmC3ZVHnNxqFMJIBtY1ROrUajH/YC5omXNiDsd3rExPNbNyEt8B57TYjye07s9AdMZFm0RYyIFiJU41K1esLRFn1dxWY3kvqfDduH4tB1Jzi/nlbjsUCawEQ8WgBHE5yGPidWyNncEZgp23BPX8VmKy/rSJrqi3cSYB576PgutJsst+GVwwxcn/pnhlvW8GRXgq8FpjNv1WdVcYDXgksRUFOpe8vZ8wU62xAowJDG9DQTK33zeHG2mrUxhFONZVVzBAkQI/ACa5pGv31USq225kh22BlXBMWAs3XIC5O9cDpm4Vg/1tl2RLdo5jBeCTYkrUajX3XN1M3aAJg/TDraADrEUh5r8XzxcwZ4hLgpGo4o+dr/rXsqD3YQ3U7Qza6HWe33aAaRFFY+NfuHd8b7FMB7LciUbpcEakGZvzzI2ULqcwWrgwD/S1/2fF41d/wAAAABJRU5ErkJggg=="},229:function(e,t,n){"use strict";n.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABMUlEQVQ4T+XUsUrEQBCA4X8MCD6Cr6DPIOawFiy8gE9ga62BM7D6Aj6CYOHZnaAg6h62Yqed7dmKnUUYmbARDafZwBWCWyWb2W9nZ3cjzLjJjD2iwZVdXbw7lJe2BKLANNcUSOfg+MbJ82/oN7CX64nCVhjgvZNewG6tT+FhPmH9qpBJmqtanwgTVba9k/Pq/etsdRBQhOCRKvfAI7AcYsckbFCyE94HFu+d7P8EVh/XBrpUllwCb8AZMFAlE+EUYbTwSv/iSN5DEu1gmqvNuJkkZGVJZqB3Iqt72jfU8PGBDKNBS9+yvC7kKeAVaP2GGmbPncC6vk1wSt3bl9wYZMv/zPAfgKH4qXfim7ckZlOG3okdk6gWA0ZBjaDpuxwObX3FusB276tyRP1tush/H/wANP7LFUnxl7EAAAAASUVORK5CYII="},230:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){},237:function(e,t,n){},238:function(e,t,n){},239:function(e,t,n){},240:function(e,t,n){},244:function(e,t,n){},245:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(31),i=n.n(o),a=n(89),c=(n(151),n(32)),u=n(30),s=n(8),l=n(5),f=n.n(l),p=(n(152),n(105)),d=n(140),h=n(253),y=(n(153),n(1));function v(e){return Object(y.jsxs)("div",{className:"example-header",children:[Object(y.jsxs)("div",{className:"content",style:e.contentStyle,children:[e.content?Object(y.jsx)("span",{className:"content-text",children:e.content}):"",e.children]}),Object(y.jsxs)("div",{className:"tools",children:[Object(y.jsx)("a",{href:"http://logic-flow.org/examples/",rel:"noreferrer",target:"_blank",children:"\u67e5\u770b\u5168\u90e8\u793a\u4f8b"}),e.githubPath?Object(y.jsx)(p.a,{arrowPointAtCenter:!0,placement:"bottomRight",title:"\u5728 Github \u4e2d\u67e5\u770b",children:Object(y.jsx)(d.a,{type:"text",shape:"circle",target:"_blank",href:"https://github.com/didi/LogicFlow/tree/master/examples/src/pages"+e.githubPath,icon:Object(y.jsx)(h.a,{})})}):null]})]})}var b={stopScrollGraph:!0,stopZoomGraph:!0,grid:{type:"dot",size:20}},g={nodes:[{id:50,type:"rect",x:100,y:150,text:"\u4f60\u597d"},{id:21,type:"circle",x:300,y:150}],edges:[{type:"polyline",sourceNodeId:50,targetNodeId:21}]};var m=n(13),O=n(21),x=n(15),w=n(14),_=(n(224),function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).state={shapeList:[{type:"rect",text:"\u77e9\u5f62"},{type:"circle",text:"\u5706\u5f62"}]},r}return Object(O.a)(n,[{key:"mouseDown",value:function(e){var t=e.type,n=e.text;(0,this.props.mouseDownHandle)({type:t,text:n})}},{key:"render",value:function(){var e=this,t=this.state.shapeList;return Object(y.jsx)("div",{className:"panel",children:t.map((function(t){var n=t.type,r=t.text;return Object(y.jsxs)("div",{className:"panel-item",children:[Object(y.jsx)("div",{className:"panel-".concat(n),onMouseDown:function(){e.mouseDown(t)}}),Object(y.jsx)("span",{children:r})]},n)}))})}}]),n}(r.Component)),j=(n(225),function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lf=void 0,e.mouseDownHandle=function(t){e.lf.dnd.startDrag(t)},e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.lf=new f.a({container:document.querySelector("#graph"),stopScrollGraph:!0,stopZoomGraph:!0}),this.lf.render()}},{key:"render",value:function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u62d6\u62fd\u9762\u677f\u4e0a\u7684\u56fe\u5f62\u751f\u6210\u8282\u70b9",githubPath:"/basic/dnd/index.tsx"}),Object(y.jsxs)("div",{className:"dnd-example-container",children:[Object(y.jsx)(_,{mouseDownHandle:this.mouseDownHandle}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})]})}}]),n}(r.Component)),E=(n(77),n(226),{isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0}),S={nodes:[{id:10,type:"rect",x:100,y:100,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:400,y:100,text:"\u4f60\u597d\uff01"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,endPoint:{id:"150-150",x:350,y:100}}]},P=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).dotlf=void 0,r.meshlf=void 0,r.handleClick=function(e){e!==r.state.currentGrid&&r.setState({currentGrid:e})},r.dotlf=null,r.meshlf=null,r.state={currentGrid:"dot"},r}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.dotlf=new f.a(Object(s.a)(Object(s.a)({},E),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graphDot")})),this.meshlf=new f.a(Object(s.a)(Object(s.a)({},E),{},{grid:{size:10,type:"mesh"},container:document.querySelector("#graphMesh")})),this.dotlf.render(S),this.meshlf.render(S)}},{key:"render",value:function(){var e=this,t=this.state.currentGrid;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{githubPath:"/basic/grid/index.tsx",children:["\u7f51\u683c\u7c7b\u578b\uff1a",Object(y.jsx)(d.a,{onClick:function(){e.handleClick("dot")},children:"Dot"}),Object(y.jsx)(d.a,{onClick:function(){e.handleClick("mesh")},children:"Mesh"})]}),Object(y.jsx)("div",{id:"graphDot",className:"viewport example-grid-".concat("dot"===t?"visible":"hidden")}),Object(y.jsx)("div",{id:"graphMesh",className:"viewport example-grid-".concat("mesh"===t?"visible":"hidden")})]})}}]),n}(r.Component),A={isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0,style:{rect:{width:100,height:50}}},k={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"}]};var N=n(98),M=new N.a([32,32,1]);function D(){return M.next()}var T=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(){return(C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},I=function(e){function t(t,n){return t.id||(t.id="Event_"+D()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),e.call(this,t,n)||this}return T(t,e),t.prototype.getConnectedTargetRules=function(){var t=e.prototype.getConnectedTargetRules.call(this);return t.push({message:"\u8d77\u59cb\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fde\u7ebf\u7684\u7ec8\u70b9",validate:function(){return!1}}),t},t.extendKey="StartEventModel",t}(l.CircleNodeModel),R={type:"bpmn:startEvent",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return T(t,e),t.prototype.getAttributes=function(){var t=e.prototype.getAttributes.call(this);return C({},t)},t.extendKey="StartEventNode",t}(l.CircleNode),model:I},L=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),z=function(e){function t(t,n){return t.id||(t.id="Event_"+D()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),e.call(this,t,n)||this}return L(t,e),t.prototype.getConnectedSourceRules=function(){var t=e.prototype.getConnectedSourceRules.call(this);return t.push({message:"\u7ed3\u675f\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fde\u7ebf\u7684\u8d77\u70b9",validate:function(){return!1}}),t},t.extendKey="EndEventModel",t}(l.CircleNodeModel),B={type:"bpmn:endEvent",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return L(t,e),t.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},t.prototype.getShape=function(){var t=this.getAttributes(),n=t.x,r=t.y,o=t.fill,i=t.stroke,a=t.strokeWidth,c=t.r,u=e.prototype.getShape.call(this);return Object(l.h)("g",{},u,Object(l.h)("circle",{cx:n,cy:r,fill:o,stroke:i,strokeWidth:a,r:c-5}))},t.extendKey="EndEventView",t}(l.CircleNode),model:z},G=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(e){function t(t,n){var r=this;return t.id||(t.id="Gateway_"+D()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),(r=e.call(this,t,n)||this).points=[[25,0],[50,25],[25,50],[0,25]],r}return G(t,e),t.extendKey="ExclusiveGatewayModel",t}(l.PolygonNodeModel),U={type:"bpmn:exclusiveGateway",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return G(t,e),t.prototype.getShape=function(){var t=e.prototype.getAttributes.call(this),n=t.x,r=t.y,o=t.fill,i=t.stroke,a=t.strokeWidth,c=t.width,u=t.height,s=t.points;return Object(l.h)("g",{transform:"matrix(1 0 0 1 "+(n-c/2)+" "+(r-u/2)+")"},Object(l.h)("polygon",{fill:o,x:n,y:r,stroke:i,strokeWidth:a,points:s}),Object(l.h)("path",{fill:o,stroke:i,strokeWidth:a,d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"}))},t.extendKey="ExclusiveGatewayNode",t}(l.PolygonNode),model:F},X=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=function(e){function t(t,n){return t.id||(t.id="Activity_"+D()),e.call(this,t,n)||this}return X(t,e),t.extendKey="UserTaskModel",t}(l.RectNodeModel),Y={type:"bpmn:userTask",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype.getLabelShape=function(){var t=e.prototype.getAttributes.call(this),n=t.x,r=t.y,o=t.width,i=t.height,a=t.stroke;return Object(l.h)("svg",{x:n-o/2+5,y:r-i/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Object(l.h)("path",{fill:a,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},t.prototype.getShape=function(){var t=e.prototype.getAttributes.call(this),n=t.x,r=t.y,o=t.width,i=t.height,a=t.fill,c=t.stroke,u=t.strokeWidth,s=t.radius;return Object(l.h)("g",{},[Object(l.h)("rect",{x:n-o/2,y:r-i/2,rx:s,ry:s,fill:a,stroke:c,strokeWidth:u,width:o,height:i}),this.getLabelShape()])},t.extendKey="UserTaskNode",t}(l.RectNode),model:H},V=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W=function(e){function t(t,n){return t.id||(t.id="Activity_"+D()),e.call(this,t,n)||this}return V(t,e),t.extendKey="ServiceTaskModel",t}(l.RectNodeModel),K={type:"bpmn:serviceTask",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return V(t,e),t.prototype.getLabelShape=function(){var t=e.prototype.getAttributes.call(this),n=t.x,r=t.y,o=t.width,i=t.height,a=t.stroke;return Object(l.h)("svg",{x:n-o/2+5,y:r-i/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Object(l.h)("path",{fill:a,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},t.prototype.getShape=function(){var t=e.prototype.getAttributes.call(this),n=t.x,r=t.y,o=t.width,i=t.height,a=t.fill,c=t.stroke,u=t.strokeWidth,s=t.radius;return Object(l.h)("g",{},[Object(l.h)("rect",{x:n-o/2,y:r-i/2,rx:s,ry:s,fill:a,stroke:c,strokeWidth:u,width:o,height:i}),this.getLabelShape()])},t.extendKey="ServiceTaskNode",t}(l.RectNode),model:W},Z=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=function(e){function t(t,n){return t.id||(t.id="Flow_"+D()),e.call(this,t,n)||this}return Z(t,e),t.extendKey="SequenceFlowModel",t}(l.PolylineEdgeModel),$={type:"bpmn:sequenceFlow",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Z(t,e),t.extendKey="SequenceFlowEdge",t}(l.PolylineEdge),model:q},Q=40,J=40,ee=40,te=40,ne=40,re=40,oe=100,ie=80,ae=100,ce=80,ue={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},se=function(){function e(e){var t=e.lf;t.setTheme(ue),t.register(R),t.register(B),t.register(U),t.register(Y),t.register(K),t.options.customBpmnEdge||(t.register($),t.setDefaultEdgeType("bpmn:sequenceFlow"))}return e.pluginName="BpmnElement",e}(),le={pluginName:"snapshot",install:function(e){var t=this;this.lf=e,this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,e.getSnapshot=function(n,r){t.fileName=n||"logic-flow."+Date.now()+".png";var o=t.getSvgRootElement(e);t.downloadSvg(o,t.fileName,r)},e.getSnapshotBlob=function(n){var r=t.getSvgRootElement(e);return t.getBlob(r,n)},e.getSnapshotBase64=function(n){var r=t.getSvgRootElement(e);return t.getBase64(r,n)}},getSvgRootElement:function(e){var t=this;return e.graphModel.nodes.forEach((function(e){var n=e.x-e.width/2,r=e.y-e.height/2;n<t.offsetX&&(t.offsetX=n-5),r<t.offsetY&&(t.offsetY=r-5)})),e.graphModel.edges.forEach((function(e){e.pointsList&&e.pointsList.forEach((function(e){var n=e.x,r=e.y;n<t.offsetX&&(t.offsetX=n-5),r<t.offsetY&&(t.offsetY=r-5)}))})),e.container.querySelector("svg")},triggerDownload:function(e){var t=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),n=document.createElement("a");n.setAttribute("download",this.fileName),n.setAttribute("href",e),n.setAttribute("target","_blank"),n.dispatchEvent(t)},removeAnchor:function(e){for(var t=e.childNodes,n=e.childNodes&&e.childNodes.length,r=0;r<n;r++){var o=t[r];(o.classList&&Array.from(o.classList)||[]).indexOf("lf-anchor")>-1&&(e.removeChild(e.childNodes[r]),n--,r--)}},downloadSvg:function(e,t,n){var r=this;this.getCanvasData(e,n).then((function(e){var n=e.toDataURL("image/png").replace("image/png","image/octet-stream");r.triggerDownload(n,t)}))},getBase64:function(e,t){var n=this;return new Promise((function(r){n.getCanvasData(e,t).then((function(e){var t=e.toDataURL("image/png");r({data:t,width:e.width,height:e.height})}))}))},getBlob:function(e,t){var n=this;return new Promise((function(r){n.getCanvasData(e,t).then((function(e){e.toBlob((function(t){r({data:t,width:e.width,height:e.height})}),"image/png")}))}))},getCanvasData:function(e,t){var n=this,r=e.cloneNode(!0),o=r.lastChild,i=o.childNodes&&o.childNodes.length;if(i)for(var a=0;a<i;a++){var c=o.childNodes[a],u=c.classList&&Array.from(c.classList);if(u&&u.indexOf("lf-base")<0)o.removeChild(o.childNodes[a]),i--,a--;else{var s=o.childNodes[a];s&&s.childNodes.forEach((function(e){var t=e;n.removeAnchor(t.firstChild)}))}}r.lastChild.style.transform="matrix(1, 0, 0, 1, "+(10-this.offsetX)+", "+(10-this.offsetY)+")";var l=window.devicePixelRatio||1,f=document.createElement("canvas"),p=document.getElementsByClassName("lf-base")[0].getBoundingClientRect(),d=this.lf.graphModel.transformMatrix,h=d.SCALE_X,y=d.SCALE_Y,v=Math.ceil(p.width/h),b=Math.ceil(p.height/y);f.style.width=v+"px",f.style.height=b+"px",f.width=v*l+80,f.height=b*l+80;var g=f.getContext("2d");g.scale(l,l),t?(g.fillStyle=t,g.fillRect(0,0,v*l+80,b*l+80)):g.clearRect(0,0,v,b);var m=new Image;return new Promise((function(e){m.onload=function(){g.drawImage(m,0,0),e(f)};var t=("data:image/svg+xml;charset=utf-8,"+(new XMLSerializer).serializeToString(r)).replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");m.src=t}))}},fe=new N.a([32,32,1]);function pe(){return fe.next()}function de(e,t){for(var n=0;n<t;n++)e+="  ";return e}function he(e,t,n,r){var o="";if(e instanceof Array)for(var i=0,a=e.length;i<a;i++)o+=de(n,r)+he(e[i],t,n,r+1);else if("object"==typeof e){var c=!1;for(var u in o+=de(n,r)+"<"+t,e)"-"==u.charAt(0)?o+=" "+u.substr(1)+'="'+e[u].toString()+'"':c=!0;if(o+=c?">":" />",c){for(var u in e)"#text"==u?o+=e[u]:"#cdata"==u?o+="<![CDATA["+e[u]+"]]>":"-"!=u.charAt(0)&&(o+=he(e[u],u,n,r+1));o+=de(n,r)+"</"+t+">"}}else o+=de(n,r)+"<"+t+">"+e.toString()+"</"+t+">";return o}var ye=function(){};(ye.ObjTree=function(){return this}).VERSION="0.23",ye.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',ye.ObjTree.prototype.attr_prefix="-",ye.ObjTree.prototype.parseXML=function(e){var t;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(e,"application/xml");if(!r)return;t=r.documentElement}else window.ActiveXObject&&((n=new ActiveXObject("Microsoft.XMLDOM")).async=!1,n.loadXML(e),t=n.documentElement);if(t)return this.parseDOM(t)},ye.ObjTree.prototype.parseHTTP=function(e,t,n){var r,o={};for(var i in t)o[i]=t[i];if(o.method||("undefined"==typeof o.postBody&&"undefined"==typeof o.postbody&&"undefined"==typeof o.parameters?o.method="get":o.method="post"),n){o.asynchronous=!0;var a=this,c=n,u=o.onComplete;o.onComplete=function(e){var t;e&&e.responseXML&&e.responseXML.documentElement&&(t=a.parseDOM(e.responseXML.documentElement)),c(t,e),u&&u(e)}}else o.asynchronous=!1;if("undefined"!=typeof HTTP&&HTTP.Request)o.uri=e,(s=new HTTP.Request(o))&&(r=s.transport);else if("undefined"!=typeof Ajax&&Ajax.Request){var s;(s=new Ajax.Request(e,o))&&(r=s.transport)}return n?r:r&&r.responseXML&&r.responseXML.documentElement?this.parseDOM(r.responseXML.documentElement):void 0},ye.ObjTree.prototype.parseDOM=function(e){if(e){if(this.__force_array={},this.force_array)for(var t=0;t<this.force_array.length;t++)this.__force_array[this.force_array[t]]=1;var n=this.parseElement(e);if(this.__force_array[e.nodeName]&&(n=[n]),11!=e.nodeType){var r={};r[e.nodeName]=n,n=r}return n}},ye.ObjTree.prototype.parseElement=function(e){if(7!=e.nodeType){if(3==e.nodeType||4==e.nodeType){if(null==e.nodeValue.match(/[^\x00-\x20]/))return;return e.nodeValue}var t,n={};if(e.attributes&&e.attributes.length){t={};for(var r=0;r<e.attributes.length;r++){if("string"==typeof(a=e.attributes[r].nodeName))(c=e.attributes[r].nodeValue)&&("undefined"==typeof n[a=this.attr_prefix+a]&&(n[a]=0),n[a]++,this.addNode(t,a,n[a],c))}}if(e.childNodes&&e.childNodes.length){var o=!0;t&&(o=!1);for(r=0;r<e.childNodes.length&&o;r++){var i=e.childNodes[r].nodeType;3!=i&&4!=i&&(o=!1)}if(o){t||(t="");for(r=0;r<e.childNodes.length;r++)t+=e.childNodes[r].nodeValue}else{t||(t={});for(r=0;r<e.childNodes.length;r++){var a,c;if("string"==typeof(a=e.childNodes[r].nodeName))(c=this.parseElement(e.childNodes[r]))&&("undefined"==typeof n[a]&&(n[a]=0),n[a]++,this.addNode(t,a,n[a],c))}}}return t}},ye.ObjTree.prototype.addNode=function(e,t,n,r){this.__force_array[t]?(1==n&&(e[t]=[]),e[t][e[t].length]=r):1==n?e[t]=r:2==n?e[t]=[e[t],r]:e[t][e[t].length]=r},ye.ObjTree.prototype.writeXML=function(e){var t=this.hash_to_xml(null,e);return this.xmlDecl+t},ye.ObjTree.prototype.hash_to_xml=function(e,t){var n=[],r=[];for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];o.charAt(0)!=this.attr_prefix?"undefined"==typeof i||null==i?n[n.length]="<"+o+" />":"object"==typeof i&&i.constructor==Array?n[n.length]=this.array_to_xml(o,i):n[n.length]="object"==typeof i?this.hash_to_xml(o,i):this.scalar_to_xml(o,i):r[r.length]=" "+o.substring(1)+'="'+this.xml_escape(i)+'"'}var a=r.join(""),c=n.join("");return"undefined"==typeof e||null==e||(c=n.length>0?c.match(/\n/)?"<"+e+a+">\n"+c+"</"+e+">\n":"<"+e+a+">"+c+"</"+e+">\n":"<"+e+a+" />\n"),c},ye.ObjTree.prototype.array_to_xml=function(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r];"undefined"==typeof o||null==o?n[n.length]="<"+e+" />":"object"==typeof o&&o.constructor==Array?n[n.length]=this.array_to_xml(e,o):n[n.length]="object"==typeof o?this.hash_to_xml(e,o):this.scalar_to_xml(e,o)}return n.join("")},ye.ObjTree.prototype.scalar_to_xml=function(e,t){return"#text"==e?this.xml_escape(t):"<"+e+">"+this.xml_escape(t)+"</"+e+">\n"},ye.ObjTree.prototype.xml_escape=function(e){return e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var ve,be=ye,ge=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};!function(e){e.START="bpmn:startEvent",e.END="bpmn:endEvent",e.GATEWAY="bpmn:exclusiveGateway",e.USER="bpmn:userTask",e.SYSTEM="bpmn:serviceTask",e.FLOW="bpmn:sequenceFlow"}(ve||(ve={}));var me=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function Oe(e){var t={};return Object.entries(e).forEach((function(e){var n=ge(e,2),r=n[0],o=n[1];"object"!==typeof o?0===r.indexOf("-")?t[r]=o:t["-"+r]=o:t[r]=Oe(o)})),t}function xe(e){var t={};return Object.entries(e).forEach((function(e){var n=ge(e,2),r=n[0],o=n[1];"string"===typeof o?0===r.indexOf("-")?t[r.substr(1)]=o:t[r]=o:t[r]="object"===typeof o?xe(o):o})),t}function we(e){var t=[],n=[],r=e["bpmn:definitions"];if(r){var o=r["bpmn:process"];Object.keys(o).forEach((function(e){if(0===e.indexOf("bpmn:")){var i=o[e];if(e===ve.FLOW){var a=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];n=function(e,t){var n=[];if(Array.isArray(e))e.forEach((function(e){var r;r=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n.push(je(r,e))}));else{var r=void 0;r=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n.push(je(r,e))}return n}(i,a)}else{var c=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];t=t.concat(function(e,t,n){var r=[];if(Array.isArray(e))e.forEach((function(e){var o=_e(Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n,e);r.push(o)}));else{var o=_e(Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n,e);r.push(o)}return r}(i,c,e))}}}))}return{nodes:t,edges:n}}function _e(e,t,n){var r,o,i=Number(e["dc:Bounds"]["-x"]),a=Number(e["dc:Bounds"]["-y"]),c=n["-name"],u=Ee.shapeConfigMap.get(t);if(u&&(i+=u.width/2,a+=u.height/2),Object.entries(n).forEach((function(e){var t=ge(e,2),n=t[0],o=t[1];-1===me.indexOf(n)&&(r||(r={}),r[n]=o)})),r&&(r=xe(r)),c&&(o={x:i,y:a,value:c},e["bpmndi:BPMNLabel"]&&e["bpmndi:BPMNLabel"]["dc:Bounds"])){var s=e["bpmndi:BPMNLabel"]["dc:Bounds"];o.x=Number(s["-x"])+Number(s["-width"])/2,o.y=Number(s["-y"])+Number(s["-height"])/2}var l={id:e["-bpmnElement"],type:t,x:i,y:a,properties:r};return o&&(l.text=o),l}function je(e,t){var n,r,o=t["-name"];if(o){var i=e["bpmndi:BPMNLabel"]["dc:Bounds"],a=0;o.split("\n").forEach((function(e){a<e.length&&(a=e.length)})),n={value:o,x:Number(i["-x"])+10*a/2,y:Number(i["-y"])+7}}Object.entries(t).forEach((function(e){var t=ge(e,2),n=t[0],o=t[1];-1===me.indexOf(n)&&(r||(r={}),r[n]=o)})),r&&(r=xe(r));var c={id:t["-id"],type:ve.FLOW,pointsList:e["di:waypoint"].map((function(e){return{x:Number(e["-x"]),y:Number(e["-y"])}})),sourceNodeId:t["-sourceRef"],targetNodeId:t["-targetRef"],properties:r};return n&&(c.text=n),c}var Ee={pluginName:"bpmn-adapter",install:function(e){e.adapterIn=this.adapterIn,e.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(e,t){this.shapeConfigMap.set(e,t)},adapterOut:function(e){var t={"-id":"Process_"+pe(),"-isExecutable":"false"};!function(e,t){var n=new Map;t.nodes.forEach((function(t){var r,o={"-id":t.id};if((null===(r=t.text)||void 0===r?void 0:r.value)&&(o["-name"]=t.text.value),t.properties){var i=Oe(t.properties);Object.assign(o,i)}n.set(t.id,o),e[t.type]?Array.isArray(e[t.type])?e[t.type].push(o):e[t.type]=[e[t.type],o]:e[t.type]=o}));var r=t.edges.map((function(e){var t,r,o=n.get(e.targetNodeId);o["bpmn:incoming"]?Array.isArray(o["bpmn:incoming"])?o["bpmn:incoming"].push(e.id):o["bpmn:incoming"]=[o["bpmn:incoming"],e.id]:o["bpmn:incoming"]=e.id;var i=n.get(e.sourceNodeId);i["bpmn:outgoing"]?Array.isArray(i["bpmn:outgoing"])?i["bpmn:outgoing"].push(e.id):i["bpmn:outgoing"]=[i["bpmn:outgoing"],e.id]:i["bpmn:outgoing"]=e.id;var a={"-id":e.id,"-sourceRef":e.sourceNodeId,"-targetRef":e.targetNodeId};if((null===(t=e.text)||void 0===t?void 0:t.value)&&(a["-name"]=null===(r=e.text)||void 0===r?void 0:r.value),e.properties){var c=Oe(e.properties);Object.assign(a,c)}return a}));e[ve.FLOW]=r}(t,e);var n={"-id":"BPMNPlane_1","-bpmnElement":t["-id"]};return function(e,t){e["bpmndi:BPMNEdge"]=t.edges.map((function(e){var t,n=e.id,r={"-id":n+"_di","-bpmnElement":n,"di:waypoint":e.pointsList.map((function(e){return{"-x":e.x,"-y":e.y}}))};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(r["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),r})),e["bpmndi:BPMNShape"]=t.nodes.map((function(e){var t,n=e.id,r=100,o=80,i=e.x,a=e.y,c=Ee.shapeConfigMap.get(e.type);c&&(r=c.width,o=c.height);var u={"-id":n+"_di","-bpmnElement":n,"dc:Bounds":{"-x":i-=r/2,"-y":a-=o/2,"-width":r,"-height":o}};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(u["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),u}))}(n,e),{"bpmn:definitions":{"-id":"Definitions_"+pe(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":t,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":n}}}},adapterIn:function(e){if(e)return we(e)}};Ee.shapeConfigMap.set(ve.START,{width:Q,height:J}),Ee.shapeConfigMap.set(ve.END,{width:ee,height:te}),Ee.shapeConfigMap.set(ve.GATEWAY,{width:ne,height:re}),Ee.shapeConfigMap.set(ve.SYSTEM,{width:oe,height:ie}),Ee.shapeConfigMap.set(ve.USER,{width:ae,height:ce});var Se,Pe={pluginName:"bpmn-xml-adapter",install:function(e){e.adapterIn=this.adapterXmlIn,e.adapterOut=this.adapterXmlOut},adapterXmlIn:function(e){var t=(new be.ObjTree).parseXML(e);return Ee.adapterIn(t)},adapterXmlOut:function(e){return function(e){var t="";for(var n in e)t+=he(e[n],n,"\t\n",0);return t}(Ee.adapterOut(e))}},Ae=function(){return(Ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function ke(e){switch(e){case"bpmn:sequenceFlow":return Se.SEQUENCE_FLOW;case"bpmn:startEvent":return Se.START_EVENT;case"bpmn:endEvent":return Se.END_EVENT;case"bpmn:userTask":return Se.USER_TASK;case"bpmn:exclusiveGateway":return Se.EXCLUSIVE_GATEWAY;default:return e}}function Ne(e){var t=new Map,n={flowElementList:[]};return e.nodes.forEach((function(e){var r=function(e){var t=e.id,n=e.type,r=e.x,o=e.y,i=e.text,a=void 0===i?"":i,c=e.properties;return{incoming:[],outgoing:[],dockers:[],type:ke(e.type),properties:Ae(Ae({},c),{name:a&&a.value||"",x:r,y:o,text:a,logicFlowType:n}),key:t}}(e);n.flowElementList.push(r),t.set(e.id,r)})),e.edges.forEach((function(e){var r=function(e){var t=e.id,n=e.type,r=e.sourceNodeId,o=e.targetNodeId,i=e.startPoint,a=e.endPoint,c=e.pointsList,u=e.text,s=void 0===u?"":u,l=e.properties;return{incoming:[r],outgoing:[o],type:ke(n),dockers:[],properties:Ae(Ae({},l),{name:s&&s.value||"",text:s,startPoint:i,endPoint:a,pointsList:c,logicFlowType:n}),key:t}}(e);t.get(e.sourceNodeId).outgoing.push(r.key),t.get(e.targetNodeId).incoming.push(r.key),n.flowElementList.push(r)})),n}function Me(e){var t={nodes:[],edges:[]},n=e.flowElementList;return n&&n.length>0&&n.forEach((function(e){if(e.type===Se.SEQUENCE_FLOW){var n=function(e){var t=e.incoming,n=e.outgoing,r=e.properties,o=e.key,i=r.text,a=r.startPoint,c=r.endPoint,u=r.pointsList,s={id:o,type:r.logicFlowType,sourceNodeId:t[0],targetNodeId:n[0],text:i,startPoint:a,endPoint:c,pointsList:u,properties:{}},l=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(e.properties).forEach((function(t){-1===l.indexOf(t)&&(s.properties[t]=e.properties[t])})),s}(e);t.edges.push(n)}else{var r=function(e){var t=e.properties,n=e.key,r=t.x,o=t.y,i=t.text,a={id:n,type:t.logicFlowType,x:r,y:o,text:i,properties:{}},c=["x","y","text","logicFlowType"];return Object.keys(e.properties).forEach((function(t){-1===c.indexOf(t)&&(a.properties[t]=e.properties[t])})),a}(e);t.nodes.push(r)}})),t}!function(e){e[e.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",e[e.START_EVENT=2]="START_EVENT",e[e.END_EVENT=3]="END_EVENT",e[e.USER_TASK=4]="USER_TASK",e[e.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY"}(Se||(Se={}));var De;new Map;!function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(De||(De={}));var Te,Ce=function(e,t,n){var r=e.x,o=e.y;return(r-t.x)*(r-n.x)<=0&&(o-t.y)*(o-n.y)<=0},Ie=function(e,t,n){var r=function(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{minX:t-r/2,minY:n-o/2,maxX:t+r/2,maxY:n+o/2,x:t,y:n,width:r,height:o,centerX:t,centerY:n}}(e),o=function(e,t){var n;return e.x===t.x?n=De.VERTICAL:e.y===t.y&&(n=De.HORIZONTAL),n}(t,n),i=Math.max(t.x,n.x),a=Math.min(t.x,n.x),c=Math.max(t.y,n.y),u=Math.min(t.y,n.y),s=e.x,l=e.y,f=e.width,p=e.height;if(o===De.HORIZONTAL){if(t.y===l&&i>=r.maxX&&a<=r.minX)return{startCrossPoint:{x:t.x>n.x?s+f/2:s-f/2,y:l},endCrossPoint:{x:t.x>n.x?s-f/2:s+f/2,y:l}}}else if(o===De.VERTICAL&&t.x===e.x&&c>=r.maxY&&u<=r.minY)return{startCrossPoint:{x:s,y:t.y>n.y?l+p/2:l-p/2},endCrossPoint:{x:s,y:t.y>n.y?l-p/2:l+p/2}}},Re=function(e,t){for(var n=e.x,r=e.y,o=t.pointsList,i=0;i<o.length-1;i++)if(Ce({x:n,y:r},o[i],o[i+1])){var a=Ie(e,o[i],o[i+1]);if(a)return{crossIndex:i+1,crossPoints:a}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},Le=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ze=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Le(arguments[t]));return e},Be={pluginName:"insert-node-in-polyline",_lf:null,dndAdd:!0,dropAdd:!0,install:function(e){Be._lf=e,this.eventHandler()},eventHandler:function(){var e=this;Be.dndAdd&&Be._lf.on("node:dnd-add",(function(e){var t=e.data;Be.insetNode(t)})),Be.dropAdd&&Be._lf.on("node:drop",(function(t){for(var n=t.data,r=e._lf.graphModel.edges,o=n.id,i=!0,a=0;a<r.length;a++)if(r[a].sourceNodeId===o||r[a].targetNodeId===o){i=!1;break}i&&Be.insetNode(n)}))},insetNode:function(e){for(var t=this._lf.graphModel.edges,n=this._lf.getNodeModel(e.id),r=0;r<t.length;r++){var o=Re(n,t[r]),i=o.crossIndex,a=o.crossPoints;if(i>=0){var c=t[r],u=c.sourceNodeId,s=c.targetNodeId,l=c.id,f=c.type,p=c.pointsList;this._lf.createEdge({type:f,sourceNodeId:u,targetNodeId:e.id,pointsList:ze(p.slice(0,i),[a.startCrossPoint])}),this._lf.createEdge({type:f,sourceNodeId:e.id,targetNodeId:s,pointsList:ze([a.endCrossPoint],p.slice(i))}),this._lf.deleteEdge(l);break}}}},Ge=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Fe=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ge(arguments[t]));return e},Ue={pluginName:"control",__lf:null,__controlItems:[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7f29\u5c0f\u6d41\u7a0b\u56fe",text:"\u7f29\u5c0f",onClick:function(){Ue.__lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653e\u5927\u6d41\u7a0b\u56fe",text:"\u653e\u5927",onClick:function(){Ue.__lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590d\u6d41\u7a0b\u539f\u6709\u5c3a\u5bf8",text:"\u9002\u5e94",onClick:function(){Ue.__lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56de\u5230\u4e0a\u4e00\u6b65",text:"\u4e0a\u4e00\u6b65",onClick:function(){Ue.__lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79fb\u5230\u4e0b\u4e00\u6b65",text:"\u4e0b\u4e00\u6b65",onClick:function(){Ue.__lf.redo()}}],addItem:function(e){Ue.__controlItems.push(e)},removeItem:function(e){var t=Ue.__controlItems.findIndex((function(t){return t.key===e}));return Ue.__controlItems.splice(t,1)[0]},install:function(){},render:function(e,t){Ue.__lf=e,Ue.__domContainer=t,Ue.__tool=this.__getControlTool(),t.appendChild(Ue.__tool)},destroy:function(){var e;try{null===(e=Ue.__domContainer)||void 0===e||e.removeChild(Ue.__tool)}catch(t){console.warn("unexpect destory error",t)}},__getControlTool:function(){var e="lf-control-item",t="lf-control-item disabled",n=document.createElement("div"),r=[];return n.className="lf-control",Ue.__controlItems.forEach((function(n){var o=document.createElement("div"),i=document.createElement("i"),a=document.createElement("span");switch(o.className=t,n.onClick&&(o.onclick=n.onClick.bind(null,Ue.__lf)),n.onMouseEnter&&(o.onmouseenter=n.onMouseEnter.bind(null,Ue.__lf)),n.onMouseLeave&&(o.onmouseleave=n.onMouseLeave.bind(null,Ue.__lf)),i.className=n.iconClass,a.className="lf-control-text",a.title=n.title,a.innerText=n.text,o.append(i,a),n.text){case"\u4e0a\u4e00\u6b65":Ue.__lf.on("history:change",(function(n){var r=n.data.undoAble;o.className=r?e:t}));break;case"\u4e0b\u4e00\u6b65":Ue.__lf.on("history:change",(function(n){var r=n.data.redoAble;o.className=r?e:t}));break;default:o.className=e}r.push(o)})),n.append.apply(n,Fe(r)),n}},Xe=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},He=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Xe(arguments[t]));return e},Ye="lf:defaultNodeMenu",Ve="lf:defaultEdgeMenu",We="lf:defaultGraphMenu",Ke="lf:defaultSelectionMenu",Ze=function(){function e(e){var t=this,n=e.lf;this.__menuDOM=document.createElement("ul"),this.lf=n,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(e){t.resetMenuItem(e)},this.lf.addMenuConfig=function(e){t.addMenuItem(e)},this.lf.setMenuByType=function(e){t.setMenuByType(e)}}return e.prototype.init=function(){var e=this,t=[{text:"\u5220\u9664",callback:function(t){e.lf.deleteNode(t.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(t){e.lf.graphModel.setTextEditable(t.id)}},{text:"\u590d\u5236",callback:function(t){e.lf.cloneNode(t.id)}}];this.menuTypeMap.set(Ye,t);var n=[{text:"\u5220\u9664",callback:function(t){e.lf.deleteEdge(t.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(t){e.lf.graphModel.setTextEditable(t.id)}}];this.menuTypeMap.set(Ve,n),this.menuTypeMap.set(We,[]);var r=[{text:"\u5220\u9664",callback:function(t){e.lf.clearSelectElements(),t.edges.forEach((function(t){return e.lf.deleteEdge(t.id)})),t.nodes.forEach((function(t){return e.lf.deleteNode(t.id)}))}}];this.menuTypeMap.set(Ke,r)},e.prototype.render=function(e,t){var n=this;this.__container=t,this.__currentData=null,this.__menuDOM.className="lf-menu",t.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",(function(e){e.stopPropagation();for(var t=e.target;-1===Array.from(t.classList).indexOf("lf-menu-item")&&-1===Array.from(t.classList).indexOf("lf-menu");)t=t.parentElement;Array.from(t.classList).indexOf("lf-menu-item")>-1?(t.onclickCallback(n.__currentData),n.__menuDOM.style.display="none",n.__currentData=null):console.warn("\u70b9\u51fb\u533a\u57df\u4e0d\u5728\u83dc\u5355\u9879\u5185\uff0c\u8bf7\u68c0\u67e5\u4ee3\u7801\uff01")}),!0),this.lf.on("node:contextmenu",(function(e){var t=e.data,r=e.position.domOverlayPosition,o=r.x,i=r.y,a=t.id,c=n.lf.graphModel.getNodeModel(a),u=[],s=n.menuTypeMap.get(c.type);u=c&&c.menu&&Array.isArray(c.menu)?c.menu:s||n.menuTypeMap.get(Ye),n.__currentData=t,n.showMenu(o,i,u)})),this.lf.on("edge:contextmenu",(function(e){var t=e.data,r=e.position.domOverlayPosition,o=r.x,i=r.y,a=t.id,c=n.lf.graphModel.getEdgeModel(a),u=[],s=n.menuTypeMap.get(c.type);u=c&&c.menu&&Array.isArray(c.menu)?c.menu:s||n.menuTypeMap.get(Ve),n.__currentData=t,n.showMenu(o,i,u)})),this.lf.on("blank:contextmenu",(function(e){var t=e.position,r=n.menuTypeMap.get(We),o=t.domOverlayPosition,i=o.x,a=o.y;n.showMenu(i,a,r)})),this.lf.on("selection:contextmenu",(function(e){var t=e.data,r=e.position,o=n.menuTypeMap.get(Ke),i=r.domOverlayPosition,a=i.x,c=i.y;n.__currentData=t,n.showMenu(a,c,o)})),this.lf.on("node:mousedown",(function(){n.__menuDOM.style.display="none"})),this.lf.on("edge:click",(function(){n.__menuDOM.style.display="none"})),this.lf.on("blank:click",(function(){n.__menuDOM.style.display="none"}))},e.prototype.destroy=function(){var e;null===(e=null===this||void 0===this?void 0:this.__container)||void 0===e||e.removeChild(this.__menuDOM),this.__menuDOM=null},e.prototype.showMenu=function(e,t,n){if(n&&n.length){var r=this.__menuDOM;r.innerHTML="",r.append.apply(r,He(this.__getMenuDom(n))),r.children.length&&(r.style.display="block",r.style.top=t+"px",r.style.left=e+"px")}},e.prototype.setMenuByType=function(e){e.type&&e.menu&&this.menuTypeMap.set(e.type,e.menu)},e.prototype.__getMenuDom=function(e){var t=[];return e&&e.length>0&&e.forEach((function(e){var n=document.createElement("li");if(e.className?n.className="lf-menu-item "+e.className:n.className="lf-menu-item",!0===e.icon){var r=document.createElement("span");r.className="lf-menu-item-icon",n.appendChild(r)}var o=document.createElement("span");o.className="lf-menu-item-text",e.text&&(o.innerText=e.text),n.appendChild(o),n.onclickCallback=e.callback,t.push(n)})),t},e.prototype.resetMenuItem=function(e){e&&(void 0!==e.nodeMenu&&this.menuTypeMap.set(Ye,e.nodeMenu?e.nodeMenu:[]),void 0!==e.edgeMenu&&this.menuTypeMap.set(Ve,e.edgeMenu?e.edgeMenu:[]),void 0!==e.graphMenu&&this.menuTypeMap.set(We,e.graphMenu?e.graphMenu:[]))},e.prototype.addMenuItem=function(e){if(e){if(Array.isArray(e.nodeMenu)){var t=this.menuTypeMap.get(Ye);this.menuTypeMap.set(Ye,t.concat(e.nodeMenu))}if(Array.isArray(e.edgeMenu)){t=this.menuTypeMap.get(Ve);this.menuTypeMap.set(Ve,t.concat(e.edgeMenu))}if(Array.isArray(e.graphMenu)){t=this.menuTypeMap.get(We);this.menuTypeMap.set(We,t.concat(e.graphMenu))}}},e.prototype.changeMenuItem=function(e,t){if("add"===e)this.addMenuItem(t);else{if("reset"!==e)throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'");this.resetMenuItem(t)}},e.pluginName="Menu",e}(),qe=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},$e="menu-common",Qe=(function(){function e(e){var t=this,n=e.lf;this.menuTypeMap=new Map,this.listenDelete=function(){t.hideMenu()},this.lf=n,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set($e,[]),this.lf.setContextMenuByType=function(e,n){t.menuTypeMap.set(e,n)},this.lf.setContextMenuItems=function(e){t.menuTypeMap.set($e,e)},this.lf.showContextMenu=function(e){e&&e.id?(t._activeData=e,t.createContextMenu()):console.warn("\u8bf7\u68c0\u67e5\u4f20\u5165\u7684\u53c2\u6570")},this.lf.hideContextMenu=function(){t.hideMenu()}}e.prototype.render=function(e,t){var n=this;this.container=t,e.on("node:click",(function(e){var t=e.data;n._activeData=t,n.createContextMenu()})),e.on("edge:click",(function(e){var t=e.data;n._activeData=t,n.createContextMenu()})),e.on("blank:click",(function(){n.hideMenu()}))},e.prototype.getContextMenuPosition=function(){var e=this._activeData,t=this.lf.graphModel.getElement(e.id);if(t){var n,r;if("edge"===t.BaseType){n=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER;var o=t.getData();n=Math.max(o.startPoint.x,n),r=Math.min(o.startPoint.y,r),n=Math.max(o.endPoint.x,n),r=Math.min(o.endPoint.y,r),o.pointsList&&o.pointsList.forEach((function(e){n=Math.max(e.x,n),r=Math.min(e.y,r)}))}return"node"===t.BaseType&&(n=e.x+t.width/2,r=e.y-t.height/2),this.lf.graphModel.transformMatrix.CanvasPointToHtmlPoint([n,r])}console.warn("\u627e\u4e0d\u5230\u5143\u7d20"+e.id)},e.prototype.createContextMenu=function(){var e=this;if(!this.lf.options.isSilentMode){var t=this.menuTypeMap.get(this._activeData.type)||[];t=t.concat(this.menuTypeMap.get($e));var n=document.createDocumentFragment();t.forEach((function(t){var r=document.createElement("div");r.className="lf-context-item";var o=document.createElement("img");o.src=t.icon,o.className="lf-context-img",t.className&&(r.className=r.className+" "+t.className),o.addEventListener("click",(function(){e.hideMenu(),t.callback?t.callback(e._activeData):e.addNode({sourceId:e._activeData.id,x:e._activeData.x,y:e._activeData.y,properties:t.properties,type:t.type})})),r.appendChild(o),n.appendChild(r)})),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(n),this.showMenu()}},e.prototype.addNode=function(e,t){var n=void 0!==t;void 0===t&&(t=e.y);var r=this.lf.getNodeModel(e.sourceId),o=e.x-r.width+200,i=t-e.y/2-20,a=e.x+r.width+200,c=t+e.y/2+20;if(this.lf.getAreaElement([o,i],[a,c]).length)return t+=100,void this.addNode(e,t);var u,s,l=this.lf.addNode({type:e.type,x:e.x+200,y:t,properties:e.properties});n&&(u={x:e.x,y:e.y+r.height/2},s={x:l.x-l.width/2,y:l.y}),this.lf.createEdge({sourceNodeId:e.sourceId,targetNodeId:l.id,startPoint:u,endPoint:s})},e.prototype.showMenu=function(){var e=qe(this.getContextMenuPosition(),2),t=e[0],n=e[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=n+"px",this.__menuDOM.style.left=t+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},e.prototype.hideMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},e.pluginName="ContextMenu"}(),function(){function e(e){var t=this,n=e.lf;this.lf=n,this.lf.setPatternItems=function(e){t.shapeList=e,t.domContainer&&t.render(t.lf,t.domContainer)}}return e.prototype.render=function(e,t){var n=this;this.panelEl&&t.removeChild(this.panelEl),this.shapeList&&0!==this.shapeList.length&&(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach((function(e){n.panelEl.appendChild(n.createDndItem(e))})),t.appendChild(this.panelEl),this.domContainer=t)},e.prototype.createDndItem=function(e){var t=this,n=document.createElement("div");n.className=e.className?"lf-dnd-item "+e.className:"lf-dnd-item";var r=document.createElement("div");if(r.className="lf-dnd-shape",e.icon&&(r.style.backgroundImage="url("+e.icon+")"),n.appendChild(r),e.label){var o=document.createElement("div");o.innerText=e.label,o.className="lf-dnd-text",n.appendChild(o)}return n.onmousedown=function(){e.type&&t.lf.dnd.startDrag({type:e.type,properties:e.properties,text:e.text}),e.callback&&e.callback()},n},e.pluginName="DndPanel",e}()),Je=function(){function e(e){var t=this,n=e.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.__draw=function(e){var n=t.lf.getPointByClient(e.clientX,e.clientY).domOverlayPosition,r=n.x,o=n.y;t.endPoint={x:r,y:o};var i=t.startPoint,a=i.x,c=i.y,u=t.wrapper.style,s=a,l=c,f=r-a,p=o-c;r<a&&(s=r,f=a-r),o<c&&(l=o,p=c-o),u.left=s+"px",u.top=l+"px",u.width=f+"px",u.height=p+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",t.__draw),document.removeEventListener("mouseup",t.__drawOff),t.__domContainer.removeChild(t.wrapper);var e=t.startPoint,n=e.x,r=e.y,o=t.endPoint,i=o.x,a=o.y,c=[Math.min(n,i),Math.min(r,a)],u=[Math.max(n,i),Math.max(r,a)],s=t.lf.getAreaElement(c,u);s.forEach((function(e){t.lf.select(e.id,!0)})),t.lf.emit("selection:selected",s)},this.lf=n;var r=n.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=r,n.openSelectionSelect=function(){r||(t.isDefalutStopMoveGraph=!1,n.updateEditConfig({stopMoveGraph:!0})),t.open()},n.closeSelectionSelect=function(){t.isDefalutStopMoveGraph||n.updateEditConfig({stopMoveGraph:!1}),t.close()}}return e.prototype.render=function(e,t){var n=this;this.__domContainer=t,e.on("blank:mousedown",(function(r){var o=r.e;if(e.getEditConfig().stopMoveGraph&&!n.__disabled){var i=e.getPointByClient(o.clientX,o.clientY).domOverlayPosition,a=i.x,c=i.y;n.startPoint={x:a,y:c},n.endPoint={x:a,y:c};var u=document.createElement("div");u.className="lf-selection-select",u.style.top=n.startPoint.y+"px",u.style.left=n.startPoint.x+"px",t.appendChild(u),n.wrapper=u,document.addEventListener("mousemove",n.__draw),document.addEventListener("mouseup",n.__drawOff)}}))},e.prototype.open=function(){this.__disabled=!1},e.prototype.close=function(){this.__disabled=!0},e.pluginName="selection-select",e}(),et=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},tt={pluginName:"minimap",__lf:null,__container:null,__miniMapWrap:null,__miniMapContainer:null,__lfMap:null,__viewport:null,__width:150,__height:220,__miniMapWidth:450,__miniMapHeight:660,__viewPortTop:0,__viewPortLeft:0,__startPosition:null,__viewPortScale:1,__viewPortWidth:150,__viewPortHeight:75,__resetDataX:0,__resetDataY:0,__LogicFlow:null,__disabledPlugins:["minimap","control","selection-select"],install:function(e,t){tt.__lf=e,tt.__miniMapWidth=e.width,tt.__miniMapHeight=220*e.width/150,tt.__LogicFlow=t,this.__init(),tt.__isShow=!1},init:function(e){this.__disabledPlugins=this.__disabledPlugins.concat(e.disabledPlugins||[])},render:function(e,t){tt.__container=t;["node:add","node:delete","edge:add","edge:delete","node:drop","blank:drop"].forEach((function(e){tt.__lf.on(e,(function(){tt.__isShow&&tt.__setView()}))}))},show:function(e,t){tt.__setView(),tt.__isShow||tt.__createMiniMap(e,t),tt.__isShow=!0},hide:function(){tt.__isShow&&tt.__removeMiniMap(),tt.__isShow=!1},__init:function(){var e=document.createElement("div");e.className="lf-mini-map-graph",e.style.width=tt.__width+"px",e.style.height=tt.__height+"px",tt.__lfMap=new tt.__LogicFlow({width:tt.__lf.width,height:220*tt.__lf.width/150,container:e,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:tt.__disabledPlugins}),tt.__lfMap.adapterIn=function(e){return e},tt.__lfMap.adapterOut=function(e){return e},tt.__miniMapWrap=e,tt.__createViewPort()},__createMiniMap:function(e,t){var n=document.createElement("div"),r=tt.__miniMapWrap;n.appendChild(r),"undefined"!==typeof e&&"undefined"!==typeof t&&(n.style.left=e+"px",n.style.top=t+"px"),n.style.position="absolute",n.className="lf-mini-map",tt.__container.appendChild(n),tt.__miniMapWrap.appendChild(tt.__viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText="\u5bfc\u822a",n.appendChild(o);var i=document.createElement("span");i.className="lf-mini-map-close",i.addEventListener("click",tt.hide),n.appendChild(i),tt.__miniMapContainer=n},__removeMiniMap:function(){tt.__container.removeChild(tt.__miniMapContainer)},__getBounds:function(e){var t=0,n=tt.__miniMapWidth,r=0,o=tt.__miniMapHeight,i=e.nodes;return i&&i.length>0&&i.forEach((function(e){var i=e.x,a=e.y,c=e.width,u=void 0===c?200:c,s=e.height,l=void 0===s?200:s,f=i-u/2,p=i+u/2,d=a-l/2,h=a+l/2;t=f<t?f:t,n=p>n?p:n,r=d<r?d:r,o=h>o?h:o})),{left:t,top:r,bottom:o,right:n}},__resetData:function(e){var t=e.nodes,n=e.edges,r=0,o=0;return t&&t.length>0&&(t.forEach((function(e){var t=e.x,n=e.y,i=e.width,a=void 0===i?200:i,c=e.height,u=t-a/2,s=n-(void 0===c?200:c)/2;r=u<r?u:r,o=s<o?s:o})),(r<0||o<0)&&(tt.__resetDataX=r,tt.__resetDataY=o,t.forEach((function(e){e.x=e.x-r,e.y=e.y-o,e.text&&(e.text.x=e.text.x-r,e.text.y=e.text.y-o)})),n.forEach((function(e){e.startPoint&&(e.startPoint.x=e.startPoint.x-r,e.startPoint.y=e.startPoint.y-o),e.endPoint&&(e.endPoint.x=e.endPoint.x-r,e.endPoint.y=e.endPoint.y-o),e.text&&(e.text.x=e.text.x-r,e.text.y=e.text.y-o),e.pointsList&&e.pointsList.forEach((function(e){e.x=e.x-r,e.y=e.y-o}))})))),e},__setView:function(){var e,t,n=tt.__resetData(tt.__lf.getGraphRawData()),r=tt.__lf.viewMap,o=tt.__lf.graphModel.modelMap,i=tt.__lfMap.viewMap;try{for(var a=et(r.keys()),c=a.next();!c.done;c=a.next()){var u=c.value;i.has(u)||(tt.__lfMap.setView(u,r.get(u)),tt.__lfMap.graphModel.modelMap.set(u,o.get(u)))}}catch(g){e={error:g}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}tt.__lfMap.render(n);var s=tt.__getBounds(n),l=s.left,f=s.top,p=s.right,d=s.bottom,h=tt.__width/(p-l),y=tt.__height/(d-f),v=tt.__miniMapWrap.firstChild.style,b=Math.min(h,y);v.transform="matrix("+b+", 0, 0, "+b+", 0, 0)",v.transformOrigin="left top",v.height=d-Math.min(f,0)+"px",v.width=p-Math.min(l,0)+"px",tt.__viewPortScale=b,tt.__setViewPort(b,{left:l,top:f,right:p,bottom:d})},__setViewPort:function(e,t){var n=t.left,r=t.right,o=tt.__viewport.style;o.width=tt.__width-4+"px",o.height=(tt.__width-4)/(tt.__lf.width/tt.__lf.height)+"px";var i=tt.__lf.getTransform(),a=i.TRANSLATE_X,c=i.TRANSLATE_Y,u=r-n,s=(tt.__width-4)/(u/tt.__lf.width),l=s/(tt.__lf.width/tt.__lf.height);tt.__viewPortTop=c>0?0:-c*e,tt.__viewPortLeft=-a*e,tt.__viewPortWidth=s,tt.__viewPortHeight=l,o.top=tt.__viewPortTop+"px",o.left=tt.__viewPortLeft+"px",o.width=s+"px",o.height=l+"px"},__createViewPort:function(){var e=document.createElement("div");e.className="lf-minimap-viewport",e.addEventListener("mousedown",tt.__startDrag),tt.__viewport=e},__startDrag:function(e){document.addEventListener("mousemove",tt.__drag),document.addEventListener("mouseup",tt.__drop),tt.__startPosition={x:e.x,y:e.y}},__drag:function(e){var t=tt.__viewport.style;tt.__viewPortTop+=e.y-tt.__startPosition.y,tt.__viewPortLeft+=e.x-tt.__startPosition.x,t.top=tt.__viewPortTop+"px",t.left=tt.__viewPortLeft+"px",tt.__startPosition={x:e.x,y:e.y};var n=(tt.__viewPortLeft+tt.__viewPortWidth/2)/tt.__viewPortScale,r=(tt.__viewPortTop+tt.__viewPortHeight/2)/tt.__viewPortScale;tt.__lf.focusOn({coordinate:{x:n+tt.__resetDataX,y:r+tt.__resetDataY}})},__drop:function(){document.removeEventListener("mousemove",tt.__drag),document.removeEventListener("mouseup",tt.__drop)}},nt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nt(t,e),t.prototype.getEdge=function(){for(var e=this.getAttributes(),t=e.points,n=e.strokeWidth,r=e.stroke,o=e.strokeDashArray,i=t.split(" ").map((function(e){return e.split(",").map((function(e){return Number(e)}))})),a=rt(i[0],2),c="M"+a[0]+" "+a[1],u=1;u<i.length-1;u++){var s=rt(i[u-1],2),f=s[0],p=s[1],d=rt(i[u],2),h=d[0],y=d[1],v=rt(i[u+1],2),b=v[0],g=v[1];if(h===f&&y!==p)c=c+" L "+h+" "+(y>p?y-5:y+5);if(y===p&&h!==f)c=c+" L "+(h>f?h-5:h+5)+" "+y;if(c=c+" Q "+h+" "+y,h===b&&y!==g)c=c+" "+h+" "+(y>g?y-5:y+5);if(y===g&&h!==b)c=c+" "+(h>b?h-5:h+5)+" "+y}var m=rt(i[i.length-1],2);return c=c+" L "+m[0]+" "+m[1],Object(l.h)("path",{d:c,strokeWidth:n,stroke:r,fill:"none",strokeDashArray:o})},t.extendKey="CurvedEdge",t}(l.PolylineEdge),it=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nt(t,e),t}(l.PolylineEdgeModel),at={pluginName:"curved-edge",curvedSpace:5,init:function(e){var t=e.curvedSpace;at.curvedSpace=t},install:function(e){e.register({type:"curved-edge",view:ot,model:it})}},ct=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ut=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},st=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ut(arguments[t]));return e},lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isGroup=!0,t.children=new Set,t.isRestrict=!0,t}return ct(t,e),t.prototype.setAttributes=function(){this.width=500,this.height=200,this.strokeWidth=1,this.zIndex=0},t.prototype.setIsRestrict=function(e){this.isRestrict=e},t.prototype.isInRange=function(e){var t=e.x1,n=e.y1,r=e.x2,o=e.y2;return t>=this.x-this.width/2&&r<=this.x+this.width/2&&n>=this.y-this.height/2&&o<=this.y+this.height/2},t.prototype.setAllowAppendChild=function(e){this.stroke=e?"red":"rgb(24, 125, 255)"},t.prototype.addChild=function(e){this.children.add(e)},t.prototype.removeChild=function(e){this.children.delete(e)},t.prototype.getData=function(){var t=e.prototype.getData.call(this);return t.children=st(this.children),t},t}(l.RectNodeModel),ft={type:"group",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ct(t,e),t.prototype.toFront=function(){},t.prototype.getShapeStyle=function(){var t=e.prototype.getShapeStyle.call(this);return t.radius=0,t},t}(l.RectNode),model:lt},pt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},dt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pt(arguments[t]));return e},ht=(function(){function e(e){var t=this,n=e.lf;this.nodeGroupMap=new Map,this.appendNodeToGrop=function(e){var n=e.data,r=t.nodeGroupMap.get(n.id);if(r){var o=t.lf.getNodeModel(r);o.removeChild(n.id),t.nodeGroupMap.delete(n.id),o.setAllowAppendChild(!1)}var i=t.lf.getNodeModel(n.id).getBounds(),a=t.getGroup(i);a&&n.id!==a.id&&(a.addChild(n.id),t.nodeGroupMap.set(n.id,a.id),a.setAllowAppendChild(!1))},this.setActiveGroup=function(e){var n=e.data;t.activeGroup&&(t.activeGroup.setAllowAppendChild(!1),t.activeGroup=void 0);var r=t.lf.getNodeModel(n.id).getBounds();t.activeGroup=t.getGroup(r),t.activeGroup&&t.activeGroup.id!==n.id&&t.activeGroup.setAllowAppendChild(!0)},n.register(ft),this.lf=n,n.graphModel.addNodeMoveRules((function(e,r,o){if(e.isGroup)return n.graphModel.moveNodes(dt(e.children),r,o,!0),!0;var i=n.getNodeModel(t.nodeGroupMap.get(e.id));if(i&&i.isRestrict){var a=e.getBounds(),c=a.x1,u=a.y1,s=a.x2,l=a.y2;return i.isInRange({x1:c+r,y1:u+o,x2:s+r,y2:l+o})}return!0})),n.on("node:add",this.appendNodeToGrop),n.on("node:drop",this.appendNodeToGrop),n.on("node:dnd-move",this.setActiveGroup),n.on("node:drag",this.setActiveGroup)}e.prototype.getGroups=function(){var e=[];this.lf.graphModel.nodes.forEach((function(t){t.isGroup&&e.push(t)}))},e.prototype.getGroup=function(e){for(var t=this.lf.graphModel.nodes,n=0;n<t.length;n++){var r=t[n];if(r.isGroup&&r.isInRange(e))return r}},e.pluginName="group"}(),n(55)),yt=function(){return(yt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function vt(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.className,c=t-r/2,u=n-o/2,s=yt(yt({width:10,height:10,cx:0,cy:0,rx:i||0,ry:i||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+a},e),{x:c,y:u});return Object(l.h)("rect",yt({},s))}function bt(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{minX:t-r/2,minY:n-o/2,maxX:t+r/2,maxY:n+o/2}}function gt(e){var t=bt(e),n=e.radius,r=t.minX,o=t.minY,i=t.maxX,a=t.maxY;return[{x:r+n,y:o+n},{x:i-n,y:o+n},{x:i-n,y:a-n},{x:r+n,y:a-n}]}function mt(e){var t=e.point,n=e.beforeNode,r=e.afterNode,o=t.x,i=t.y,a={x:o,y:i},c=n.radius,u=bt(n),s=bt(r);if(o===u.minX){a.x=s.minX;var l=(i-n.y)/(n.height/2-c);a.y=l?r.y+(r.height/2-c)*l:r.y}else if(o===u.maxX){a.x=s.maxX;l=(i-n.y)/(n.height/2-c);a.y=l?r.y+(r.height/2-c)*l:r.y}else if(i===u.minY){a.y=s.minY;l=(o-n.x)/(n.width/2-c);a.x=l?r.x+(r.width/2-c)*l:r.x}else if(i===u.maxY){a.y=s.maxY;l=(o-n.x)/(n.width/2-c);a.x=l?r.x+(r.width/2-c)*l:r.x}else{var f=gt(n),p=gt(r),d=bt(n),h=d.minX,y=d.minY,v=d.maxX,b=d.maxY,g=-1;if(o-h<c&&i-y<c?g=0:v-o<c&&i-y<c?g=1:v-o<c&&b-i<c?g=2:o-h<c&&y-i<c&&(g=3),g>-1){var m=Math.atan2(i-f[g].y,o-f[g].x);a.x=p[g].x+c*Math.cos(m),a.y=p[g].y+c*Math.sin(m)}}return a}function Ot(e){var t,n,r=e.point,o=e.beforeNode,i=e.afterNode,a=i.rx,c=i.ry,u=(r.y-o.y)/(r.x-o.x),s=a,l=c;return u>=1/0?(t=0,n=l):u<=-1/0?(t=0,n=-l):r.x-o.x>0?(t=s*l/Math.sqrt(l*l+s*s*u*u),n=s*l*u/Math.sqrt(l*l+s*s*u*u)):(t=-s*l/Math.sqrt(l*l+s*s*u*u),n=-s*l*u/Math.sqrt(l*l+s*s*u*u)),{x:t+i.x,y:n+i.y}}function xt(e){var t,n=e.point,r=e.beforeNode,o=e.afterNode,i=n.x-r.x,a=n.y-r.y,c=r.rx,u=r.ry,s=Math.sqrt((c-Math.abs(i))*(c-Math.abs(i))+a*a)/Math.sqrt(c*c+u*u),l=o.rx,f=o.ry,p=Math.sqrt((l*l+f*f)*s*s*(l*l/(l*l+f*f))),d=p*(f/l);return t=a>0?d:-d,{x:(i>=0?l-p:p-l)+o.x,y:t+o.y}}vt.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""},function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(Te||(Te={}));var wt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_t=function(){return(_t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},jt=l.LogicFlowUtil.createDrag,Et=function(e){function t(t){var n=e.call(this)||this;n.updatePosition=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.x,a=o.y;n.nodeModel.x=i+t/2,n.nodeModel.y=a+r/2,n.nodeModel.moveText(t/2,r/2)},n.getResize=function(e){var t=e.index,n=e.deltaX,r=e.deltaY,o=e.width,i=e.height,a=e.pct,c=void 0===a?1:a,u={width:o,height:i};switch(t){case 0:u.width=o-n*c,u.height=i-r*c;break;case 1:u.width=o+n*c,u.height=i-r*c;break;case 2:u.width=o+n,u.height=i+r*c;break;case 3:u.width=o-n*c,u.height=i+r*c}return u},n.updateRect=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.id,a=o.x,c=o.y,u=o.width,s=o.height,l=o.radius,f=n.index,p=n.getResize({index:f,deltaX:t,deltaY:r,width:u,height:s,pct:1}),d=n.nodeModel,h=d.minWidth,y=d.minHeight,v=d.maxWidth,b=d.maxHeight;if(!(p.width<h||p.width>v||p.height<y||p.height>b)){n.updatePosition({deltaX:t,deltaY:r}),n.nodeModel.width=p.width,n.nodeModel.height=p.height,n.nodeModel.setProperties({nodeSize:{width:p.width,height:p.height}});var g,m=n.getNodeEdges(i),O={x:a,y:c,width:u,height:s,radius:l},x={x:n.nodeModel.x,y:n.nodeModel.y,width:n.nodeModel.width,height:n.nodeModel.height,radius:l},w={point:"",beforeNode:O,afterNode:x};m.sourceEdges.forEach((function(e){w.point=e.startPoint,g=mt(w),e.updateStartPoint(g)})),m.targetEdges.forEach((function(e){w.point=e.endPoint,g=mt(w),e.updateEndPoint(g)})),n.eventEmit({beforeNode:O,afterNode:x})}},n.updateEllipse=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.id,a=o.rx,c=o.ry,u=o.x,s=o.y,l=n.index,f=a,p=c,d=n.getResize({index:l,deltaX:t,deltaY:r,width:f,height:p,pct:.5}),h=n.nodeModel,y=h.minWidth,v=h.minHeight,b=h.maxWidth,g=h.maxHeight;if(!(d.width<y/2||d.width>b/2||d.height<v/2||d.height>g/2)){n.updatePosition({deltaX:t,deltaY:r}),n.nodeModel.rx=d.width,n.nodeModel.ry=d.height,n.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var m,O=n.getNodeEdges(i),x={x:u,y:s},w={rx:d.width,ry:d.height,x:n.nodeModel.x,y:n.nodeModel.y},_={point:{},beforeNode:x,afterNode:w};O.sourceEdges.forEach((function(e){_.point=e.startPoint,m=Ot(_),e.updateStartPoint(m)})),O.targetEdges.forEach((function(e){_.point=e.endPoint,m=Ot(_),e.updateEndPoint(m)})),n.eventEmit({beforeNode:_t(_t({},x),{rx:a,ry:c}),afterNode:w})}},n.updateDiamond=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.id,a=o.rx,c=o.ry,u=o.x,s=o.y,l=n.index,f=a,p=c,d=n.getResize({index:l,deltaX:t,deltaY:r,width:f,height:p,pct:.5}),h=Vt.sizeRange.ellipse,y=h.minRx,v=h.minRy,b=h.maxRx,g=h.maxRy;if(!(d.width<y||d.width>b||d.height<v||d.height>g)){n.updatePosition({deltaX:t,deltaY:r}),n.nodeModel.rx=d.width,n.nodeModel.ry=d.height,n.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var m,O={x:u,y:s,rx:a,ry:c},x={rx:d.width,ry:d.height,x:n.nodeModel.x,y:n.nodeModel.y},w={point:{},beforeNode:O,afterNode:x},_=n.getNodeEdges(i);_.sourceEdges.forEach((function(e){w.point=e.startPoint,m=xt(w),e.updateStartPoint(m)})),_.targetEdges.forEach((function(e){w.point=e.endPoint,m=xt(w),e.updateEndPoint(m)})),n.eventEmit({beforeNode:O,afterNode:x})}},n.eventEmit=function(e){var t=e.beforeNode,r=e.afterNode,o=n.nodeModel,i=o.id,a=o.modelType,c=o.type,u=_t({id:i,modelType:a,type:c},t),s=_t({id:i,modelType:a,type:c},r);n.graphModel.eventCenter.emit("node:resize",{oldNodeSize:u,newNodeSize:s})},n.onDraging=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel.modelType;o===Te.RECT_NODE?n.updateRect({deltaX:t,deltaY:r}):o===Te.ELLIPSE_NODE?n.updateEllipse({deltaX:t,deltaY:r}):o===Te.DIAMOND_NODE&&n.updateDiamond({deltaX:t,deltaY:r})},n.index=t.index,n.nodeModel=t.nodeModel,n.graphModel=t.graphModel;var r=n.graphModel.gridSize,o=2;return r>1&&(o=2*r),n.state={},n.dragHandler=jt({onDraging:n.onDraging,step:o}),n}return wt(t,e),t.prototype.getNodeEdges=function(e){for(var t=this.graphModel.edges,n=[],r=[],o=0;o<t.length;o++){var i=t[o];i.sourceNodeId===e?n.push(i):t[o].targetNodeId===e&&r.push(i)}return{sourceEdges:n,targetEdges:r}},t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,r=e.style,o=e.index,i=Vt.style.controlPoint,a=i.width,c=i.height,u=i.fill,s=i.stroke;return Object(ht.b)("g",{className:"lf-resize-control-"+o},Object(ht.b)(vt,_t({className:"lf-node-control"},{x:t,y:n},r,{width:a,height:c,fill:u,stroke:s,onMouseDown:this.dragHandler})))},t}(ht.a),St=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pt=function(){return(Pt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},At=function(e){function t(){var t=e.call(this)||this;return t.state={},t}return St(t,e),t.prototype.getResizeControl=function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,i=e.nodeModel,a=e.graphModel,c={minX:t-r/2,minY:n-o/2,maxX:t+r/2,maxY:n+o/2},u=c.minX,s=c.minY,l=c.maxX,f=c.maxY;return[{x:u,y:s},{x:l,y:s},{x:l,y:f},{x:u,y:f}].map((function(e,t){return Object(ht.b)(Et,Pt({index:t},e,{nodeModel:i,graphModel:a}))}))},t.prototype.getGroupSolid=function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,i=Vt.style.outline,a=i.stroke,c=i.strokeWidth,u=i.strokeDasharray;return Object(ht.b)(vt,{fill:"none",x:t,y:n,width:r,height:o,stroke:a,strokeWidth:c,strokeDasharray:u})},t.prototype.render=function(){return Object(ht.b)("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},t}(ht.a),kt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nt=function(){return(Nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Mt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.minWidth=30,t.minHeight=30,t.maxWidth=2e3,t.maxHeight=2e3,t}return kt(t,e),t.prototype.setAttributes=function(){this.hideOutline=!0;var e=this.properties.nodeSize;e&&(this.width=e.width,this.height=e.height)},t}(l.RectNodeModel),Dt={type:"rect",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kt(t,e),t.prototype.getControlGroup=function(e){var t=this.props,n=t.model,r=t.graphModel;return Object(l.h)(At,Nt({},e,{nodeModel:n,graphModel:r}))},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var t=e.prototype.getAttributes.call(this),n=this.props.model.isSelected;return Object(l.h)("g",null,this.getResizeShape(),n?this.getControlGroup(t):"")},t}(l.RectNode),model:Mt},Tt=function(){return(Tt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Ct(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.rx,a=void 0===i?4:i,c=e.ry,u=Tt({cx:n,cy:o,rx:a,ry:void 0===c?4:c,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1},e);return Object(l.h)("ellipse",Tt({},u))}var It=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rt=function(){return(Rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.minWidth=30,t.minHeight=30,t.maxWidth=2e3,t.maxHeight=2e3,t}return It(t,e),t.prototype.setAttributes=function(){this.hideOutline=!0;var e=this.properties.nodeSize;e&&(this.rx=e.rx,this.ry=e.ry)},t}(l.EllipseNodeModel),zt={type:"ellipse",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return It(t,e),t.prototype.getControlGroup=function(e){var t=this.props,n=t.model,r=t.graphModel;return Object(l.h)(At,Rt({},e,{nodeModel:n,graphModel:r}))},t.prototype.getResizeShape=function(e){return Object(l.h)("g",null,Object(l.h)(Ct,Rt({},e)))},t.prototype.getShape=function(){var t=e.prototype.getAttributes.call(this),n=this.props.model.isSelected;return Object(l.h)("g",null,this.getResizeShape(t),n?this.getControlGroup(t):"")},t}(l.EllipseNode),model:Lt},Bt=function(){return(Bt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Gt(e){var t=e.fillOpacity,n=void 0===t?1:t,r=e.strokeWidth,o=void 0===r?1:r,i=e.strokeOpacity,a=void 0===i?1:i,c=e.fill,u=void 0===c?"transparent":c,s=e.stroke,f=void 0===s?"#000":s,p=e.points,d=e.className,h={fill:u,fillOpacity:n,strokeWidth:o,stroke:f,strokeOpacity:a,points:"",className:void 0===d?"lf-basic-shape":d};return h.points=p.map((function(e){return e.join(",")})).join(" "),Object(l.h)("polygon",Bt({},h))}var Ft=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ut=function(){return(Ut=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Xt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ft(t,e),t.prototype.setAttributes=function(){this.hideOutline=!0;var e=this.properties.nodeSize;e&&(this.rx=e.rx,this.ry=e.ry)},t}(l.DiamondNodeModel),Ht={type:"diamond",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ft(t,e),t.prototype.getControlGroup=function(e){var t=this.props,n=t.model,r=t.graphModel;return Object(l.h)(At,Ut({},e,{nodeModel:n,graphModel:r}))},t.prototype.getResizeShape=function(e){return Object(l.h)("g",null,Object(l.h)(Gt,Ut({},e)))},t.prototype.getShape=function(){var t=e.prototype.getAttributes.call(this),n=this.props.model.isSelected;return Object(l.h)("g",null,this.getResizeShape(t),n?this.getControlGroup(t):"")},t}(l.DiamondNode),model:Xt},Yt={pluginName:"node-resize",step:0,style:{outline:{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"},controlPoint:{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},sizeRange:{ellipse:{minRx:15,minRy:15,maxRx:150,maxRy:150},diamond:{minRx:15,minRy:15,maxRx:150,maxRy:150}},install:function(e){e.register({type:Dt.type,view:Dt.view,model:Dt.model}),e.register({type:zt.type,view:zt.view,model:zt.model}),e.register({type:Ht.type,view:Ht.view,model:Ht.model})}},Vt=Yt,Wt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Kt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Wt(arguments[t]));return e},Zt=(function(){function e(e){var t=this,n=e.lf;this.lf=n,this.pathes=[],n.getPathes=function(){if(!t.startNodeType)throw new Error("\u9700\u8981\u9884\u5148\u6307\u5b9a\u5f00\u59cb\u8282\u70b9\u7c7b\u578b");return t.getPathes()},n.setRawPathes=function(e){t.setPathes(e)},n.getRawPathes=function(){return t.pathes},n.setStartNodeType=function(e){t.startNodeType=e}}e.prototype.setPathes=function(e){this.pathes=e.map((function(e){return{routeId:e.routeId,name:e.name,elements:e.elements,type:e.type,similarElement:null,weight:0}}))},e.prototype.getPathes=function(){var e=this,t=this.lf.getGraphRawData(),n=new Map,r=[];t.nodes.forEach((function(t){n.set(t.id,{id:t.id,data:t,nextNodes:[]}),t.type===e.startNodeType&&r.push(t.id)})),t.edges.forEach((function(e){n.get(e.sourceNodeId).nextNodes.push(e.targetNodeId)}));var o=[];return r.forEach((function(t){o=o.concat(e.findPathElements(n.get(t),n,[]))})),this.getNewPathes(o)},e.prototype.findPathElements=function(e,t,n){void 0===n&&(n=[]);var r=Kt(n);if(r.push(e.id),0===e.nextNodes.length)return[r];for(var o=[],i=0;i<e.nextNodes.length;i++){var a=t.get(e.nextNodes[i]),c=void 0,u=r.indexOf(a.id);c=-1!==u?[Kt(r.slice(u),[a.id])]:this.findPathElements(a,t,Kt(r)),o=o.concat(c)}return o},e.prototype.getNewPathes=function(e){var t=this,n=[],r=new Set;e.forEach((function(e){var o=t.getNewId("path"),i=t.getNewId("\u8def\u5f84"),a=t.isLoopPath(e),c=e.join(",");r.has(c)||(r.add(c),n.push({routeId:o,name:i,elements:e,type:a,weight:0,similarElement:""}))}));var o=JSON.parse(JSON.stringify(this.pathes));return n.forEach((function(e){for(var n=0;n<o.length;n++){var r=o[n],i=t.similar2Path(Kt(e.elements),Kt(r.elements));i>e.weight&&r.weight<=i&&(e.weight=i,e.similarElement=r,i===r.weight&&r.similarElement?(r.similarElement.similarElement=null,r.similarElement.weight=0,r.similarElement=null,r.weight=0):(r.similarElement=e,r.weight=i))}})),n.forEach((function(e){e.similarElement&&e.similarElement.similarElement===e&&(e.routeId=e.similarElement.routeId,e.name=e.similarElement.name),delete e.similarElement,delete e.weight})),this.setPathes(n),n},e.prototype.similar2Path=function(e,t){var n=0,r=e.length+t.length;e.sort(),t.sort();for(var o=e.shift(),i=t.shift();void 0!==o&&void 0!==i;)o===i?(n++,o=e.shift(),i=t.shift()):o<i?o=e.shift():o>i&&(i=t.shift());return n/r*200},e.prototype.getNewId=function(e){return e+"_"+D()},e.prototype.isLoopPath=function(e){var t=e.length;return e.indexOf(e[t-1])!==t-1?1:0},e.pluginName="FlowPath"}(),function(){return(Zt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),qt=-1,$t=0,Qt=1,Jt=(function(){function e(e){var t=this,n=e.lf;this.lf=n,n.layout=function(e){var n=t.lf.getGraphRawData();t.lf.setStartNodeType(e);var r=t.lf.getPathes();return t.levelHeight=[],t.newNodeMap=new Map,t.layout(n,r)}}e.prototype.layout=function(e,t){var n=[];t.forEach((function(e){e.elements.length>n.length&&(n=e.elements)}));for(var r=this.formatData(e),o={nodes:[],edges:[]},i=n.length-1;i>=0;i--)this.setNodePosition(n[i],r,o,i,1);this.lf.graphModel.graphDataToModel(o)},e.prototype.setNodePosition=function(e,t,n,r,o){var i=this,a=t[e],c=a.text,u=a.type,s=a.next,l=a.properties,f=160*r+40,p=120*o,d={id:e,x:f,text:c,y:p,type:u,properties:l};return c&&"object"===typeof c&&(d.text=Zt(Zt({},c),{x:f+c.x,y:p+c.y})),this.newNodeMap.set(d.id,{x:d.x,y:d.y,type:u}),n.nodes.push(d),a.isFixed=!0,this.addLevelHeight(r,1),s&&s.length>0&&s.forEach((function(o){if(!t[o.nodeId].isFixed){var a=i.getLevelHeight(r+1);i.addLevelHeight(r,1),i.setNodePosition(o.nodeId,t,n,r+1,a+1)}n.edges.push(Zt({id:o.edgeId,type:o.edgeType,sourceNodeId:e,targetNodeId:o.nodeId,properties:o.properties,text:o.text},i.getEdgeDataPoints(e,o.nodeId)))})),d},e.prototype.getEdgeDataPoints=function(e,t){var n=this.newNodeMap.get(e),r=this.newNodeMap.get(t),o=this.getShape(e),i=o.width,a=o.height,c=this.getShape(t),u=c.width,s=c.height,l=this.getRelativePosition(n,r),f={x:n.x,y:n.y},p={x:r.x,y:r.y};switch(l){case $t:f.x=n.x+i/2,p.x=r.x-u/2;break;case qt:f.y=n.y+a/2,p.x=r.x-u/2;break;case Qt:f.x=n.x+i/2,p.y=r.y+s/2}return{startPoint:f,endPoint:p}},e.prototype.getRelativePosition=function(e,t){var n=e.y,r=t.y;return n<r?-1:n===r?0:1},e.prototype.getShape=function(e){var t=this.lf.getNodeModel(e);return{height:t.height,width:t.width}},e.prototype.formatData=function(e){var t=e.nodes.reduce((function(e,t){var n=t.type,r=t.properties,o=t.text,i=t.x,a=t.y;return o&&"object"===typeof o&&(o.x=o.x-i,o.y=o.y-a),e[t.id]={type:n,properties:r,text:o,prev:[],next:[]},e}),{});return e.edges.forEach((function(e){var n=e.sourceNodeId,r=e.targetNodeId,o=e.id,i=e.properties,a=e.text,c=a;"object"===typeof a&&(c=a.value),t[n].next.push({edgeId:o,nodeId:r,edgeType:e.type,properties:i,text:c}),t[r].prev.push({edgeId:o,nodeId:n,properties:i,text:c})})),t},e.prototype.addLevelHeight=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);var r=this.levelHeight[e];r||(r={positiveHeight:0,negativeHeight:0},this.levelHeight[e]=r),n?r.negativeHeight-=t:r.positiveHeight+=t},e.prototype.getLevelHeight=function(e,t){void 0===t&&(t=!1);var n=this.levelHeight[e];return n?t?n.negativeHeight:n.positiveHeight:0},e.pluginName="AutoLayout"}(),{stopScrollGraph:!0,stopZoomGraph:!0}),en={nodes:[{id:10,type:"rect",x:150,y:100,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:100,text:"\u5706\u5f62"},{id:30,type:"diamond",x:300,y:300,text:"\u83f1\u5f62"},{id:33,type:"diamond",x:600,y:250,text:"\u83f1\u5f622"}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20,text:"\u76f4\u89d2\u6298\u7ebf",startPoint:{id:"150-60",x:150,y:60}},{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u76f4\u7ebf",endPoint:{id:"150-60",x:350,y:100}},{type:"bezier",sourceNodeId:10,targetNodeId:30,text:"\u66f2\u7ebf",endPoint:{id:"150-60",x:300,y:250}},{type:"curved-edge",sourceNodeId:30,targetNodeId:33,text:"\u5706\u89d2\u66f2\u7ebf"}]};function tn(e){var t=e.lf;return t&&t.on("selection:selected",(function(){t.updateEditConfig({stopMoveGraph:!1})})),Object(y.jsxs)("div",{className:"pattern",children:[Object(y.jsx)("div",{className:"pattern-selection",onMouseDown:function(){t.updateEditConfig({stopMoveGraph:!0})}}),Object(y.jsx)("div",{children:"\u9009\u533a"}),Object(y.jsx)("div",{className:"pattern-start",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:startEvent",text:"\u5f00\u59cb"})}}),Object(y.jsx)("div",{children:"\u5f00\u59cb"}),Object(y.jsx)("div",{className:"pattern-user",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:userTask"})}}),Object(y.jsx)("div",{children:"\u7528\u6237\u4efb\u52a1"}),Object(y.jsx)("div",{className:"pattern-user",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:serviceTask"})}}),Object(y.jsx)("div",{children:"\u7cfb\u7edf\u4efb\u52a1"}),Object(y.jsx)("div",{className:"pattern-condition",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:exclusiveGateway"})}}),Object(y.jsx)("div",{children:"\u6761\u4ef6\u5224\u65ad"}),Object(y.jsx)("div",{className:"pattern-end",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:endEvent",text:"\u7ed3\u675f"})}}),Object(y.jsx)("div",{children:"\u7ed3\u675f"})]})}var nn=n(227).default,rn=n(228).default,on=n(229).default;function an(e){var t=e.lf;function n(){var e=t.getGraphData();console.log(e),function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("logic-flow.xml",e)}return Object(y.jsxs)("div",{className:"graph-io",children:[Object(y.jsx)("span",{title:"\u4e0b\u8f7d XML",onMouseDown:function(){return n()},children:Object(y.jsx)("img",{src:nn,alt:"\u4e0b\u8f7dXML"})}),Object(y.jsx)("span",{id:"download-img",title:"\u4e0b\u8f7d\u56fe\u7247",onMouseDown:function(){e.lf.getSnapshot()},children:Object(y.jsx)("img",{src:rn,alt:"\u4e0b\u8f7d\u56fe\u7247"})}),Object(y.jsxs)("span",{id:"upload-xml",title:"\u4e0a\u4f20 XML",children:[Object(y.jsx)("input",{type:"file",className:"upload",onChange:function(e){return function(e){var n=e.target.files[0],r=new FileReader;r.onload=function(e){if(e.target){var n=e.target.result;t.render(n)}},r.readAsText(n)}(e)}}),Object(y.jsx)("img",{src:on,alt:"\u4e0a\u4f20XML"})]})]})}n(230),n(88);var cn={stopScrollGraph:!0,stopZoomGraph:!0,metaKeyMultipleSelected:!0,grid:{size:10,type:"dot"},keyboard:{enabled:!0},snapline:!0},un=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).lf=void 0,r.state={rendered:!0},r}return Object(O.a)(n,[{key:"componentDidMount",value:function(){f.a.use(se),f.a.use(Pe),f.a.use(le),f.a.use(Ue),f.a.use(Ze),f.a.use(Je);var e=new f.a(Object(s.a)(Object(s.a)({},cn),{},{container:document.querySelector("#graph")}));e.render(),this.lf=e,this.setState({rendered:!0})}},{key:"render",value:function(){var e;return this.state.rendered&&(e=Object(y.jsxs)("div",{children:[Object(y.jsx)(tn,{lf:this.lf}),Object(y.jsx)(an,{lf:this.lf})]})),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{children:Object(y.jsxs)("div",{children:["\u70b9\u51fb\u5de6\u4e0b\u89d2\u4e0b\u8f7d XML\uff0c\u5c06\u6587\u4ef6\u4e0a\u4f20\u5230",Object(y.jsx)(d.a,{type:"link",href:"https://demo.bpmn.io/",target:"_blank",children:"BPMN Demo"}),"\u5373\u53ef\u4f7f\u7528"]})}),Object(y.jsxs)("div",{className:"bpmn-example-container",children:[Object(y.jsx)("div",{id:"graph",className:"viewport"}),e]})]})}}]),n}(r.Component),sn=(n(231),{stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1,keyboard:{enabled:!0},style:{rect:{width:100,height:60}}}),ln={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"}]};var fn={stopScrollGraph:!0,stopZoomGraph:!0},pn={nodes:[{id:10,type:"rect",x:200,y:90,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:200,y:250,text:"\u4f60\u597d\uff01",r:50}]};var dn={stopScrollGraph:!0,stopZoomGraph:!0,grid:{size:10,type:"dot"}},hn={nodes:[{id:10,type:"rect",x:170,y:150,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:380,y:60,text:"\u4f60\u597d\uff01",r:50}]};var yn={isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0,style:{rect:{height:60},nodeText:{fontSize:16},edgeText:{fontSize:17}}},vn={nodes:[{id:10,type:"rect",x:170,y:100,text:"I"},{id:20,type:"circle",x:380,y:180,text:"LogicFlow"}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20,text:"Like",endPoint:{id:"330-180",x:330,y:180}}]};var bn={stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1,grid:{size:10,type:"mesh"},tool:{menu:!1,control:!1},style:{rect:{width:100,height:50,radius:6,fill:"#3eaf7c",strokeWidth:2},circle:{r:40,fill:"#3eaf7c",strokeWidth:2},nodeText:{fontSize:16,color:"#000000"},edgeText:{fontSize:16,color:"#000000"}}},gn={nodes:[{id:10,type:"circle",x:250,y:100,text:"circle"},{id:20,type:"rect",x:180,y:260,text:"rect"},{id:30,type:"rect",x:320,y:260,text:"rect"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,startPoint:{id:"250-140",x:250,y:140}},{type:"line",sourceNodeId:10,targetNodeId:30,startPoint:{id:"250-140",x:250,y:140}}]};var mn,On=n(254),xn={stopScrollGraph:!0,stopZoomGraph:!0},wn={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:70,text:"\u5706\u5f62"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u76f4\u7ebf",endPoint:{id:"150-60",x:350,y:70}}]},_n={display:"flex",alignItems:"center"};var jn={stopScrollGraph:!0,stopZoomGraph:!0};var En={type:"custom:circle",model:function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setAttributes",value:function(){var e=this;this.fill="red",this.menu=[{text:"\u81ea\u5b9a\u4e49\u5143\u7d20\u83dc\u5355",icon:!0,className:"custom-menu",callback:function(t){e.graphModel.eventCenter.emit("custom:node:event",t)}}]}}]),n}(l.CircleNodeModel),view:l.CircleNode},Sn=(n(232),{stopScrollGraph:!0,stopZoomGraph:!0}),Pn={nodes:[{id:10,type:"rect",x:150,y:80,text:"\u53f3\u952e\u83dc\u5355"},{id:11,type:"circle",x:550,y:150,text:"\u5355\u4e00\u7c7b\u578b\u83dc\u5355"},{id:12,type:"custom:circle",x:200,y:200,text:"\u4e1a\u52a1\u72b6\u6001\u83dc\u5355"}],edges:[{type:"bezier",text:"\u8fde\u63a5",sourceNodeId:10,targetNodeId:11}]};var An={stopScrollGraph:!0,stopZoomGraph:!0};var kn,Nn=n(252),Mn={stopScrollGraph:!0,stopZoomGraph:!0,stopMoveGraph:!0},Dn={nodes:[{id:10,type:"rect",x:100,y:100,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:400,y:100,text:"\u4f60\u597d\uff01"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,endPoint:{id:"150-150",x:350,y:100}}]};n(233);var Tn={stopScrollGraph:!0,stopZoomGraph:!0},Cn={nodes:[{id:10,type:"rect",x:100,y:100,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:400,y:100,text:"\u4f60\u597d\uff01"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,endPoint:{id:"150-150",x:350,y:100}}]};var In,Rn={stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1},Ln={nodes:[{id:10,type:"rect",x:150,y:80,text:"\u53f3\u952e\u8282\u70b9"},{id:20,type:"rect",x:400,y:80,text:"\u53f3\u952e\u8282\u70b9"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u53f3\u952e\u8fde\u7ebf",endPoint:{id:"150-60",x:350,y:80}}]};var zn=[{type:"circle",text:"\u5706\u5f62"},{type:"rect",text:"\u77e9\u5f62"}];function Bn(e){return Object(y.jsx)("div",{className:"panel",children:zn.map((function(t,n){var r=t.type,o=t.text;return Object(y.jsxs)("div",{className:"panel-item",children:[Object(y.jsx)("div",{className:"panel-".concat(r),onMouseDown:function(){!function(t){e.lf.dnd.startDrag(t)}(t)}}),Object(y.jsx)("span",{children:o})]},n)}))})}var Gn={pluginName:"dnd",install:function(){},render:function(e,t){i.a.render(Object(y.jsx)(Bn,{lf:e}),t)}},Fn={stopScrollGraph:!0,stopZoomGraph:!0};var Un,Xn=n(42),Hn=n(34),Yn=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e,r){return Object(m.a)(this,n),e.text={value:e.text&&e.text.value||"",x:e.x,y:e.y+35},t.call(this,e,r)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.rx=20,this.ry=20}},{key:"getConnectedTargetRules",value:function(){var e=Object(Xn.a)(Object(Hn.a)(n.prototype),"getConnectedTargetRules",this).call(this);return e.push({message:"\u8d77\u59cb\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fde\u7ebf\u7684\u7ec8\u70b9",validate:function(){return!1}}),e}}]),n}(zt.model),Vn={type:"bpmn:startEvent",view:function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getAttributes",value:function(){var e=Object(Xn.a)(Object(Hn.a)(n.prototype),"getAttributes",this).call(this);return Object(s.a)({},e)}}]),n}(zt.view),model:Yn},Wn=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e,r){return Object(m.a)(this,n),e.text={value:e.text&&e.text.value||"",x:e.x,y:e.y+40},t.call(this,e,r)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.rx=25,this.ry=25}}]),n}(Ht.model),Kn={type:"bpmn:exclusiveGateway",view:function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getResizeShape",value:function(){var e=Object(Xn.a)(Object(Hn.a)(n.prototype),"getAttributes",this).call(this),t=e.x,r=e.y,o=e.fill,i=e.stroke,a=e.strokeWidth,c=e.points.map((function(e){return e.join(",")})).join(" ");return Object(l.h)("g",{},Object(l.h)("polygon",{fill:o,stroke:i,strokeWidth:a,points:c}),Object(l.h)("path",{transform:"matrix(1 0 0 1 ".concat(t-25," ").concat(r-25,")"),fill:o,stroke:i,strokeWidth:a,d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"}))}}]),n}(Ht.view),model:Wn},Zn=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.width=100,this.height=80,this.radius=10}}]),n}(Dt.model),qn={type:"bpmn:userTask",view:function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getResizeShape",value:function(){var e=this.getAttributes(),t=e.x,n=e.y,r=e.width,o=e.height,i=e.fill,a=e.stroke,c=e.strokeWidth,u=e.radius,f={x:t-r/2,y:n-o/2,width:r,height:o,stroke:a,fill:i,strokeWidth:c,rx:u,ry:u};return Object(l.h)("g",{},[Object(l.h)("rect",Object(s.a)({},f)),Object(l.h)("svg",{x:t-r/2+5,y:n-o/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Object(l.h)("path",{fill:a,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))])}}]),n}(Dt.view),model:Zn},$n=(n(234),{background:{color:"#f7f9ff"},grid:{type:"dot",size:5,visible:!1},keyboard:{enabled:!0}}),Qn={nodes:[{id:10,type:"rect",x:100,y:100},{id:20,type:"rect",x:400,y:100}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20}]},Jn={display:"flex",alignItems:"center"};var er=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.width=80,this.height=80,this.anchorsOffset=[[40,0],[-40,0]],this.sourceRules.push({message:"\u6b63\u65b9\u5f62\u8282\u70b9\u4e0b\u4e00\u4e2a\u8282\u70b9\u53ea\u80fd\u662f\u5706\u5f62\u8282\u70b9",validate:function(e,t){return"circle"===t.type}})}}]),n}(l.RectNodeModel),tr={type:"square",view:function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getShape",value:function(){var e=this.getAttributes(),t=e.x,n=e.y,r=e.width,o=e.height,i=e.fill,a=e.stroke,c=e.strokeWidth,u=e.properties,f={x:t-r/2,y:n-o/2,width:r,height:o,stroke:a,fill:i,strokeWidth:c},p=Object(l.h)("svg",{x:t-r/2+5,y:n-o/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Object(l.h)("path",{fill:a,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}));return Object(l.h)("g",{},[Object(l.h)("rect",Object(s.a)({},f)),u.isUser?p:null])}}]),n}(l.RectNode),model:er},nr={hideAnchors:!0,stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},rr={nodes:[{id:10,type:"square",x:150,y:90,text:"\u6b63\u65b9\u5f62"}]};var or={stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},ir={nodes:[{id:10,type:"square",x:150,y:90,text:"\u6b63\u65b9\u5f62"}]};var ar=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.points=[[50,0],[100,80],[0,80]]}}]),n}(l.PolygonNodeModel),cr={type:"triangle",view:l.PolygonNode,model:ar},ur={isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0},sr={nodes:[{id:10,type:"triangle",x:150,y:70,text:"triangle"}]};var lr={stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},fr={nodes:[{id:10,type:"square",x:150,y:150,text:"\u6b63\u65b9\u5f62"},{id:20,type:"circle",x:380,y:70,text:"\u5706\u5f62"},{id:30,type:"diamond",x:380,y:230,text:"\u5176\u4ed6\u8282\u70b9"}]};var pr={hideAnchors:!0,stopScrollGraph:!0,stopZoomGraph:!0},dr={nodes:[{id:10,type:"square",x:150,y:90,text:"\u6b63\u65b9\u5f62",properties:{isUser:!0}}]};n(131);var hr=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.text.editable=!1;this.width=200,this.height=130,this.anchorsOffset=[[100,0],[0,65],[-100,0],[0,-65]]}}]),n}(l.HtmlNodeModel),yr={type:"uml",view:function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).currrentProperties=void 0,e}return Object(O.a)(n,[{key:"shouldUpdate",value:function(){var e=this.getAttributes().properties;return(!this.currrentProperties||this.currrentProperties!==JSON.stringify(e))&&(this.currrentProperties=JSON.stringify(e),!0)}},{key:"setHtml",value:function(e){var t=this.getAttributes().properties;if(this.shouldUpdate()){var n=document.createElement("div");n.className="uml-wrapper";var r='\n      <div>\n        <div class="uml-head">Head</div>\n        <div class="uml-body">\n          <div>+ '.concat(t.name,"</div>\n          <div>+ ").concat(t.body,'</div>\n        </div>\n        <div class="uml-footer">\n          <div>+ setHead(Head $head)</div>\n          <div>+ setBody(Body $body)</div>\n        </div>\n      </div>\n    ');n.innerHTML=r,e.innerHTML="",e.appendChild(n)}}}]),n}(l.HtmlNode),model:hr};function vr(e){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h1",{className:"box-title",children:"title"}),Object(y.jsxs)("div",{className:"box-content",children:[Object(y.jsx)("p",{children:e.name}),Object(y.jsx)("p",{children:e.body}),Object(y.jsx)("p",{children:"content3"})]})]})}var br,gr=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.text.editable=!1;this.width=200,this.height=116,this.anchorsOffset=[[100,0],[0,58],[-100,0],[0,-58]]}}]),n}(l.HtmlNodeModel),mr={type:"boxx",view:function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setHtml",value:function(e){var t=this.getAttributes().properties;i.a.render(Object(y.jsx)(vr,{name:t.name,body:t.body}),e)}}]),n}(l.HtmlNode),model:gr},Or={stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},xr={nodes:[{id:10,type:"uml",x:150,y:90,properties:{name:"logicflow",body:"hello"}},{id:11,type:"boxx",x:350,y:100,properties:{name:"turbo",body:"hello"}}]};var wr={stopScrollGraph:!0,stopZoomGraph:!0},_r={nodes:[{id:10,type:"rect",x:100,y:110,text:"\u5ba1\u6279\u901a\u8fc7"},{id:20,type:"rect",x:300,y:110,text:"\u5ba1\u6279\u4e2d"},{id:30,type:"rect",x:500,y:110,text:"\u672a\u5f00\u59cb"}],edges:[{type:"process",sourceNodeId:10,targetNodeId:20,startPoint:{id:"150-110",x:150,y:110},endPoint:{id:"250-110",x:250,y:110},properties:{isExecuted:!0}},{type:"process",sourceNodeId:20,targetNodeId:30,startPoint:{id:"350-110",x:350,y:110},endPoint:{id:"450-110",x:450,y:110},properties:{isExecuted:!1}}]};var jr,Er={stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1},Sr={nodes:[{id:10,type:"rect",x:150,y:80,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:80,text:"\u5706\u5f62"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u8fde\u7ebf",endPoint:{id:"150-60",x:350,y:80}}]};var Pr=n(141),Ar=n(251),kr=n(248),Nr=n(250),Mr=n(145),Dr=[{type:"apply",label:"\u7533\u8bf7",style:{width:"30px",height:"30px",borderRadius:"15px",border:"2px solid #FF6347"},property:{username:"",time:"",startTime:"",endTime:""}},{type:"approver",label:"\u5ba1\u6279",style:{width:"50px",height:"40px",borderRadius:"4px",border:"2px solid #3CB371"}},{type:"jugement",label:"\u5224\u65ad",style:{width:"30px",height:"30px",border:"2px solid #6495ED",transform:"rotate(45deg)"}},{type:"finsh",label:"\u7ed3\u675f",style:{width:"30px",height:"30px",borderRadius:"15px",border:"2px solid #FF6347"}}],Tr=[{label:"\u76f4\u63a5\u4e0a\u7ea7",value:"leader"},{label:"T3\u9886\u5bfc",value:"t3Leader"},{label:"T2\u9886\u5bfc",value:"t2Leader"},{label:"T1\u9886\u5bfc",value:"t1Leader"}],Cr={nodes:[{id:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",type:"apply",x:210,y:210,text:{x:210,y:210,value:"\u7533\u8bf7"},properties:{}},{id:"64179bd7-c60e-433c-8df7-97c8e98f855d",type:"approver",x:350,y:210,text:{x:350,y:210,value:"\u5ba1\u6279"},properties:{labelColor:"#000000",approveTypeLabel:"\u76f4\u63a5\u4e0a\u7ea7",approveType:"leader"}},{id:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",type:"jugement",x:510,y:210,text:{x:510,y:210,value:"\u5224\u65ad\u62a5\u9500\u662f\u5426\n\u5927\u4e8e1000\u5143"},properties:{api:""}},{id:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",type:"approver",x:670,y:210,text:{x:670,y:210,value:"\u5ba1\u6279"},properties:{labelColor:"#000000",approveTypeLabel:"T2\u9886\u5bfc",approveType:"t2Leader"}},{id:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",type:"finsh",x:850,y:210,text:{x:850,y:210,value:"\u7ed3\u675f"},properties:{}}],edges:[{id:"0d87b1eb-2389-445a-9f34-6227940b2072",type:"polyline",sourceNodeId:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",targetNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",startPoint:{x:235,y:210},endPoint:{x:300,y:210},text:{x:51.25,y:0,value:""},properties:{},pointsList:[{x:235,y:210},{x:300,y:210}]},{id:"d99e7451-b379-411e-b0da-df11be8be20a",type:"polyline",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",startPoint:{x:400,y:210},endPoint:{x:475,y:210},text:{x:437.5,y:210,value:"\u901a\u8fc7"},properties:{},pointsList:[{x:400,y:210},{x:475,y:210}]},{id:"4c615802-15d8-442c-be22-b65430286123",type:"polyline",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",startPoint:{x:545,y:210},endPoint:{x:620,y:210},text:{x:582.5,y:210,value:"\u662f"},properties:{},pointsList:[{x:545,y:210},{x:620,y:210}]},{id:"934ae03a-6ee0-4568-a2b4-8bcede565e0b",type:"polyline",sourceNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:720,y:210},endPoint:{x:825,y:210},text:{x:-10,y:0,value:""},properties:{},pointsList:[{x:720,y:210},{x:825,y:210}]},{id:"bd5e1dd0-1978-46f7-851b-d31c03aebee9",type:"polyline",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:350,y:170},endPoint:{x:850,y:185},text:{x:600,y:140,value:"\u9a73\u56de"},properties:{},pointsList:[{x:350,y:170},{x:350,y:140},{x:850,y:140},{x:850,y:185}]},{id:"453139c3-faa1-4e3a-a413-38f251243baa",type:"polyline",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:510,y:245},endPoint:{x:850,y:235},text:{x:680,y:275,value:"\u5426"},properties:{},pointsList:[{x:510,y:245},{x:510,y:275},{x:850,y:275},{x:850,y:235}]}]};n(235);function Ir(e,t,n){var r;console.log(e.properties);return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"\u5c5e\u6027\u9762\u677f"}),Object(y.jsxs)(kr.a,{layout:"inline",initialValues:e.properties,onValuesChange:function(n,r){Tr.forEach((function(e){e.value===n.approveType&&(n.approveTypeLabel=e.label)})),t(e.id,n)},children:[Object(y.jsxs)("span",{className:"form-property",children:["\u7c7b\u578b\uff1a",Object(y.jsx)("span",{children:e.type})]}),Object(y.jsxs)("span",{className:"form-property",children:["\u6587\u6848\uff1a",Object(y.jsx)("span",{children:null===(r=e.text)||void 0===r?void 0:r.value})]}),"approver"===e.type?function(){var e=[];return Tr.forEach((function(t){e.push(Object(y.jsx)(Ar.a.Option,{value:t.value,children:t.label}))})),Object(y.jsx)(kr.a.Item,{className:"form-property",label:"\u5ba1\u6838\u8282\u70b9\u7c7b\u578b",name:"approveType",children:Object(y.jsx)(Ar.a,{children:e})})}():"","jugement"===e.type?Object(y.jsx)(kr.a.Item,{label:"API",name:"api",children:Object(y.jsx)(Nr.a,{})}):""]},e.id),Object(y.jsxs)("div",{children:[Object(y.jsx)("h3",{children:"......"}),Object(y.jsx)("h3",{children:"\u4e1a\u52a1\u5c5e\u6027\u53ef\u6839\u636e\u9700\u8981\u8fdb\u884c\u81ea\u5b9a\u4e49\u6269\u5c55"})]}),Object(y.jsx)("div",{className:"property-panel-footer",children:Object(y.jsx)(d.a,{className:"property-panel-footer-hide",type:"primary",icon:Object(y.jsx)(Mr.a,{}),onClick:n,children:"\u6536\u8d77"})})]})}function Rr(e){return function(){var t=[];return Dr.forEach((function(n,r){t.push(Object(y.jsxs)("div",{className:"approve-node node-".concat(n.type),children:[Object(y.jsx)("div",{className:"node-shape",style:Object(s.a)({},n.style),onMouseDown:function(){return function(t){e.dnd.startDrag({type:t.type,text:t.label})}(n)}}),Object(y.jsx)("div",{className:"node-label",children:n.label})]},r))})),t}()}n(237);var Lr={stopScrollGraph:!0,stopZoomGraph:!0,grid:{size:10,visible:!0,type:"mesh",config:{color:"#DCDCDC"}},keyboard:{enabled:!0},style:{rect:{radius:8,stroke:"#3CB371"},circle:{r:25,stroke:"#FF6347"},polygon:{stroke:"#6495ED"},polyline:{strokeWidth:1},edgeText:{background:{fill:"white"}}}};var zr={0:"grey",1:"green",2:"red"};var Br=n(247),Gr=n(107),Fr=n(61),Ur={apply:"\u7533\u8bf7",approver:"\u5ba1\u6838",jugement:"\u5224\u65ad",finsh:"\u7ed3\u675f"},Xr={nodes:[{id:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",type:"apply",x:210,y:210,text:{x:210,y:210,value:"\u5f20\u4e09"},properties:{usernameZh:"\u5f20\u4e09",username:"zhangsan",time:"2020-12-01 10:23:34",result:"",desc:"\u6d3b\u52a8\u8d39\u7528",status:1}},{id:"64179bd7-c60e-433c-8df7-97c8e98f855d",type:"approver",x:350,y:210,text:{x:350,y:210,value:"\u674e\u56db"},properties:{labelColor:"#000000",approveTypeLabel:"\u76f4\u63a5\u4e0a\u7ea7",approveType:"leader",usernameZh:"\u674e\u56db",username:"zhangsan",time:"2020-12-01 11:23:34",result:"\u901a\u8fc7",desc:"",status:1}},{id:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",type:"jugement",x:510,y:210,text:{x:510,y:210,value:"\u5224\u65ad\u62a5\u9500\u662f\u5426\n\u5927\u4e8e1000\u5143"},properties:{api:"",status:1,usenameZh:"\u7cfb\u7edf",desc:"\u5224\u65ad\u62a5\u9500\u662f\u5426\u5927\u4e8e1000\u5143"}},{id:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",type:"approver",x:670,y:210,text:{x:670,y:210,value:"\u738b\u4e94"},properties:{labelColor:"#000000",approveTypeLabel:"T2\u9886\u5bfc",approveType:"t2Leader",usernameZh:"\u738b\u4e94",username:"wangwu",time:"2020-12-01 12:23:34",result:"\u9a73\u56de",desc:"",status:2}},{id:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",type:"finsh",x:850,y:210,text:{x:850,y:210,value:"\u7ed3\u675f"},properties:{status:2}}],edges:[{id:"0d87b1eb-2389-445a-9f34-6227940b2072",type:"action",sourceNodeId:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",targetNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",startPoint:{x:235,y:210},endPoint:{x:300,y:210},text:{x:51.25,y:0,value:""},properties:{status:1},pointsList:[{x:235,y:210},{x:300,y:210}]},{id:"d99e7451-b379-411e-b0da-df11be8be20a",type:"action",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",startPoint:{x:400,y:210},endPoint:{x:475,y:210},text:{x:437.5,y:210,value:"\u901a\u8fc7"},properties:{status:1},pointsList:[{x:400,y:210},{x:475,y:210}]},{id:"4c615802-15d8-442c-be22-b65430286123",type:"action",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",startPoint:{x:545,y:210},endPoint:{x:620,y:210},text:{x:582.5,y:210,value:"\u662f"},properties:{status:1},pointsList:[{x:545,y:210},{x:620,y:210}]},{id:"934ae03a-6ee0-4568-a2b4-8bcede565e0b",type:"action",sourceNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:720,y:210},endPoint:{x:825,y:210},text:{x:-10,y:0,value:"\u9a73\u56de"},properties:{status:2},pointsList:[{x:720,y:210},{x:825,y:210}]}]};function Hr(e,t){return Object(y.jsx)("div",{className:"hover-panel",style:Object(s.a)({},e),children:function(e){if(e){var n=t.properties;return Object(y.jsxs)(Br.a,{title:Ur[t.type],style:{width:300},children:[Object(y.jsxs)("p",{children:[n.usernameZh,n.username?Object(y.jsxs)("span",{children:["(",n.username,")"]}):""]}),Object(y.jsx)("p",{children:n.time}),n.result?Object(y.jsxs)("p",{children:["\u901a\u8fc7"===n.result?Object(y.jsx)(Gr.a,{style:{color:"green"}}):Object(y.jsx)(Fr.a,{style:{color:"red"}}),Object(y.jsx)("span",{style:{marginLeft:"10px"},children:n.result})]}):"",n.desc?Object(y.jsxs)("p",{children:["\u8bf4\u660e: ",n.desc]}):""]})}}(t)})}n(238);var Yr={grid:{size:10,type:"mesh",config:{color:"#DCDCDC"}},isSilentMode:!0,keyboard:{enabled:!0},style:{rect:{radius:8},circle:{r:25},edgeText:{background:{fill:"white"}}}};var Vr={stopScrollGraph:!0,stopZoomGraph:!0},Wr={nodes:[{id:10,type:"bpmn:startEvent",x:76,y:178,properties:{},baseType:"node",text:{x:76,y:213,value:"StartEvent"}},{id:11,type:"bpmn:endEvent",x:567,y:176,properties:{},baseType:"node",text:{x:567,y:211,value:"EndEvent"}},{id:12,type:"bpmn:userTask",x:386,y:59,properties:{},baseType:"node",text:{x:386,y:59,value:"UserTask"}},{id:13,type:"bpmn:serviceTask",x:385,y:286,properties:{},baseType:"node",text:{x:385,y:286,value:"ServiceTask"}},{id:14,type:"bpmn:exclusiveGateway",x:206,y:178,properties:{},baseType:"node"}],edges:[{id:"Flow_2fs3ivm",type:"bpmn:sequenceFlow",sourceNodeId:10,targetNodeId:14,startPoint:{x:94,y:178},endPoint:{x:181,y:178},properties:{},pointsList:[{x:94,y:178},{x:181,y:178}]},{id:"Flow_2mtbh4v",type:"bpmn:sequenceFlow",sourceNodeId:14,targetNodeId:12,startPoint:{x:231,y:178},endPoint:{x:336,y:59},properties:{},pointsList:[{x:231,y:178},{x:306,y:178},{x:306,y:59},{x:336,y:59}]},{id:"Flow_1hm4ecl",type:"bpmn:sequenceFlow",sourceNodeId:14,targetNodeId:13,startPoint:{x:231,y:178},endPoint:{x:335,y:286},properties:{},pointsList:[{x:231,y:178},{x:305,y:178},{x:305,y:286},{x:335,y:286}]},{id:"Flow_1vo95qa",type:"bpmn:sequenceFlow",sourceNodeId:12,targetNodeId:11,startPoint:{x:436,y:59},endPoint:{x:549,y:176},properties:{},pointsList:[{x:436,y:59},{x:519,y:59},{x:519,y:176},{x:549,y:176}]},{id:"Flow_3o5b4v0",type:"bpmn:sequenceFlow",sourceNodeId:13,targetNodeId:11,startPoint:{x:435,y:286},endPoint:{x:549,y:176},properties:{},pointsList:[{x:435,y:286},{x:519,y:286},{x:519,y:176},{x:549,y:176}]}]};var Kr,Zr=n(255),qr=(n(239),[{type:"rect",label:"\u77e9\u5f62",className:"adpter-shape adpter-rect"},{type:"circle",label:"\u5706\u5f62",className:"adpter-shape adpter-circle"}]);n(240);var $r,Qr={grid:{type:"dot",size:20}},Jr={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:70,text:"\u5706\u5f62"}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20}]},eo={display:"flex",alignItems:"center"};var to=Object(y.jsxs)(u.c,{children:[Object(y.jsx)(u.a,{path:"/basic/node",exact:!0,component:function(){return Object(r.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},A),{},{container:document.querySelector("#graph")})).render(k)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/basic/node/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/edge",exact:!0,component:function(){var e=Object(r.useState)("\u6298\u7ebf"),t=Object(c.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(),a=Object(c.a)(i,2),u=a[0],l=a[1];Object(r.useEffect)((function(){f.a.use(at);var e=new f.a(Object(s.a)(Object(s.a)({},Jt),{},{container:document.querySelector("#graph")}));e.render(en),l(e)}),[]);var p=function(e,t){u.setDefaultEdgeType(e),o(t)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5c1d\u8bd5\u4e3a\u77e9\u5f62\u548c\u5706\u5f62\u624b\u52a8\u6dfb\u52a0\u8fde\u7ebf",githubPath:"/basic/edge/index.tsx"}),Object(y.jsxs)("div",{children:["\u5f53\u524d\uff1a",n]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("button",{onClick:function(){return p("line","\u76f4\u7ebf")},children:"\u76f4\u7ebf"}),Object(y.jsx)("button",{onClick:function(){return p("polyline","\u6298\u7ebf")},children:"\u6298\u7ebf"}),Object(y.jsx)("button",{onClick:function(){return p("curved-edge","\u5706\u89d2\u6298\u7ebf")},children:"\u5706\u89d2\u6298\u7ebf"}),Object(y.jsx)("button",{onClick:function(){return p("bezier","\u66f2\u7ebf")},children:"\u66f2\u7ebf"})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/dnd",exact:!0,component:j}),Object(y.jsx)(u.a,{path:"/basic/keyboard",exact:!0,component:function(){return Object(r.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},sn),{},{container:document.querySelector("#graph")})).render(ln)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{githubPath:"/basic/keyboard/index.tsx",children:[Object(y.jsx)("div",{className:"keyboard-example-code",children:"Ctrl + C"}),Object(y.jsx)("div",{className:"keyboard-example-code",children:"Ctrl + V"})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/grid",exact:!0,component:P}),Object(y.jsx)(u.a,{path:"/basic/redoundo",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(Ue),new f.a(Object(s.a)(Object(s.a)({},fn),{},{container:document.querySelector("#graph")})).render(pn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5c1d\u8bd5\u8fde\u7ebf\u540e\u70b9\u51fb\u201c\u4e0a\u4e00\u6b65\u201d\u64a4\u9500",githubPath:"/basic/redoundo/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/snapline",exact:!0,component:function(){return Object(r.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},dn),{},{container:document.querySelector("#graph")})).render(hn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5c1d\u8bd5\u62d6\u62fd\u5706\u5f62\u4f7f\u4e24\u4e2a\u8282\u70b9\u5bf9\u9f50",githubPath:"/basic/snapline/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/silent-mode",exact:!0,component:function(){return Object(r.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},yn),{},{container:document.querySelector("#graph")})).render(vn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u9759\u9ed8\u6a21\u5f0f\u4e0b\u4e0d\u53ef\u7f16\u8f91",githubPath:"/basic/silent-mode/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/theme",exact:!0,component:function(){return Object(r.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},bn),{},{container:document.querySelector("#graph")})).render(gn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/advance/theme/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/event",exact:!0,component:function(){var e=Object(r.useState)(""),t=Object(c.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(""),a=Object(c.a)(i,2),u=a[0],l=a[1];return Object(r.useEffect)((function(){var e,t;jr=new f.a(Object(s.a)(Object(s.a)({},Er),{},{container:document.querySelector("#graph")})),t=function(e){var t=e.data,n=e.e;o(n.type),l(t.type)},(e=jr).on("node:mousedown",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),e.on("node:mouseup",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),e.on("node:mousemove",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),e.on("node:contextmenu",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),e.on("edge:click",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),e.on("edge:dbclick",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),e.on("edge:contextmenu",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),jr.render(Sr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{githubPath:"/advance/event/index.tsx",children:["\u62d6\u62fd\u6216\u70b9\u51fb\u5143\u7d20\u67e5\u770b\u89e6\u53d1\u4e8b\u4ef6\uff1a",n?"".concat(n,"-").concat(u):""]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/style",exact:!0,component:function(){return Object(r.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},nr),{},{container:document.querySelector("#graph")}));e.register(tr),e.render(rr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u8282\u70b9\u7684 width \u548c height",githubPath:"/advance/custom-node/style/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/anchor",exact:!0,component:function(){return Object(r.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},or),{},{container:document.querySelector("#graph")}));e.register(tr),e.render(ir)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u53ea\u4fdd\u7559\u6c34\u5e73\u65b9\u5411\u4e0a\u7684\u951a\u70b9",githubPath:"/advance/custom-node/anchor/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/triangle",exact:!0,component:function(){return Object(r.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},ur),{},{container:document.querySelector("#graph")}));e.register(cr),e.render(sr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u8bbe\u7f6e\u591a\u8fb9\u5f62\u7684\u9876\u70b9\u6765\u5b9e\u73b0\u4e09\u89d2\u5f62",githubPath:"/advance/custom-node/triangle/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/rule",exact:!0,component:function(){return Object(r.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},lr),{},{container:document.querySelector("#graph")}));e.register(tr),e.render(fr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u6b63\u65b9\u5f62\u7684\u4e0b\u4e00\u4e2a\u8282\u70b9\u53ea\u80fd\u662f\u5706\u5f62\u8282\u70b9",githubPath:"/advance/custom-node/rule/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/shape",exact:!0,component:function(){return Object(r.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},pr),{},{container:document.querySelector("#graph")}));e.register(tr),e.render(dr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u8282\u70b9\u7684 SVG \u5143\u7d20",githubPath:"/advance/custom-node/shape/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-edge/process",exact:!0,component:function(){return Object(r.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},wr),{},{container:document.querySelector("#graph")})),t=function(){var e=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.properties.isExecuted&&(this.stroke="green")}}]),n}(l.LineEdgeModel);return{type:"process",view:l.LineEdge,model:e}}();e.register(t),e.render(_r)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/advance/custom-edge/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/html",exact:!0,component:function(){return Object(r.useEffect)((function(){(br=new f.a(Object(s.a)(Object(s.a)({},Or),{},{container:document.querySelector("#graph_html")}))).register(yr),br.register(mr),br.render(xr),br.on("node:click",(function(e){var t=e.data;br.setProperties(t.id,{name:"turbo",body:Math.random()})}))}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u81ea\u5b9a\u4e49HTML\u8282\u70b9",githubPath:"/advance/custom-node/html/index.tsx"}),Object(y.jsx)("div",{id:"graph_html",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/snapshot",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(le),(mn=new f.a(Object(s.a)(Object(s.a)({},xn),{},{container:document.querySelector("#graph")}))).render(wn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{contentStyle:_n,githubPath:"/extension/snapshot/index.tsx",children:["\u5bfc\u51fa\u56fe\u7247\uff1a",Object(y.jsx)(d.a,{shape:"round",icon:Object(y.jsx)(On.a,{}),onClick:function(){mn.getSnapshot()}})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/control",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(Ue),new f.a(Object(s.a)(Object(s.a)({},jn),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")})).render()}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/extension/components/control/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/menu",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(Ze);var e=new f.a(Object(s.a)(Object(s.a)({},Sn),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}));e.register(En),e.setMenuByType({type:"circle",menu:[{text:"\u5706\u7684\u83dc\u5355",callback:function(){alert("callback")}}]}),e.render(Pn),e.on("custom:node:event",(function(e){console.log(e),alert("\u63a5\u6536\u5230\u81ea\u5b9a\u4e49\u8282\u70b9\u83dc\u5355\u89e6\u53d1\u4e8b\u4ef6")}))}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u53f3\u952e\u8282\u70b9\u5c55\u793a\u83dc\u5355",githubPath:"/extension/components/menu/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/dnd-panel",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(Qe),f.a.use(Je);var e=new f.a(Object(s.a)(Object(s.a)({},An),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}));e.setPatternItems([{label:"\u9009\u533a",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:function(){e.openSelectionSelect(),e.once("selection:selected",(function(){e.closeSelectionSelect()}))}},{type:"circle",text:"\u5f00\u59cb",label:"\u5f00\u59cb\u8282\u70b9",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",label:"\u7528\u6237\u4efb\u52a1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",className:"important-node"},{type:"rect",label:"\u7cfb\u7edf\u4efb\u52a1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",label:"\u6761\u4ef6\u5224\u65ad",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ed3\u675f",label:"\u7ed3\u675f\u8282\u70b9",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]),e.render()}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/extension/components/dnd-panel/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/selection",exact:!0,component:function(){var e=Object(r.useState)(!0),t=Object(c.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){f.a.use(Je),(kn=new f.a(Object(s.a)(Object(s.a)({},Mn),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}))).render(Dn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5f00\u542f\u591a\u9009\u529f\u80fd",githubPath:"/extension/components/selection/index.tsx",children:Object(y.jsx)(Nn.a,{defaultChecked:!0,onChange:function(){n?kn.closeSelectionSelect():kn.openSelectionSelect(),o(!n)}})}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/mini-map",exact:!0,component:function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){f.a.use(tt),new f.a(Object(s.a)(Object(s.a)({},Tn),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")})).render(Cn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u663e\u793a mini-map",githubPath:"/extension/components/mini-map/index.tsx",children:Object(y.jsx)(Nn.a,{onChange:function(){n?(tt.hide(),o(!1)):(tt.show(),o(!0))}})}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/custom-menu",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(Ze),(In=new f.a(Object(s.a)(Object(s.a)({},Rn),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}))).addMenuConfig({nodeMenu:[{text:"\u5206\u4eab",callback:function(){alert("\u5206\u4eab\u6210\u529f\uff01")}},{text:"\u5c5e\u6027",callback:function(e){alert("\n              \u8282\u70b9id\uff1a".concat(e.id,"\n              \u8282\u70b9\u7c7b\u578b\uff1a").concat(e.type,"\n              \u8282\u70b9\u5750\u6807\uff1a(x: ").concat(e.x,", y: ").concat(e.y,")"))}}],edgeMenu:[{text:"\u5c5e\u6027",callback:function(e){console.log(e),alert("\n              \u8fb9id\uff1a".concat(e.id,"\n              \u8fb9\u7c7b\u578b\uff1a").concat(e.type,"\n              \u6e90\u8282\u70b9id\uff1a").concat(e.sourceNodeId,"\n              \u76ee\u6807\u8282\u70b9id\uff1a").concat(e.targetNodeId))}}],graphMenu:[{text:"\u5206\u4eab",callback:function(){alert("\u5206\u4eab\u6210\u529f\uff01")}}]}),In.render(Ln)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5206\u522b\u53f3\u952e\u8282\u70b9\u548c\u753b\u5e03\u6765\u5c55\u793a\u83dc\u5355"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/custom-dnd",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(Gn),new f.a(Object(s.a)(Object(s.a)({},Fn),{},{container:document.querySelector("#graph")})).render()}),[]),Object(y.jsx)("div",{id:"graph",className:"viewport"})}}),Object(y.jsx)(u.a,{path:"/extension/bpmn-elements",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(se);var e=new f.a(Object(s.a)(Object(s.a)({},Vr),{},{container:document.querySelector("#graph")}));window.lf=e,e.render(Wr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/extension/bpmn/Elements.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/adapter",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(Ee),f.a.use(Ue),f.a.use(Qe),(Kr=new f.a({container:document.querySelector("#graph"),stopScrollGraph:!0,stopZoomGraph:!0})).setPatternItems(qr),Kr.render()}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{githubPath:"/extension/adapter/index.tsx",children:["\u5bfc\u51fa bpmnAdapter \u8f6c\u6362\u540e\u7684\u6570\u636e\u683c\u5f0f\uff1a",Object(y.jsx)(d.a,{shape:"round",icon:Object(y.jsx)(Zr.a,{}),onClick:function(){var e=Kr.getGraphData();!function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("logic-flow.json",JSON.stringify(e))}})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/node-resize",exact:!0,component:function(){Object(r.useEffect)((function(){Yt.style.outline=Object(s.a)(Object(s.a)({},Yt.style.outline),{},{stroke:"#1E90FF",strokeDasharray:""}),f.a.use(Yt),(Un=new f.a(Object(s.a)(Object(s.a)({},$n),{},{container:document.querySelector("#graph")}))).setTheme({rect:{strokeWidth:2,outlineColor:"transparent",stroke:"blue"},ellipse:{strokeWidth:2,outlineColor:"transparent"},diamond:{strokeWidth:2,outlineColor:"transparent"}}),Un.register(Vn),Un.register(Kn),Un.register(qn),Un.render(Qn),Un.on("node:resize",(function(e){console.log(e);var t=e.newNodeSize,n=t.id,r=t.type;if("bpmn:exclusiveGateway"===r||"bpmn:startEvent"===r){var o={x:t.x,y:t.y+t.ry+10};Un.setNodeData({id:n,text:o})}}))}),[]);var e=function(e){Un.dnd.startDrag({type:e})};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{contentStyle:Jn,githubPath:"/extension/NodeResize/index.tsx",children:"\u8282\u70b9\u7f29\u653e"}),Object(y.jsxs)("div",{className:"node-resize-list",children:[Object(y.jsx)("div",{children:"\u62d6\u62fd\u6dfb\u52a0\u8282\u70b9"}),Object(y.jsx)("div",{className:"node-resize-custome",onMouseDown:function(){return e("bpmn:userTask")},children:"\u7528\u6237"}),Object(y.jsx)("div",{className:"node-resize-custome",onMouseDown:function(){return e("bpmn:startEvent")},children:"\u5f00\u59cb"}),Object(y.jsx)("div",{className:"node-resize-custome",onMouseDown:function(){return e("bpmn:exclusiveGateway")},children:"\u5224\u65ad"}),Object(y.jsx)("div",{className:"node-resize-rect",onMouseDown:function(){return e("rect")}}),Object(y.jsx)("div",{className:"node-resize-ellipse",onMouseDown:function(){return e("ellipse")}}),Object(y.jsx)("div",{className:"node-resize-diamond",onMouseDown:function(){return e("diamond")}})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/InserNodeInPolyline",exact:!0,component:function(){return Object(r.useEffect)((function(){f.a.use(Be),f.a.use(Qe),f.a.use(Je),($r=new f.a(Object(s.a)(Object(s.a)({},Qr),{},{container:document.querySelector("#graph")}))).setPatternItems([{type:"circle",label:"\u5706\u5f62",className:"circle"},{type:"rect",label:"\u77e9\u5f62",className:"rect"}]),$r.render(Jr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{contentStyle:eo,children:"\u62d6\u62fd\u8282\u70b9\u5230\u7ebf\u4e2d\u95f4\u8fdb\u884c\u8282\u70b9\u63d2\u5165\uff1a"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/usage/bpmn",exact:!0,component:un}),Object(y.jsx)(u.a,{path:"/usage/approve",exact:!0,component:function(){var e=Object(r.useState)({}),t=Object(c.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(),a=Object(c.a)(i,2),u=a[0],p=a[1];Object(r.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},Lr),{},{container:document.querySelector("#graph")}));o(e),function(e){var t=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getConnectedTargetRules",value:function(){var e=Object(Xn.a)(Object(Hn.a)(n.prototype),"getConnectedTargetRules",this).call(this);return e.push({message:"\u5f00\u59cb\u8282\u70b9\u53ea\u80fd\u8fde\u51fa\uff0c\u4e0d\u80fd\u8fde\u5165\uff01",validate:function(e,t){var n=!0;return t&&(n=!1),n}}),e}}]),n}(l.CircleNodeModel);e.register({type:"apply",view:l.CircleNode,model:t});var n=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getLabelShape",value:function(){var e=Object(Xn.a)(Object(Hn.a)(n.prototype),"getAttributes",this).call(this),t=e.x,r=e.y,o=e.width,i=e.height,a=e.properties,c=a.labelColor,u=a.approveTypeLabel;return Object(l.h)("text",{fill:c,fontSize:12,x:t-o/2+5,y:r-i/2+15,width:50,height:25},u)}},{key:"getShape",value:function(){var e=Object(Xn.a)(Object(Hn.a)(n.prototype),"getAttributes",this).call(this),t=e.x,r=e.y,o=e.width,i=e.height,a=e.fill,c=e.stroke,u=e.strokeWidth,s=e.radius;return Object(l.h)("g",{},[Object(l.h)("rect",{x:t-o/2,y:r-i/2,rx:s,ry:s,fill:a,stroke:c,strokeWidth:u,width:o,height:i}),this.getLabelShape()])}}]),n}(l.RectNode);n.extendKey="UserTaskNode";var r=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e,r){var o;return Object(m.a)(this,n),(o=t.call(this,e,r)).properties={labelColor:"#000000",approveTypeLabel:"",approveType:""},o}return n}(l.RectNodeModel);e.register({type:"approver",view:n,model:r});var o=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e,r){var o;return Object(m.a)(this,n),(o=t.call(this,e,r)).points=[[35,0],[70,35],[35,70],[0,35]],o.properties={api:""},o}return n}(l.PolygonNodeModel);e.register({type:"jugement",view:l.PolygonNode,model:o});var i=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getConnectedSourceRules",value:function(){var e=Object(Xn.a)(Object(Hn.a)(n.prototype),"getConnectedSourceRules",this).call(this);return e.push({message:"\u7ed3\u675f\u8282\u70b9\u53ea\u80fd\u8fde\u5165\uff0c\u4e0d\u80fd\u8fde\u51fa\uff01",validate:function(e){var t=!0;return e&&(t=!1),t}}),e}}]),n}(l.CircleNodeModel);e.register({type:"finsh",view:l.CircleNode,model:i})}(e),e.render(Cr),d(e)}),[]);var d=function(e){e.on("element:click",(function(t){var n=t.data;p(n),console.log(JSON.stringify(e.getGraphData()))})),e.on("connection:not-allowed",(function(e){Pr.b.error(e.msg)}))};return Object(y.jsxs)("div",{className:"approve-example-container",children:[Object(y.jsx)("div",{className:"node-panel",children:Rr(n)}),Object(y.jsx)("div",{id:"graph",className:"viewport"}),u?Object(y.jsx)("div",{className:"property-panel",children:Ir(u,(function(e,t){var r=n.graphModel.nodesMap[e],o=n.graphModel.edgesMap[e];r?r.model.setProperties(Object.assign(r.model.properties,t)):o&&o.model.setProperties(Object.assign(o.model.properties,t))}),(function(){p(void 0)}))}):""]})}}),Object(y.jsx)(u.a,{path:"/usage/approve/preview",exact:!0,component:function(){var e=Object(r.useState)(),t=Object(c.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(Boolean),a=Object(c.a)(i,2),u=a[0],p=a[1],d=Object(r.useState)({}),h=Object(c.a)(d,2),v=h[0],b=h[1];Object(r.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},Yr),{},{container:document.querySelector("#graph")}));!function(e){var t=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e,r){var o;Object(m.a)(this,n),o=t.call(this,e,r);var i=e.properties;return o.stroke=zr[i.status],o}return n}(l.CircleNodeModel);e.register({type:"apply",model:t,view:l.CircleNode});var n=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getLabelShape",value:function(){var e=Object(Xn.a)(Object(Hn.a)(n.prototype),"getAttributes",this).call(this),t=e.x,r=e.y,o=e.width,i=e.height,a=e.properties,c=a.labelColor,u=a.approveTypeLabel;return Object(l.h)("text",{fill:c,fontSize:12,x:t-o/2+5,y:r-i/2+15,width:50,height:25},u)}},{key:"getShape",value:function(){var e=Object(Xn.a)(Object(Hn.a)(n.prototype),"getAttributes",this).call(this),t=e.x,r=e.y,o=e.width,i=e.height,a=e.fill,c=e.stroke,u=e.strokeWidth,s=e.radius;return Object(l.h)("g",{},[Object(l.h)("rect",{x:t-o/2,y:r-i/2,rx:s,ry:s,fill:a,stroke:c,strokeWidth:u,width:o,height:i}),this.getLabelShape()])}}]),n}(l.RectNode);n.extendKey="UserTaskNode";var r=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e,r){var o;Object(m.a)(this,n),o=t.call(this,e,r);var i=e.properties;return o.stroke=zr[i.status],o}return n}(l.RectNodeModel);e.register({type:"approver",view:n,model:r});var o=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e,r){var o;Object(m.a)(this,n),(o=t.call(this,e,r)).points=[[35,0],[70,35],[35,70],[0,35]];var i=e.properties;return o.stroke=zr[i.status],o.properties={api:""},o}return n}(l.PolygonNodeModel);e.register({type:"jugement",view:l.PolygonNode,model:o});var i=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e,r){var o;Object(m.a)(this,n),o=t.call(this,e,r);var i=e.properties;return o.stroke=zr[i.status],o}return n}(l.CircleNodeModel);e.register({type:"finsh",view:l.CircleNode,model:i});var a=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e,r){var o;Object(m.a)(this,n),o=t.call(this,e,r);var i=e.properties;return o.stroke=zr[i.status],o.hoverStroke=zr[i.status],o.selectedStroke=zr[i.status],o}return n}(l.PolylineEdgeModel);e.register({type:"action",view:l.PolylineEdge,model:a})}(e),e.render(Xr),g(e)}),[]);var g=function(e){e.on("node:mouseenter",(function(e){var t=e.e,n=e.data;o(n),p(!0),n.id?b({top:t.clientY,left:t.clientX}):b({display:"none"})})),e.on("node:mouseleave",(function(){o(void 0),p(!0)})),e.on("blank:mousemove",(function(e){var t=e.e;b({top:t.clientY,left:t.clientX})}))};return Object(y.jsxs)("div",{className:"approve-example-container",children:[Object(y.jsx)("div",{id:"graph",className:"viewport"}),u?Hr(v,n):""]})}}),Object(y.jsx)(u.a,{path:"/",component:function(){return Object(r.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},b),{},{metaKeyMultipleSelected:!0,container:document.querySelector("#container")})).render(g)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/start/index.tsx"}),Object(y.jsx)("div",{id:"container",className:"viewport"})]})}})]}),no=(n(244),n(249)),ro={"/basic/node":{name:"\u8282\u70b9 Node",group:"basic",hidden:!1},"/basic/edge":{name:"\u8fb9 Edge",group:"basic",hidden:!1},"/basic/dnd":{name:"\u62d6\u62fd Dnd",group:"basic",hidden:!1},"/basic/keyboard":{name:"\u952e\u76d8\u5feb\u6377\u952e Keyboard",group:"basic",hidden:!1},"/basic/grid":{name:"\u7f51\u683c Grid",group:"basic",hidden:!1},"/basic/redoundo":{name:"\u64a4\u9500/\u91cd\u505a Undo/Redo",group:"basic",hidden:!1},"/basic/snapline":{name:"\u5bf9\u9f50\u7ebf Snapline",group:"basic",hidden:!1},"/basic/silent-mode":{name:"\u9759\u9ed8\u6a21\u5f0f",group:"basic",hidden:!1},"/advance/theme":{name:"\u4e3b\u9898\u6837\u5f0f",group:"advance",hidden:!1},"/advance/event":{name:"\u4e8b\u4ef6 Event",group:"advance",hidden:!1},"/advance/custom-node/style":{name:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u8282\u70b9\u7684 width \u548c height",group:"advance.custom-node",hidden:!1},"/advance/custom-node/anchor":{name:"\u53ea\u4fdd\u7559\u6c34\u5e73\u65b9\u5411\u4e0a\u7684\u951a\u70b9",group:"advance.custom-node",hidden:!1},"/advance/custom-node/triangle":{name:"\u8bbe\u7f6e\u591a\u8fb9\u5f62\u7684\u9876\u70b9\u6765\u5b9e\u73b0\u4e09\u89d2\u5f62",group:"advance.custom-node",hidden:!1},"/advance/custom-node/rule":{name:"\u6b63\u65b9\u5f62\u7684\u4e0b\u4e00\u4e2a\u8282\u70b9\u53ea\u80fd\u662f\u5706\u5f62\u8282\u70b9",group:"advance.custom-node",hidden:!1},"/advance/custom-node/shape":{name:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u8282\u70b9\u7684 SVG \u5143\u7d20",group:"advance.custom-node",hidden:!1},"/advance/custom-edge/process":{name:"\u6d41\u7a0b\u56fe",group:"advance.custom-edge",hidden:!1},"/advance/custom-node/html":{name:"\u81ea\u5b9a\u4e49HTML\u8282\u70b9",group:"advance.custom-node",hidden:!1},"/extension/snapshot":{name:"\u5bfc\u51fa\u56fe\u7247",group:"extension",hidden:!1},"/extension/components/control":{name:"\u63a7\u5236\u680f",group:"extension.components",hidden:!1},"/extension/components/menu":{name:"\u53f3\u952e\u8282\u70b9\u5c55\u793a\u83dc\u5355",group:"extension.components",hidden:!1},"/extension/components/dnd-panel":{name:"\u6570\u636e\u9762\u677f",group:"extension.components",hidden:!1},"/extension/components/selection":{name:"\u5f00\u542f\u591a\u9009\u529f\u80fd",group:"extension.components",hidden:!1},"/extension/components/mini-map":{name:"\u7f29\u7565\u56fe",group:"extension.components",hidden:!1},"/extension/components/custom-menu":{name:"\u5206\u522b\u53f3\u952e\u8282\u70b9\u548c\u753b\u5e03\u6765\u5c55\u793a\u83dc\u5355",group:"extension.components",hidden:!1},"/extension/components/custom-dnd":{name:"\u81ea\u5b9a\u4e49\u62d6\u62fd\u5143\u7d20",group:"extension.components",hidden:!1},"/extension/bpmn-elements":{name:"bpmn\u5143\u7d20",group:"extension",hidden:!1},"/extension/adapter":{name:"\u5bfc\u51fa bpmnAdapter \u8f6c\u6362\u540e\u7684\u6570\u636e\u683c\u5f0f",group:"extension",hidden:!1},"/extension/node-resize":{name:"\u8282\u70b9\u7f29\u653e",group:"extension",hidden:!1},"/extension/InserNodeInPolyline":{name:"\u62d6\u62fd\u8282\u70b9\u5230\u7ebf\u4e2d\u95f4\u8fdb\u884c\u8282\u70b9\u63d2\u5165",group:"extension",hidden:!1},"/usage/bpmn":{name:"Bpmn\u793a\u4f8b",group:"usage",hidden:!1},"/usage/approve":{name:"\u5ba1\u6279\u6d41",group:"usage",hidden:!1},"/usage/approve/preview":{name:"\u9884\u89c8",group:"usage",hidden:!1},"/":{name:"\u5165\u95e8",group:"root",hidden:!1}},oo={basic:"\u57fa\u7840",advance:"\u8fdb\u9636","custom-node":"\u81ea\u5b9a\u4e49\u8282\u70b9","custom-edge":"\u81ea\u5b9a\u4e49\u8fde\u7ebf",extension:"\u62d3\u5c55",components:"\u7ec4\u4ef6",usage:"\u4f7f\u7528"},io=no.a.SubMenu,ao=to.props.children.map((function(e){var t=e.props.path;return{name:t,path:t}}));var co=function(){var e=Object(u.f)(),t=function(){var e=[];return ao.map((function(t){var n,r=t.path,o=null!==(n=ro[r])&&void 0!==n?n:{},i=o.name,a=o.group,u=a.split("."),s=Object(c.a)(u,1)[0];if("root"!==s){var l=e.findIndex((function(e){return e.key===s}));if(-1===l){var f,p=null!==(f=oo[s])&&void 0!==f?f:"";e.push({key:s,children:Object(y.jsx)(io,{title:p,children:[Object(y.jsx)(no.a.Item,{title:i,children:i},r)]},s)})}else e[l].children.props.children.push(Object(y.jsx)(no.a.Item,{title:i,children:i},r))}else e.push({key:a,children:Object(y.jsx)(no.a.Item,{title:i,children:i},r)})})),e}(),n=-1!==Object(u.g)().search.indexOf("from=doc");return Object(y.jsxs)("div",{className:"App",children:[n?"":Object(y.jsx)(no.a,{mode:"inline",style:{flexShrink:0,width:300},onClick:function(t){return e.push(t.key)},children:t.map((function(e){return e.children}))}),Object(y.jsx)("div",{className:"container",children:to})]})},uo=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,256)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),i(e),a(e)}))};i.a.render(Object(y.jsx)("div",{children:Object(y.jsx)(a.a,{children:Object(y.jsx)(co,{})})}),document.getElementById("root")),uo()},5:function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=184)}([function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return Tn})),n.d(t,"b",(function(){return pn})),n.d(t,"c",(function(){return Ke})),n.d(t,"d",(function(){return Ne})),n.d(t,"e",(function(){return ke})),n.d(t,"f",(function(){return Pn})),n.d(t,"g",(function(){return de})),n.d(t,"h",(function(){return Ae})),n.d(t,"i",(function(){return st})),n.d(t,"j",(function(){return dt})),n.d(t,"k",(function(){return se})),n.d(t,"l",(function(){return mt})),n.d(t,"m",(function(){return M})),n.d(t,"n",(function(){return Tt})),n.d(t,"o",(function(){return Ot})),n.d(t,"p",(function(){return jt})),n.d(t,"q",(function(){return Sn})),n.d(t,"r",(function(){return An})),n.d(t,"s",(function(){return ft})),n.d(t,"t",(function(){return Pt})),n.d(t,"u",(function(){return At})),n.d(t,"v",(function(){return Nt})),n.d(t,"w",(function(){return ln})),n.d(t,"x",(function(){return hn})),n.d(t,"y",(function(){return En})),n.d(t,"z",(function(){return Mt})),n.d(t,"A",(function(){return re})),n.d(t,"B",(function(){return Ct})),n.d(t,"C",(function(){return bt})),n.d(t,"D",(function(){return vt})),n.d(t,"E",(function(){return lt})),n.d(t,"F",(function(){return it})),n.d(t,"G",(function(){return Lt})),n.d(t,"H",(function(){return Bt})),n.d(t,"I",(function(){return be})),n.d(t,"J",(function(){return Dt})),n.d(t,"K",(function(){return Gt}));var o=[];Object.freeze(o);var i={};Object.freeze(i);var a={};function c(){return"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:a}function u(){return++Ge.mobxGuid}function s(e){throw l(!1,e),"X"}function l(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is an production build."))}function f(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var p=function(){};function d(e){return null!==e&&"object"==typeof e}function h(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function y(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function v(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function b(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return d(e)&&!0===e[n]}}function g(e){return void 0!==c().Map&&e instanceof c().Map}function m(e){return e instanceof Set}function O(e){for(var t=[];;){var n=e.next();if(n.done)break;t.push(n.value)}return t}function x(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function w(e){return null===e?null:"object"==typeof e?""+e:e}function _(e,t){for(var n=e.next();!n.done;)t(n.value),n=e.next()}function j(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function E(e,t){v(e,j(),t)}function S(e){return e[j()]=A,e}function P(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function A(){return this}var k=function(){function e(e){void 0===e&&(e="Atom@"+u()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=ie.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return Ve(this)},e.prototype.reportChanged=function(){He(),function(e){if(e.lowestObserverState!==ie.STALE){e.lowestObserverState=ie.STALE;for(var t=e.observers,n=t.length;n--;){var r=t[n];r.dependenciesState===ie.UP_TO_DATE&&(r.isTracing!==ae.NONE&&We(r,e),r.onBecomeStale()),r.dependenciesState=ie.STALE}}}(this),Ye()},e.prototype.toString=function(){return this.name},e}(),N=b("Atom",k);function M(e,t,n){void 0===t&&(t=p),void 0===n&&(n=p);var r,o=new k(e);return gt("onBecomeObserved",o,t,r),bt(o,n),o}function D(e,t){return e===t}var T={identity:D,structural:function(e,t){return Nn(e,t)},default:function(e,t){return function(e,t){return"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(e,t)||D(e,t)},shallow:function(e,t){return Nn(e,t,1)}},C=function(e,t){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function I(e,t){function n(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var R=function(){return(R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function L(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function z(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(L(arguments[t]));return e}var B={},G={};function F(e,t){var n=t?B:G;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return U(this),this[e]},set:function(t){U(this),this[e]=t}})}function U(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var n in y(e,"__mobxDidRunLazyInitializers",!0),t){var r=t[n];r.propertyCreator(e,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function X(e,t){return function(){var n,r=function(r,o,i,a){if(!0===a)return t(r,o,i,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,"__mobxDecorators")){var c=r.__mobxDecorators;y(r,"__mobxDecorators",R({},c))}return r.__mobxDecorators[o]={prop:o,propertyCreator:t,descriptor:i,decoratorTarget:r,decoratorArguments:n},F(o,e)};return H(arguments)?(n=o,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function H(e){return(2===e.length||3===e.length)&&"string"==typeof e[1]||4===e.length&&!0===e[3]}function Y(e,t,n){return Nt(e)?e:Array.isArray(e)?re.array(e,{name:n}):h(e)?re.object(e,void 0,{name:n}):g(e)?re.map(e,{name:n}):m(e)?re.set(e,{name:n}):e}function V(e){return e}function W(e){l(e);var t=X(!0,(function(t,n,r,o,i){On(t,n,r?r.initializer?r.initializer.call(t):r.value:void 0,e)})),n=(void 0!==r&&r.env,t);return n.enhancer=e,n}var K={deep:!0,name:void 0,defaultDecorator:void 0},Z={deep:!1,name:void 0,defaultDecorator:void 0};function q(e){return null==e?K:"string"==typeof e?{name:e,deep:!0}:e}function $(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?V:Y}Object.freeze(K),Object.freeze(Z);var Q=W(Y),J=W((function(e,t,n){return null==e||En(e)||ln(e)||hn(e)||bn(e)?e:Array.isArray(e)?re.array(e,{name:n,deep:!1}):h(e)?re.object(e,void 0,{name:n,deep:!1}):g(e)?re.map(e,{name:n,deep:!1}):m(e)?re.set(e,{name:n,deep:!1}):s(!1)})),ee=W(V),te=W((function(e,t,n){return Nn(e,t)?t:e})),ne={box:function(e,t){arguments.length>2&&oe("box");var n=q(t);return new Te(e,$(n),n.name,!0,n.equals)},shallowBox:function(e,t){return arguments.length>2&&oe("shallowBox"),re.box(e,{name:t,deep:!1})},array:function(e,t){arguments.length>2&&oe("array");var n=q(t);return new rn(e,$(n),n.name)},shallowArray:function(e,t){return arguments.length>2&&oe("shallowArray"),re.array(e,{name:t,deep:!1})},map:function(e,t){arguments.length>2&&oe("map");var n=q(t);return new pn(e,$(n),n.name)},shallowMap:function(e,t){return arguments.length>2&&oe("shallowMap"),re.map(e,{name:t,deep:!1})},set:function(e,t){arguments.length>2&&oe("set");var n=q(t);return new vn(e,$(n),n.name)},object:function(e,t,n){return"string"==typeof arguments[1]&&oe("object"),Ot({},e,t,q(n))},shallowObject:function(e,t){return"string"==typeof arguments[1]&&oe("shallowObject"),re.object(e,{},{name:t,deep:!1})},ref:ee,shallow:J,deep:Q,struct:te},re=function e(t,n,r){if("string"==typeof arguments[1])return Q.apply(null,arguments);if(Nt(t))return t;var o=h(t)?e.object(t,n,r):Array.isArray(t)?e.array(t,n):g(t)?e.map(t,n):m(t)?e.set(t,n):t;if(o!==t)return o;s(!1)};function oe(e){s("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(ne).forEach((function(e){return re[e]=ne[e]}));var ie,ae,ce=X(!1,(function(e,t,n,r,o){var i=n.get,a=n.set,c=o[0]||{};!function(e,t,n){var r=mn(e);n.name=r.name+"."+t,n.context=e,r.values[t]=new Ie(n),Object.defineProperty(e,t,function(e){return wn[e]||(wn[e]={configurable:Ge.computedConfigurable,enumerable:!1,get:function(){return _n(this).read(this,e)},set:function(t){_n(this).write(this,e,t)}})}(t))}(e,t,R({get:i,set:a},c))})),ue=ce({equals:T.structural}),se=function(e,t,n){if("string"==typeof t)return ce.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return ce.apply(null,arguments);var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new Ie(r)};se.struct=ue,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(ie||(ie={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(ae||(ae={}));var le=function(e){this.cause=e};function fe(e){return e instanceof le}function pe(e){switch(e.dependenciesState){case ie.UP_TO_DATE:return!1;case ie.NOT_TRACKING:case ie.STALE:return!0;case ie.POSSIBLY_STALE:for(var t=Oe(!0),n=ge(),r=e.observing,o=r.length,i=0;i<o;i++){var a=r[i];if(Re(a)){if(Ge.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return me(n),xe(t),!0}if(e.dependenciesState===ie.STALE)return me(n),xe(t),!0}}return we(e),me(n),xe(t),!1}}function de(){return null!==Ge.trackingDerivation}function he(e){var t=e.observers.length>0;Ge.computationDepth>0&&t&&s(!1),Ge.allowStateChanges||!t&&"strict"!==Ge.enforceActions||s(!1)}function ye(e,t,n){var r=Oe(!0);we(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Ge.runId;var o,i=Ge.trackingDerivation;if(Ge.trackingDerivation=e,!0===Ge.disableErrorBoundaries)o=t.call(n);else try{o=t.call(n)}catch(e){o=new le(e)}return Ge.trackingDerivation=i,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=ie.UP_TO_DATE,o=0,i=e.unboundDepsCount,a=0;a<i;a++)0===(c=n[a]).diffValue&&(c.diffValue=1,o!==a&&(n[o]=c),o++),c.dependenciesState>r&&(r=c.dependenciesState);for(n.length=o,e.newObserving=null,i=t.length;i--;)0===(c=t[i]).diffValue&&Ue(c,e),c.diffValue=0;for(;o--;){var c;1===(c=n[o]).diffValue&&(c.diffValue=0,Fe(c,e))}r!==ie.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),e.observing.length,xe(r),o}function ve(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)Ue(t[n],e);e.dependenciesState=ie.NOT_TRACKING}function be(e){var t=ge(),n=e();return me(t),n}function ge(){var e=Ge.trackingDerivation;return Ge.trackingDerivation=null,e}function me(e){Ge.trackingDerivation=e}function Oe(e){var t=Ge.allowStateReads;return Ge.allowStateReads=e,t}function xe(e){Ge.allowStateReads=e}function we(e){if(e.dependenciesState!==ie.UP_TO_DATE){e.dependenciesState=ie.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=ie.UP_TO_DATE}}var _e=0,je=1,Ee=Object.getOwnPropertyDescriptor((function(){}),"name");function Se(e,t){var n=function(){return Pe(e,t,this,arguments)};return n.isMobxAction=!0,n}function Pe(e,t,n,r){var o=Ae(e,n,r);try{return t.apply(n,r)}catch(e){throw o.error=e,e}finally{ke(o)}}function Ae(e,t,n){var r=et()&&!!e,o=0;if(r){o=Date.now();var i=n&&n.length||0,a=new Array(i);if(i>0)for(var c=0;c<i;c++)a[c]=n[c];nt({type:"action",name:e,object:t,arguments:a})}var u=ge();He();var s={prevDerivation:u,prevAllowStateChanges:Me(!0),prevAllowStateReads:Oe(!0),notifySpy:r,startTime:o,actionId:je++,parentActionId:_e};return _e=s.actionId,s}function ke(e){_e!==e.actionId&&s("invalid action stack. did you forget to finish an action?"),_e=e.parentActionId,void 0!==e.error&&(Ge.suppressReactionErrors=!0),De(e.prevAllowStateChanges),xe(e.prevAllowStateReads),Ye(),me(e.prevDerivation),e.notifySpy&&ot({time:Date.now()-e.startTime}),Ge.suppressReactionErrors=!1}function Ne(e,t){var n,r=Me(e);try{n=t()}finally{De(r)}return n}function Me(e){var t=Ge.allowStateChanges;return Ge.allowStateChanges=e,t}function De(e){Ge.allowStateChanges=e}Ee&&Ee.configurable;var Te=function(e){function t(t,n,r,o,i){void 0===r&&(r="ObservableValue@"+u()),void 0===o&&(o=!0),void 0===i&&(i=T.default);var a=e.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=i,a.hasUnreportedChange=!1,a.value=n(t,void 0,r),o&&et()&&tt({type:"create",name:a.name,newValue:""+a.value}),a}return I(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==Ge.UNCHANGED){var n=et();n&&nt({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&ot()}},t.prototype.prepareNewValue=function(e){if(he(this),Xt(this)){var t=Yt(this,{object:this,type:"update",newValue:e});if(!t)return Ge.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Ge.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Vt(this)&&Kt(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return Ht(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Wt(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return w(this.get())},t}(k);Te.prototype[x()]=Te.prototype.valueOf;var Ce=b("ObservableValue",Te),Ie=function(){function e(e){this.dependenciesState=ie.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=ie.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+u(),this.value=new le(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ae.NONE,l(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+u(),e.set&&(this.setter=Se(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?T.structural:T.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState===ie.UP_TO_DATE){e.lowestObserverState=ie.POSSIBLY_STALE;for(var t=e.observers,n=t.length;n--;){var r=t[n];r.dependenciesState===ie.UP_TO_DATE&&(r.dependenciesState=ie.POSSIBLY_STALE,r.isTracing!==ae.NONE&&We(r,e),r.onBecomeStale())}}}(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){this.isComputing&&s("Cycle detected in computation "+this.name+": "+this.derivation),0!==Ge.inBatch||0!==this.observers.length||this.keepAlive?(Ve(this),pe(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState!==ie.STALE){e.lowestObserverState=ie.STALE;for(var t=e.observers,n=t.length;n--;){var r=t[n];r.dependenciesState===ie.POSSIBLY_STALE?r.dependenciesState=ie.STALE:r.dependenciesState===ie.UP_TO_DATE&&(e.lowestObserverState=ie.UP_TO_DATE)}}}(this)):pe(this)&&(this.warnAboutUntrackedRead(),He(),this.value=this.computeValue(!1),Ye());var e=this.value;if(fe(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(fe(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){l(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else l(!1,!1)},e.prototype.trackAndCompute=function(){et()&&tt({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===ie.NOT_TRACKING,n=this.computeValue(!0),r=t||fe(e)||fe(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Ge.computationDepth++,e)t=ye(this,this.derivation,this.scope);else if(!0===Ge.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new le(e)}return Ge.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(ve(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,o=void 0;return dt((function(){var i=n.get();if(!r||t){var a=ge();e({type:"update",object:n,newValue:i,oldValue:o}),me(a)}r=!1,o=i}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return w(this.get())},e}();Ie.prototype[x()]=Ie.prototype.valueOf;var Re=b("ComputedValue",Ie),Le=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},ze=!0,Be=!1,Ge=function(){var e=c();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(ze=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Le).version&&(ze=!1),ze?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Le):(setTimeout((function(){Be||s("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Le)}();function Fe(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Ue(e,t){if(1===e.observers.length)e.observers.length=0,Xe(e);else{var n=e.observers,r=e.observersIndexes,o=n.pop();if(o!==t){var i=r[t.__mapid]||0;i?r[o.__mapid]=i:delete r[o.__mapid],n[i]=o}delete r[t.__mapid]}}function Xe(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Ge.pendingUnobservations.push(e))}function He(){Ge.inBatch++}function Ye(){if(0==--Ge.inBatch){qe();for(var e=Ge.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.length&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Ie&&n.suspend())}Ge.pendingUnobservations=[]}}function Ve(e){var t=Ge.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.length&&Ge.inBatch>0&&Xe(e),!1)}function We(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===ae.BREAK){var n=[];!function e(t,n,r){n.length>=1e3?n.push("(and many more)"):(n.push(""+new Array(r).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,n,r+1)})))}((r=e,xt(Sn(r,o))),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Ie?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}var r,o}var Ke=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+u()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=ie.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+u(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ae.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ge.pendingReactions.push(this),qe())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(He(),this._isScheduled=!1,pe(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&et()&&tt({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}Ye()}},e.prototype.track=function(e){He();var t,n=et();n&&(t=Date.now(),nt({name:this.name,type:"reaction"})),this._isRunning=!0;var r=ye(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ve(this),fe(r)&&this.reportExceptionInDerivation(r.cause),n&&ot({time:Date.now()-t}),Ye()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(Ge.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ge.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),et()&&tt({type:"error",name:this.name,message:n,error:""+e}),Ge.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(He(),ve(this),Ye()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=zt(e);if(!r)return s(!1);r.isTracing===ae.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?ae.BREAK:ae.LOG}(this,e)},e}(),Ze=function(e){return e()};function qe(){Ge.inBatch>0||Ge.isRunningReactions||Ze($e)}function $e(){Ge.isRunningReactions=!0;for(var e=Ge.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}Ge.isRunningReactions=!1}var Qe=b("Reaction",Ke);function Je(e){var t=Ze;Ze=function(n){return e((function(){return t(n)}))}}function et(){return!!Ge.spyListeners.length}function tt(e){if(Ge.spyListeners.length)for(var t=Ge.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function nt(e){tt(R(R({},e),{spyReportStart:!0}))}var rt={spyReportEnd:!0};function ot(e){tt(e?R(R({},e),{spyReportEnd:!0}):rt)}function it(e){return Ge.spyListeners.push(e),f((function(){Ge.spyListeners=Ge.spyListeners.filter((function(t){return t!==e}))}))}function at(){s(!1)}function ct(e){return function(t,n,r){if(r){if(r.value)return{value:Se(e,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Se(e,o.call(this))}}}return ut(e).apply(this,arguments)}}function ut(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){y(this,n,st(e,t))}})}}var st=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?Se(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?Se(e,t):1===arguments.length&&"string"==typeof e?ct(e):!0!==r?ct(t).apply(null,arguments):void(e[t]=Se(e.name||t,n.value))};function lt(e,t){return Pe("string"==typeof e?e:e.name||"<unnamed action>","function"==typeof e?e:t,this,void 0)}function ft(e){return"function"==typeof e&&!0===e.isMobxAction}function pt(e,t,n){y(e,t,Se(t,n.bind(e)))}function dt(e,t){void 0===t&&(t=i);var n,r=t&&t.name||e.name||"Autorun@"+u();if(t.scheduler||t.delay){var o=yt(t),a=!1;n=new Ke(r,(function(){a||(a=!0,o((function(){a=!1,n.isDisposed||n.track(c)})))}),t.onError,t.requiresObservable)}else n=new Ke(r,(function(){this.track(c)}),t.onError,t.requiresObservable);function c(){e(n)}return n.schedule(),n.getDisposer()}st.bound=function(e,t,n,r){return!0===r?(pt(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return pt(this,t,n.value||n.initializer.call(this)),this[t]},set:at}:{enumerable:!1,configurable:!0,set:function(e){pt(this,t,e)},get:function(){}}};var ht=function(e){return e()};function yt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:ht}function vt(e,t,n){void 0===n&&(n=i),"boolean"==typeof n&&(n={fireImmediately:n});var r,o,a,c=n.name||"Reaction@"+u(),s=st(c,n.onError?(r=n.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){r.call(this,e)}}):t),l=!n.scheduler&&!n.delay,f=yt(n),p=!0,d=!1,h=n.compareStructural?T.structural:n.equals||T.default,y=new Ke(c,(function(){p||l?v():d||(d=!0,f(v))}),n.onError,n.requiresObservable);function v(){if(d=!1,!y.isDisposed){var t=!1;y.track((function(){var n=e(y);t=p||!h(a,n),a=n})),p&&n.fireImmediately&&s(a,y),p||!0!==t||s(a,y),p&&(p=!1)}}return y.schedule(),y.getDisposer()}function bt(e,t,n){return gt("onBecomeUnobserved",e,t,n)}function gt(e,t,n,r){var o="function"==typeof r?Sn(t,n):Sn(t),i="function"==typeof r?r:n,a=o[e];return"function"!=typeof a?s(!1):(o[e]=function(){a.call(this),i.call(this)},function(){o[e]=a})}function mt(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,o=e.disableErrorBoundaries,i=e.arrayBuffer,a=e.reactionScheduler,u=e.reactionRequiresObservable,l=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((Ge.pendingReactions.length||Ge.inBatch||Ge.isRunningReactions)&&s("isolateGlobalState should be called before MobX is running any reactions"),Be=!0,ze&&(0==--c().__mobxInstanceCount&&(c().__mobxGlobals=void 0),Ge=new Le)),void 0!==t){var f=void 0;switch(t){case!0:case"observed":f=!0;break;case!1:case"never":f=!1;break;case"strict":case"always":f="strict";break;default:s("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}Ge.enforceActions=f,Ge.allowStateChanges=!0!==f&&"strict"!==f}void 0!==n&&(Ge.computedRequiresReaction=!!n),void 0!==u&&(Ge.reactionRequiresObservable=!!u),void 0!==l&&(Ge.observableRequiresReaction=!!l,Ge.allowStateReads=!Ge.observableRequiresReaction),void 0!==r&&(Ge.computedConfigurable=!!r),void 0!==o&&(!0===o&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),Ge.disableErrorBoundaries=!!o),"number"==typeof i&&un(i),a&&Je(a)}function Ot(e,t,n,r){var o=(r=q(r)).defaultDecorator||(!1===r.deep?ee:Q);U(e),mn(e,r.name,o.enhancer),He();try{for(var i=Object.getOwnPropertyNames(t),a=0,c=i.length;a<c;a++){var u=i[a],s=Object.getOwnPropertyDescriptor(t,u),l=(n&&u in n?n[u]:s.get?ce:o)(e,u,s,!0);l&&Object.defineProperty(e,u,l)}}finally{Ye()}return e}function xt(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(xt)),r}var wt=0;function _t(){this.message="FLOW_CANCELLED"}function jt(e){1!==arguments.length&&s("Flow expects one 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var n,r=this,o=arguments,i=++wt,a=st(t+" - runid: "+i+" - init",e).apply(r,o),c=void 0,u=new Promise((function(e,r){var o=0;function u(e){var n;c=void 0;try{n=st(t+" - runid: "+i+" - yield "+o++,a.next).call(a,e)}catch(e){return r(e)}l(n)}function s(e){var n;c=void 0;try{n=st(t+" - runid: "+i+" - yield "+o++,a.throw).call(a,e)}catch(e){return r(e)}l(n)}function l(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(c=Promise.resolve(t.value)).then(u,s);t.then(l,r)}n=r,u(void 0)}));return u.cancel=st(t+" - runid: "+i+" - cancel",(function(){try{c&&Et(c);var e=a.return(void 0),t=Promise.resolve(e.value);t.then(p,p),Et(t),n(new _t)}catch(e){n(e)}})),u}}function Et(e){"function"==typeof e.cancel&&e.cancel()}function St(e,t){if(null==e)return!1;if(void 0!==t){if(!1===En(e))return!1;if(!e.$mobx.values[t])return!1;var n=Sn(e,t);return Re(n)}return Re(e)}function Pt(e){return arguments.length>1?s(!1):St(e)}function At(e,t){return"string"!=typeof t?s(!1):St(e,t)}function kt(e,t){if(null==e)return!1;if(void 0!==t){if(En(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return En(e)||!!e.$mobx||N(e)||Qe(e)||Re(e)}function Nt(e){return 1!==arguments.length&&s(!1),kt(e)}function Mt(e){return En(e)?e.$mobx.getKeys():hn(e)||bn(e)?O(e.keys()):ln(e)?e.map((function(e,t){return t})):s(!1)}function Dt(e){return En(e)?Mt(e).map((function(t){return e[t]})):hn(e)?Mt(e).map((function(t){return e.get(t)})):bn(e)?O(e.values()):ln(e)?e.slice():s(!1)}function Tt(e){return En(e)?Mt(e).map((function(t){return[t,e[t]]})):hn(e)?Mt(e).map((function(t){return[t,e.get(t)]})):bn(e)?O(e.entries()):ln(e)?e.map((function(e,t){return[t,e]})):s(!1)}function Ct(e,t,n,r){return"function"==typeof n?function(e,t,n,r){return Pn(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return Pn(e).observe(t,n)}(e,t,n)}_t.prototype=Object.create(Error.prototype);var It={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Rt(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function Lt(e,t){var n;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=It),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),function e(t,n,r){if(!n.recurseEverything&&!Nt(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(Ce(t))return e(t.get(),n,r);if(Nt(t)&&Mt(t),!0===n.detectCycles&&null!==t&&r.has(t))return r.get(t);if(ln(t)||Array.isArray(t)){var o=Rt(r,t,[],n),i=t.map((function(t){return e(t,n,r)}));o.length=i.length;for(var a=0,c=i.length;a<c;a++)o[a]=i[a];return o}if(bn(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===n.exportMapsAsObjects){var u=Rt(r,t,new Set,n);return t.forEach((function(t){u.add(e(t,n,r))})),u}var s=Rt(r,t,[],n);return t.forEach((function(t){s.push(e(t,n,r))})),s}if(hn(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===n.exportMapsAsObjects){var l=Rt(r,t,new Map,n);return t.forEach((function(t,o){l.set(o,e(t,n,r))})),l}var f=Rt(r,t,{},n);return t.forEach((function(t,o){f[o]=e(t,n,r)})),f}var p=Rt(r,t,{},n);for(var d in t)p[d]=e(t[d],n,r);return p}(e,t,n)}function zt(e){switch(e.length){case 0:return Ge.trackingDerivation;case 1:return Sn(e[0]);case 2:return Sn(e[0],e[1])}}function Bt(e,t){void 0===t&&(t=void 0),He();try{return e.apply(t)}finally{Ye()}}function Gt(e,t,n){return 1===arguments.length||t&&"object"==typeof t?Ut(e,t):Ft(e,t,n||{})}function Ft(e,t,n){var r;"number"==typeof n.timeout&&(r=setTimeout((function(){if(!i.$mobx.isDisposed){i();var e=new Error("WHEN_TIMEOUT");if(!n.onError)throw e;n.onError(e)}}),n.timeout)),n.name=n.name||"When@"+u();var o=Se(n.name+"-effect",t),i=dt((function(t){e()&&(t.dispose(),r&&clearTimeout(r),o())}),n);return i}function Ut(e,t){var n,r=new Promise((function(r,o){var i=Ft(e,r,R(R({},t),{onError:o}));n=function(){i(),o("WHEN_CANCELLED")}}));return r.cancel=n,r}function Xt(e){return void 0!==e.interceptors&&e.interceptors.length>0}function Ht(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),f((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Yt(e,t){var n=ge();try{var r=e.interceptors;if(r)for(var o=0,i=r.length;o<i&&(l(!(t=r[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{me(n)}}function Vt(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function Wt(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),f((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Kt(e,t){var n=ge(),r=e.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);me(n)}}var Zt,qt,$t,Qt,Jt=(Zt=!1,qt={},Object.defineProperty(qt,"0",{set:function(){Zt=!0}}),Object.create(qt)[0]=1,!1===Zt),en=0,tn=function(){};$t=tn,Qt=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf($t.prototype,Qt):void 0!==$t.prototype.__proto__?$t.prototype.__proto__=Qt:$t.prototype=Qt,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(e){Object.defineProperty(tn.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})}));var nn=function(){function e(e,t,n,r){this.array=n,this.owned=r,this.values=[],this.lastKnownLength=0,this.atom=new k(e||"ObservableArray@"+u()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return Ht(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Wt(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>en&&un(e+t+1)},e.prototype.spliceWithArray=function(e,t,n){var r=this;he(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=o),Xt(this)){var a=Yt(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!a)return o;t=a.removedCount,n=a.added}var c=(n=0===n.length?n:n.map((function(e){return r.enhancer(e,void 0)}))).length-t;this.updateArrayLength(i,c);var u=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,u),this.dehanceValues(u)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,z([e,t],n));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&et(),o=Vt(this),i=o||r?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;r&&nt(R(R({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&Kt(this,i),r&&ot()},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&et(),o=Vt(this),i=o||r?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;r&&nt(R(R({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&Kt(this,i),r&&ot()},e}(),rn=function(e){function t(t,n,r,o){void 0===r&&(r="ObservableArray@"+u()),void 0===o&&(o=!1);var i=e.call(this)||this,a=new nn(r,n,i,o);if(v(i,"$mobx",a),t&&t.length){var c=Me(!0);i.spliceWithArray(0,0,t),De(c)}return Jt&&Object.defineProperty(a.array,"0",on),i}return I(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map((function(e){return ln(e)?e.peek():e})))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,n){void 0===n&&(n=0);var r=this.findIndex.apply(this,arguments);return-1===r?void 0:this.get(r)},t.prototype.findIndex=function(e,t,n){void 0===n&&(n=0);for(var r=this.peek(),o=r.length,i=n;i<o;i++)if(e.call(t,r[i],i,this))return i;return-1},t.prototype.splice=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,n)},t.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function n(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(n.call(this,e),n.call(this,t),e!==t){var r,o=this.$mobx.values;r=e<t?z(o.slice(0,e),o.slice(e+1,t+1),[o[e]],o.slice(t+1)):z(o.slice(0,t),[o[e]],o.slice(t,e),o.slice(e+1)),this.replace(r)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var n=this.$mobx,r=n.values;if(e<r.length){he(n.atom);var o=r[e];if(Xt(n)){var i=Yt(n,{type:"update",object:this,index:e,newValue:t});if(!i)return;t=i.newValue}(t=n.enhancer(t,o))!==o&&(r[e]=t,n.notifyArrayChildUpdate(e,t,o))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}},t}(tn);E(rn.prototype,(function(){this.$mobx.atom.reportObserved();var e=this,t=0;return S({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})})),Object.defineProperty(rn.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),y(rn.prototype,P(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){var t=Array.prototype[e];l("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),y(rn.prototype,e,(function(){return t.apply(this.peek(),arguments)}))})),["every","filter","forEach","map","some"].forEach((function(e){l("function"==typeof Array.prototype[e],"Base function not defined on Array prototype: '"+e+"'"),y(rn.prototype,e,(function(t,n){var r=this,o=this.$mobx;return o.atom.reportObserved(),o.dehanceValues(o.values)[e]((function(e,o){return t.call(n,e,o,r)}),n)}))})),["reduce","reduceRight"].forEach((function(e){y(rn.prototype,e,(function(){var t=this,n=this.$mobx;n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(e,o,i){return o=n.dehanceValue(o),r(e,o,i,t)},n.values[e].apply(n.values,arguments)}))})),function(e,t){for(var n=0;n<t.length;n++)y(e,t[n],e[t[n]])}(rn.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var on=an(0);function an(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function cn(e){Object.defineProperty(rn.prototype,""+e,an(e))}function un(e){for(var t=en;t<e;t++)cn(t);en=e}un(1e3);var sn=b("ObservableArrayAdministration",nn);function ln(e){return d(e)&&sn(e.$mobx)}var fn={},pn=function(){function e(e,t,n){if(void 0===t&&(t=Y),void 0===n&&(n="ObservableMap@"+u()),this.enhancer=t,this.name=n,this.$mobx=fn,this._keysAtom=M(this.name+".keys()"),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!Ge.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new Te(this._has(e),V,this.name+"."+dn(e)+"?",!1);this._hasMap.set(e,r),bt(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(Xt(this)){var r=Yt(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(he(this._keysAtom),Xt(this)&&!(o=Yt(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=et(),r=Vt(this),o=r||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&nt(R(R({},o),{name:this.name,key:e})),Bt((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),r&&Kt(this,o),n&&ot(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==Ge.UNCHANGED){var r=et(),o=Vt(this),i=o||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r&&nt(R(R({},i),{name:this.name,key:e})),n.setNewValue(t),o&&Kt(this,i),r&&ot()}},e.prototype._addValue=function(e,t){var n=this;he(this._keysAtom),Bt((function(){var r=new Te(t,n.enhancer,n.name+"."+dn(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=et(),o=Vt(this),i=o||r?{type:"add",object:this,name:e,newValue:t}:null;r&&nt(R(R({},i),{name:this.name,key:e})),o&&Kt(this,i),r&&ot()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return S({next:function(){var n=t.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:e.get(o)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return S({next:function(){var n=t.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:[o,e.get(o)]}}})},e.prototype.forEach=function(e,t){var n=this;this._keysAtom.reportObserved(),this._data.forEach((function(r,o){return e.call(t,n.get(o),o,n)}))},e.prototype.merge=function(e){var t=this;return hn(e)&&(e=e.toJS()),Bt((function(){var n=Me(!0);try{h(e)?Object.keys(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=L(e,2),r=n[0],o=n[1];return t.set(r,o)})):g(e)?e.constructor!==Map?s("Cannot initialize from classes that inherit from Map: "+e.constructor.name):e.forEach((function(e,n){return t.set(n,e)})):null!=e&&s("Cannot initialize map from "+e)}finally{De(n)}})),this},e.prototype.clear=function(){var e=this;Bt((function(){be((function(){e._data.forEach((function(t,n){return e.delete(n)}))}))}))},e.prototype.replace=function(e){var t=this;return Bt((function(){var n=function(e){if(g(e)||hn(e))return e;if(Array.isArray(e))return new Map(e);if(h(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return s("Cannot convert to map from '"+e+"'")}(e),r=new Map,o=!1;if(_(t._data.keys(),(function(e){if(!n.has(e))if(t.delete(e))o=!0;else{var i=t._data.get(e);r.set(e,i)}})),_(n.entries(),(function(e){var n=L(e,2),i=n[0],a=n[1],c=t._data.has(i);if(t.set(i,a),t._data.has(i)){var u=t._data.get(i);r.set(i,u),c||(o=!0)}})),!o)if(t._data.size!==r.size)t._keysAtom.reportChanged();else for(var i=t._data.keys(),a=r.keys(),c=i.next(),u=a.next();!c.done;){if(c.value!==u.value){t._keysAtom.reportChanged();break}c=i.next(),u=a.next()}t._data=r})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e=this,t={};return this.forEach((function(n,r){return t["symbol"==typeof r?r:dn(r)]=e.get(r)})),t},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+O(this.keys()).map((function(t){return dn(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return Wt(this,e)},e.prototype.intercept=function(e){return Ht(this,e)},e}();function dn(e){return e&&e.toString?e.toString():new String(e).toString()}E(pn.prototype,(function(){return this.entries()})),v(pn.prototype,P(),"Map");var hn=b("ObservableMap",pn),yn={},vn=function(){function e(e,t,n){if(void 0===t&&(t=Y),void 0===n&&(n="ObservableSet@"+u()),this.name=n,this.$mobx=yn,this._data=new Set,this._atom=M(this.name),"function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;Bt((function(){be((function(){e._data.forEach((function(t){e.delete(t)}))}))}))},e.prototype.forEach=function(e,t){var n=this;this._atom.reportObserved(),this._data.forEach((function(r){e.call(t,r,r,n)}))},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if(he(this._atom),Xt(this)&&!(o=Yt(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){Bt((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=et(),r=Vt(this),o=r||n?{type:"add",object:this,newValue:e}:null;r&&Kt(this,o)}return this},e.prototype.delete=function(e){var t=this;if(Xt(this)&&!(o=Yt(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=et(),r=Vt(this),o=r||n?{type:"delete",object:this,oldValue:e}:null;return Bt((function(){t._atom.reportChanged(),t._data.delete(e)})),r&&Kt(this,o),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=O(this.keys()),n=O(this.values());return S({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e,t=this,n=0;return void 0!==this._data.values?e=O(this._data.values()):(e=[],this._data.forEach((function(t){return e.push(t)}))),S({next:function(){return n<e.length?{value:t.dehanceValue(e[n++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return bn(e)&&(e=e.toJS()),Bt((function(){var n=Me(!0);try{Array.isArray(e)||m(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&s("Cannot initialize set from "+e)}finally{De(n)}})),this},e.prototype.observe=function(e,t){return Wt(this,e)},e.prototype.intercept=function(e){return Ht(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+O(this.keys()).join(", ")+" ]"},e}();E(vn.prototype,(function(){return this.values()})),v(vn.prototype,P(),"Set");var bn=b("ObservableSet",vn),gn=function(){function e(e,t,n){this.target=e,this.name=t,this.defaultEnhancer=n,this.values={}}return e.prototype.read=function(e,t){if(this.target===e||(this.illegalAccess(e,t),this.values[t]))return this.values[t].get()},e.prototype.write=function(e,t,n){var r=this.target;r!==e&&this.illegalAccess(e,t);var o=this.values[t];if(o instanceof Ie)o.set(n);else{if(Xt(this)){if(!(c=Yt(this,{type:"update",object:r,name:t,newValue:n})))return;n=c.newValue}if((n=o.prepareNewValue(n))!==Ge.UNCHANGED){var i=Vt(this),a=et(),c=i||a?{type:"update",object:r,oldValue:o.value,name:t,newValue:n}:null;a&&nt(R(R({},c),{name:this.name,key:t})),o.setNewValue(n),i&&Kt(this,c),a&&ot()}}},e.prototype.remove=function(e){if(this.values[e]){var t=this.target;if(Xt(this)&&!(i=Yt(this,{object:t,name:e,type:"remove"})))return;try{He();var n=Vt(this),r=et(),o=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var i=n||r?{type:"remove",object:t,oldValue:o,name:e}:null;r&&nt(R(R({},i),{name:this.name,key:e})),n&&Kt(this,i),r&&ot()}finally{Ye()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return Wt(this,e)},e.prototype.intercept=function(e){return Ht(this,e)},e.prototype.getKeys=function(){var e=this;return void 0===this.keys&&(this.keys=new rn(Object.keys(this.values).filter((function(t){return e.values[t]instanceof Te})),V,"keys("+this.name+")",!0)),this.keys.slice()},e}();function mn(e,t,n){void 0===t&&(t=""),void 0===n&&(n=Y);var r=e.$mobx;return r||(h(e)||(t=(e.constructor.name||"ObservableObject")+"@"+u()),t||(t="ObservableObject@"+u()),v(e,"$mobx",r=new gn(e,t,n)),r)}function On(e,t,n,r){var o=mn(e);if(Xt(o)){var i=Yt(o,{object:e,name:t,type:"add",newValue:n});if(!i)return;n=i.newValue}n=(o.values[t]=new Te(n,r,o.name+"."+t,!1)).value,Object.defineProperty(e,t,function(e){return xn[e]||(xn[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,e)},set:function(t){this.$mobx.write(this,e,t)}})}(t)),o.keys&&o.keys.push(t),function(e,t,n,r){var o=Vt(e),i=et(),a=o||i?{type:"add",object:t,name:n,newValue:r}:null;i&&nt(R(R({},a),{name:e.name,key:n})),o&&Kt(e,a),i&&ot()}(o,e,t,n)}var xn=Object.create(null),wn=Object.create(null);function _n(e){return e.$mobx||(U(e),e.$mobx)}var jn=b("ObservableObjectAdministration",gn);function En(e){return!!d(e)&&(U(e),jn(e.$mobx))}function Sn(e,t){if("object"==typeof e&&null!==e){if(ln(e))return void 0!==t&&s(!1),e.$mobx.atom;if(bn(e))return e.$mobx;if(hn(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||s(!1),r)}var r;if(U(e),t&&!e.$mobx&&e[t],En(e))return t?((r=e.$mobx.values[t])||s(!1),r):s(!1);if(N(e)||Re(e)||Qe(e))return e}else if("function"==typeof e&&Qe(e.$mobx))return e.$mobx;return s(!1)}function Pn(e,t){return e||s("Expecting some object"),void 0!==t?Pn(Sn(e,t)):N(e)||Re(e)||Qe(e)||hn(e)||bn(e)?e:(U(e),e.$mobx?e.$mobx:void s(!1))}function An(e,t){return(void 0!==t?Sn(e,t):En(e)||hn(e)||bn(e)?Pn(e):Sn(e)).name}var kn=Object.prototype.toString;function Nn(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,o,i){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;t=Mn(t),n=Mn(n);var c=kn.call(t);if(c!==kn.call(n))return!1;switch(c){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n)}var u="[object Array]"===c;if(!u){if("object"!=typeof t||"object"!=typeof n)return!1;var s=t.constructor,l=n.constructor;if(s!==l&&!("function"==typeof s&&s instanceof s&&"function"==typeof l&&l instanceof l)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1),i=i||[];for(var f=(o=o||[]).length;f--;)if(o[f]===t)return i[f]===n;if(o.push(t),i.push(n),u){if((f=t.length)!==n.length)return!1;for(;f--;)if(!e(t[f],n[f],r-1,o,i))return!1}else{var p=Object.keys(t),d=void 0;if(f=p.length,Object.keys(n).length!==f)return!1;for(;f--;)if(!Dn(n,d=p[f])||!e(t[d],n[d],r-1,o,i))return!1}return o.pop(),i.pop(),!0}(e,t,n)}function Mn(e){return ln(e)?e.peek():g(e)||hn(e)||m(e)||bn(e)?O(e.entries()):e}function Dn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Tn="$mobx";"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:it,extras:{getDebugName:An},$mobx:Tn})}).call(this,n(86),n(104))},function(e,t,n){"use strict";var r=n(34),o=n(66),i=n(56),a=n(51),c=n(91),u=a.set,s=a.getterFor("Array Iterator");e.exports=c(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=s(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t,n){"use strict";var r=n(15),o=n(23),i=n(45),a=n(68),c=n(28),u=n(89),s=n(16),l=n(27),f=n(80),p=n(24),d=n(53),h=n(25),y=n(31),v=n(34),b=n(72),g=n(33),m=n(57),O=n(46),x=n(54),w=n(58),_=n(117),j=n(92),E=n(47),S=n(29),P=n(75),A=n(40),k=n(43),N=n(67),M=n(74),D=n(55),T=n(69),C=n(21),I=n(128),R=n(129),L=n(77),z=n(51),B=n(60).forEach,G=M("hidden"),F=C("toPrimitive"),U=z.set,X=z.getterFor("Symbol"),H=Object.prototype,Y=o.Symbol,V=i("JSON","stringify"),W=E.f,K=S.f,Z=_.f,q=P.f,$=N("symbols"),Q=N("op-symbols"),J=N("string-to-symbol-registry"),ee=N("symbol-to-string-registry"),te=N("wks"),ne=o.QObject,re=!ne||!ne.prototype||!ne.prototype.findChild,oe=c&&s((function(){return 7!=O(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=W(H,t);r&&delete H[t],K(e,t,n),r&&e!==H&&K(H,t,r)}:K,ie=function(e,t){var n=$[e]=O(Y.prototype);return U(n,{type:"Symbol",tag:e,description:t}),c||(n.description=t),n},ae=function e(t,n,r){t===H&&e(Q,n,r),h(t);var o=b(n);return h(r),l($,o)?(r.enumerable?(l(t,G)&&t[G][o]&&(t[G][o]=!1),r=O(r,{enumerable:m(0,!1)})):(l(t,G)||K(t,G,m(1,{})),t[G][o]=!0),oe(t,o,r)):K(t,o,r)},ce=function(e,t){h(e);var n=v(t),r=x(n).concat(fe(n));return B(r,(function(t){c&&!ue.call(n,t)||ae(e,t,n[t])})),e},ue=function(e){var t=b(e),n=q.call(this,t);return!(this===H&&l($,t)&&!l(Q,t))&&(!(n||!l(this,t)||!l($,t)||l(this,G)&&this[G][t])||n)},se=function(e,t){var n=v(e),r=b(t);if(n!==H||!l($,r)||l(Q,r)){var o=W(n,r);return!o||!l($,r)||l(n,G)&&n[G][r]||(o.enumerable=!0),o}},le=function(e){var t=Z(v(e)),n=[];return B(t,(function(e){l($,e)||l(D,e)||n.push(e)})),n},fe=function(e){var t=e===H,n=Z(t?Q:v(e)),r=[];return B(n,(function(e){!l($,e)||t&&!l(H,e)||r.push($[e])})),r};u||(k((Y=function(){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=T(e),n=function e(n){this===H&&e.call(Q,n),l(this,G)&&l(this[G],t)&&(this[G][t]=!1),oe(this,t,m(1,n))};return c&&re&&oe(H,t,{configurable:!0,set:n}),ie(t,e)}).prototype,"toString",(function(){return X(this).tag})),k(Y,"withoutSetter",(function(e){return ie(T(e),e)})),P.f=ue,S.f=ae,E.f=se,w.f=_.f=le,j.f=fe,I.f=function(e){return ie(C(e),e)},c&&(K(Y.prototype,"description",{configurable:!0,get:function(){return X(this).description}}),a||k(H,"propertyIsEnumerable",ue,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Y}),B(x(te),(function(e){R(e)})),r({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=g(e);if(l(J,t))return J[t];var n=Y(t);return J[t]=n,ee[n]=t,n},keyFor:function(e){if(!d(e))throw TypeError(e+" is not a symbol");if(l(ee,e))return ee[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(e,t){return void 0===t?O(e):ce(O(e),t)},defineProperty:ae,defineProperties:ce,getOwnPropertyDescriptor:se}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:le,getOwnPropertySymbols:fe}),r({target:"Object",stat:!0,forced:s((function(){j.f(1)}))},{getOwnPropertySymbols:function(e){return j.f(y(e))}}),V&&r({target:"JSON",stat:!0,forced:!u||s((function(){var e=Y();return"[null]"!=V([e])||"{}"!=V({a:e})||"{}"!=V(Object(e))}))},{stringify:function(e,t,n){for(var r,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=t,(p(t)||void 0!==e)&&!d(e))return f(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!d(t))return t}),o[1]=t,V.apply(null,o)}}),Y.prototype[F]||A(Y.prototype,F,Y.prototype.valueOf),L(Y,"Symbol"),D[G]=!0},function(e,t,n){var r=n(96),o=n(43),i=n(153);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(e,t,n){var r=n(23),o=n(127),i=n(1),a=n(40),c=n(21),u=c("iterator"),s=c("toStringTag"),l=i.values;for(var f in o){var p=r[f],d=p&&p.prototype;if(d){if(d[u]!==l)try{a(d,u,l)}catch(e){d[u]=l}if(d[s]||a(d,s,f),o[f])for(var h in i)if(d[h]!==i[h])try{a(d,h,i[h])}catch(e){d[h]=i[h]}}}},function(e,t,n){"use strict";var r=n(126).charAt,o=n(33),i=n(51),a=n(91),c=i.set,u=i.getterFor("String Iterator");a(String,"String",(function(e){c(this,{type:"String Iterator",string:o(e),index:0})}),(function(){var e,t=u(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var r=n(15),o=n(28),i=n(23),a=n(27),c=n(24),u=n(29).f,s=n(112),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},p=function e(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),n=this instanceof e?new l(t):void 0===t?l():l(t);return""===t&&(f[n]=!0),n};s(p,l);var d=p.prototype=l.prototype;d.constructor=p;var h=d.toString,y="Symbol(test)"==String(l("test")),v=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:!0,get:function(){var e=c(this)?this.valueOf():this,t=h.call(e);if(a(f,e))return"";var n=y?t.slice(7,-1):t.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},function(e,t,n){n(129)("iterator")},function(e,t,n){var r=n(23),o=n(127),i=n(154),a=n(40);for(var c in o){var u=r[c],s=u&&u.prototype;if(s&&s.forEach!==i)try{a(s,"forEach",i)}catch(e){s.forEach=i}}},function(e,t,n){n(15)({target:"Object",stat:!0},{setPrototypeOf:n(94)})},function(e,t,n){var r=n(15),o=n(16),i=n(31),a=n(76),c=n(115);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!c},{getPrototypeOf:function(e){return a(i(e))}})},function(e,t,n){var r=n(15),o=n(45),i=n(59),a=n(25),c=n(24),u=n(46),s=n(172),l=n(16),f=o("Reflect","construct"),p=l((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),d=!l((function(){f((function(){}))})),h=p||d;r({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(d&&!p)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(s.apply(e,r))}var o=n.prototype,l=u(c(o)?o:Object.prototype),h=Function.apply.call(e,l,t);return c(h)?h:l}})},function(e,t,n){var r=n(15),o=n(31),i=n(54);r({target:"Object",stat:!0,forced:n(16)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},function(e,t,n){var r=n(15),o=n(16),i=n(34),a=n(47).f,c=n(28),u=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!c||u,sham:!c},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},function(e,t,n){"use strict";var r=n(15),o=n(24),i=n(80),a=n(73),c=n(32),u=n(34),s=n(62),l=n(21),f=n(61)("slice"),p=l("species"),d=[].slice,h=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var n,r,l,f=u(this),y=c(f.length),v=a(e,y),b=a(void 0===t?y:t,y);if(i(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[p])&&(n=void 0):n=void 0,n===Array||void 0===n))return d.call(f,v,b);for(r=new(void 0===n?Array:n)(h(b-v,0)),l=0;v<b;v++,l++)v in f&&s(r,l,f[v]);return r.length=l,r}})},function(e,t,n){var r=n(23),o=n(47).f,i=n(40),a=n(43),c=n(88),u=n(112),s=n(93);e.exports=function(e,t){var n,l,f,p,d,h=e.target,y=e.global,v=e.stat;if(n=y?r:v?r[h]||c(h,{}):(r[h]||{}).prototype)for(l in t){if(p=t[l],f=e.noTargetGet?(d=o(n,l))&&d.value:n[l],!s(y?l:h+(v?".":"#")+l,e.forced)&&void 0!==f){if(typeof p==typeof f)continue;u(p,f)}(e.sham||f&&f.sham)&&i(p,"sham",!0),a(n,l,p,e)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(28),o=n(29).f,i=Function.prototype,a=i.toString,c=/^\s*function ([^ (]*)/;r&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(e){return""}}})},function(e,t,n){var r=n(15),o=n(157);r({target:"Array",stat:!0,forced:!n(124)((function(e){Array.from(e)}))},{from:o})},function(e,t,n){"use strict";var r=n(15),o=n(60).filter;r({target:"Array",proto:!0,forced:!n(61)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(15),o=n(28),i=n(113),a=n(34),c=n(47),u=n(62);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),o=c.f,s=i(r),l={},f=0;s.length>f;)void 0!==(n=o(r,t=s[f++]))&&u(l,t,n);return l}})},function(e,t,n){var r=n(23),o=n(67),i=n(27),a=n(69),c=n(89),u=n(105),s=o("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||a;e.exports=function(e){return i(s,e)&&(c||"string"==typeof s[e])||(c&&i(l,e)?s[e]=l[e]:s[e]=f("Symbol."+e)),s[e]}},function(e,t,n){"use strict";var r=n(85),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(86))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(24);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},,function(e,t,n){var r=n(31),o={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return o.call(r(e),t)}},function(e,t,n){var r=n(16);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var r=n(28),o=n(106),i=n(25),a=n(72),c=Object.defineProperty;t.f=r?c:function(e,t,n){if(i(e),t=a(t),i(n),o)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";var r=n(15),o=n(16),i=n(80),a=n(24),c=n(31),u=n(32),s=n(62),l=n(97),f=n(61),p=n(21),d=n(70),h=p("isConcatSpreadable"),y=d>=51||!o((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),v=f("concat"),b=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)};r({target:"Array",proto:!0,forced:!y||!v},{concat:function(e){var t,n,r,o,i,a=c(this),f=l(a,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(b(i=-1===t?a:arguments[t])){if(p+(o=u(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,p++)n in i&&s(f,p,i[n])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(f,p++,i)}return f.length=p,f}})},function(e,t,n){var r=n(38);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(50),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(53);e.exports=function(e){if(r(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},function(e,t,n){var r=n(65),o=n(38);e.exports=function(e){return r(o(e))}},function(e,t,n){"use strict";var r=n(15),o=n(60).map;r({target:"Array",proto:!0,forced:!n(61)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(15),o=n(173);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(e,t,n){var r=n(15),o=n(24),i=n(25),a=n(177),c=n(47),u=n(76);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,s,l=arguments.length<3?t:arguments[2];return i(t)===l?t[n]:(r=c.f(t,n))?a(r)?r.value:void 0===r.get?void 0:r.get.call(l):o(s=u(t))?e(s,n,l):void 0}})},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(15),o=n(181),i=n(66);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(e,t,n){var r=n(28),o=n(29),i=n(57);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";var r=n(15),o=n(83);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,n,r){"use strict";(function(e){var o=r(85),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,c=a&&a.exports===i&&o.a.process,u=function(){try{return a&&a.require&&a.require("util").types||c&&c.binding&&c.binding("util")}catch(e){}}();n.a=u}).call(this,r(99)(e))},function(e,t,n){var r=n(23),o=n(40),i=n(27),a=n(88),c=n(111),u=n(51),s=u.get,l=u.enforce,f=String(String).split("String");(e.exports=function(e,t,n,c){var u,s=!!c&&!!c.unsafe,p=!!c&&!!c.enumerable,d=!!c&&!!c.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),(u=l(n)).source||(u.source=f.join("string"==typeof t?t:""))),e!==r?(s?!d&&e[t]&&(p=!0):delete e[t],p?e[t]=n:o(e,t,n)):p?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&s(this).source||c(this)}))},function(e,t,n){var r=n(15),o=n(180).entries;r({target:"Object",stat:!0},{entries:function(e){return o(e)}})},function(e,t,n){var r=n(23),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},function(e,t,n){var r,o=n(25),i=n(142),a=n(90),c=n(55),u=n(144),s=n(107),l=n(74)("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"<\/script>"},d=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},h=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;h="undefined"!=typeof document?document.domain&&r?d(r):((t=s("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):d(r);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};c[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=o(e),n=new f,f.prototype=null,n[l]=e):n=h(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(28),o=n(75),i=n(57),a=n(34),c=n(72),u=n(27),s=n(106),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=c(t),s)try{return l(e,t)}catch(e){}if(u(e,t))return i(!o.f.call(e,t),e[t])}},function(e,n,r){"use strict";(function(e){var o=r(22),i=r(138),a=t&&!t.nodeType&&t,c=a&&"object"==typeof e&&e&&!e.nodeType&&e,u=c&&c.exports===a?o.a.Buffer:void 0,s=(u?u.isBuffer:void 0)||i.a;n.a=s}).call(this,r(99)(e))},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r,o,i,a=n(145),c=n(23),u=n(24),s=n(40),l=n(27),f=n(87),p=n(74),d=n(55),h=c.WeakMap;if(a||f.state){var y=f.state||(f.state=new h),v=y.get,b=y.has,g=y.set;r=function(e,t){if(b.call(y,e))throw new TypeError("Object already initialized");return t.facade=e,g.call(y,e,t),t},o=function(e){return v.call(y,e)||{}},i=function(e){return b.call(y,e)}}else{var m=p("state");d[m]=!0,r=function(e,t){if(l(e,m))throw new TypeError("Object already initialized");return t.facade=e,s(e,m,t),t},o=function(e){return l(e,m)?e[m]:{}},i=function(e){return l(e,m)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){"use strict";var r=n(100),o=n(132),i=n(25),a=n(38),c=n(170),u=n(101),s=n(32),l=n(33),f=n(102),p=n(83),d=n(133),h=n(16),y=d.UNSUPPORTED_Y,v=[].push,b=Math.min;r("split",(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=l(a(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!o(e))return t.call(r,e,i);for(var c,u,s,f=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,y=new RegExp(e.source,d+"g");(c=p.call(y,r))&&!((u=y.lastIndex)>h&&(f.push(r.slice(h,c.index)),c.length>1&&c.index<r.length&&v.apply(f,c.slice(1)),s=c[0].length,h=u,f.length>=i));)y.lastIndex===c.index&&y.lastIndex++;return h===r.length?!s&&y.test("")||f.push(""):f.push(r.slice(h)),f.length>i?f.slice(0,i):f}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=a(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(l(o),t,n)},function(e,o){var a=i(this),p=l(e),d=n(r,a,p,o,r!==t);if(d.done)return d.value;var h=c(a,RegExp),v=a.unicode,g=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(y?"g":"y"),m=new h(y?"^(?:"+a.source+")":a,g),O=void 0===o?4294967295:o>>>0;if(0===O)return[];if(0===p.length)return null===f(m,p)?[p]:[];for(var x=0,w=0,_=[];w<p.length;){m.lastIndex=y?0:w;var j,E=f(m,y?p.slice(w):p);if(null===E||(j=b(s(m.lastIndex+(y?w:0)),p.length))===x)w=u(p,w,v);else{if(_.push(p.slice(x,w)),_.length===O)return _;for(var S=1;S<=E.length-1;S++)if(_.push(E[S]),_.length===O)return _;w=x=j}}return _.push(p.slice(x)),_}]}),!!h((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),y)},function(e,t,n){var r=n(45),o=n(105);e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return"function"==typeof t&&Object(e)instanceof t}},function(e,t,n){var r=n(109),o=n(90);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){e.exports={}},function(e,t){e.exports={}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(109),o=n(90).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(79),o=n(65),i=n(31),a=n(32),c=n(97),u=[].push,s=function(e){var t=1==e,n=2==e,s=3==e,l=4==e,f=6==e,p=7==e,d=5==e||f;return function(h,y,v,b){for(var g,m,O=i(h),x=o(O),w=r(y,v,3),_=a(x.length),j=0,E=b||c,S=t?E(h,_):n||p?E(h,0):void 0;_>j;j++)if((d||j in x)&&(m=w(g=x[j],j,O),e))if(t)S[j]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return j;case 2:u.call(S,g)}else switch(e){case 4:return!1;case 7:u.call(S,g)}return f?-1:s||l?l:S}};e.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)}},function(e,t,n){var r=n(16),o=n(21),i=n(70),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){"use strict";var r=n(72),o=n(29),i=n(57);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},function(e,t,n){"use strict";var r=n(28),o=n(23),i=n(93),a=n(43),c=n(27),u=n(49),s=n(125),l=n(53),f=n(108),p=n(16),d=n(46),h=n(58).f,y=n(47).f,v=n(29).f,b=n(134).trim,g=o.Number,m=g.prototype,O="Number"==u(d(m)),x=function(e){if(l(e))throw TypeError("Cannot convert a Symbol value to a number");var t,n,r,o,i,a,c,u,s=f(e,"number");if("string"==typeof s&&s.length>2)if(43===(t=(s=b(s)).charCodeAt(0))||45===t){if(88===(n=s.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(s.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+s}for(a=(i=s.slice(2)).length,c=0;c<a;c++)if((u=i.charCodeAt(c))<48||u>o)return NaN;return parseInt(i,r)}return+s};if(i("Number",!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var w,_=function e(t){var n=arguments.length<1?0:t,r=this;return r instanceof e&&(O?p((function(){m.valueOf.call(r)})):"Number"!=u(r))?s(new g(x(n)),r,e):x(n)},j=r?h(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),E=0;j.length>E;E++)c(g,w=j[E])&&!c(_,w)&&v(_,w,y(g,w));_.prototype=m,m.constructor=_,a(o,"Number",_)}},function(e,t,n){n(15)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(16),o=n(49),i="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(21),o=n(46),i=n(29),a=r("unscopables"),c=Array.prototype;null==c[a]&&i.f(c,a,{configurable:!0,value:o(null)}),e.exports=function(e){c[a][e]=!0}},function(e,t,n){var r=n(68),o=n(87);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.17.2",mode:r?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r,o,i=n(23),a=n(71),c=i.process,u=i.Deno,s=c&&c.versions||u&&u.version,l=s&&s.v8;l?o=(r=l.split("."))[0]<4?1:r[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),e.exports=o&&+o},function(e,t,n){var r=n(45);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r=n(108),o=n(53);e.exports=function(e){var t=r(e,"string");return o(t)?t:String(t)}},function(e,t,n){var r=n(50),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},function(e,t,n){var r=n(67),o=n(69),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(27),o=n(31),i=n(74),a=n(115),c=i("IE_PROTO"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),r(e,c)?e[c]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,n){var r=n(29).f,o=n(27),i=n(21)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(148),o=n(150);e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},function(e,t,n){var r=n(59);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(49);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";var r=n(15),o=n(73),i=n(50),a=n(32),c=n(31),u=n(97),s=n(62),l=n(61)("splice"),f=Math.max,p=Math.min;r({target:"Array",proto:!0,forced:!l},{splice:function(e,t){var n,r,l,d,h,y,v=c(this),b=a(v.length),g=o(e,b),m=arguments.length;if(0===m?n=r=0:1===m?(n=0,r=b-g):(n=m-2,r=p(f(i(t),0),b-g)),b+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=u(v,r),d=0;d<r;d++)(h=g+d)in v&&s(l,d,v[h]);if(l.length=r,n<r){for(d=g;d<b-r;d++)y=d+n,(h=d+r)in v?v[y]=v[h]:delete v[y];for(d=b;d>b-r+n;d--)delete v[d-1]}else if(n>r)for(d=b-r;d>g;d--)y=d+n-1,(h=d+r-1)in v?v[y]=v[h]:delete v[y];for(d=0;d<n;d++)v[d+g]=arguments[d+2];return v.length=b-r+n,l}})},function(e,t,n){"use strict";var r=n(15),o=n(65),i=n(34),a=n(98),c=[].join,u=o!=Object,s=a("join",",");r({target:"Array",proto:!0,forced:u||!s},{join:function(e){return c.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r,o,i=n(33),a=n(167),c=n(133),u=n(67),s=n(46),l=n(51).get,f=n(168),p=n(169),d=RegExp.prototype.exec,h=u("native-string-replace",String.prototype.replace),y=d,v=(r=/a/,o=/b*/g,d.call(r,"a"),d.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),b=c.UNSUPPORTED_Y||c.BROKEN_CARET,g=void 0!==/()??/.exec("")[1];(v||g||b||f||p)&&(y=function(e){var t,n,r,o,c,u,f,p=this,m=l(p),O=i(e),x=m.raw;if(x)return x.lastIndex=p.lastIndex,t=y.call(x,O),p.lastIndex=x.lastIndex,t;var w=m.groups,_=b&&p.sticky,j=a.call(p),E=p.source,S=0,P=O;if(_&&(-1===(j=j.replace("y","")).indexOf("g")&&(j+="g"),P=O.slice(p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==O.charAt(p.lastIndex-1))&&(E="(?: "+E+")",P=" "+P,S++),n=new RegExp("^(?:"+E+")",j)),g&&(n=new RegExp("^"+E+"$(?!\\s)",j)),v&&(r=p.lastIndex),o=d.call(_?n:p,P),_?o?(o.input=o.input.slice(S),o[0]=o[0].slice(S),o.index=p.lastIndex,p.lastIndex+=o[0].length):p.lastIndex=0:v&&o&&(p.lastIndex=p.global?o.index+o[0].length:r),g&&o&&o.length>1&&h.call(o[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(o[c]=void 0)})),o&&w)for(o.groups=u=s(null),c=0;c<w.length;c++)u[(f=w[c])[0]]=o[f[1]];return o}),e.exports=y},function(e,t,n){"use strict";var r=n(15),o=n(174);r({target:"String",proto:!0,forced:n(175)("anchor")},{anchor:function(e){return o(this,"a","name",e)}})},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(86))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(23),o=n(88),i=r["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},function(e,t,n){var r=n(23);e.exports=function(e,t){try{Object.defineProperty(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(70),o=n(16);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){"use strict";var r=n(15),o=n(146),i=n(76),a=n(94),c=n(77),u=n(40),s=n(43),l=n(21),f=n(68),p=n(56),d=n(114),h=d.IteratorPrototype,y=d.BUGGY_SAFARI_ITERATORS,v=l("iterator"),b=function(){return this};e.exports=function(e,t,n,l,d,g,m){o(n,t,l);var O,x,w,_=function(e){if(e===d&&A)return A;if(!y&&e in S)return S[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},j=t+" Iterator",E=!1,S=e.prototype,P=S[v]||S["@@iterator"]||d&&S[d],A=!y&&P||_(d),k="Array"==t&&S.entries||P;if(k&&(O=i(k.call(new e)),h!==Object.prototype&&O.next&&(f||i(O)===h||(a?a(O,h):"function"!=typeof O[v]&&u(O,v,b)),c(O,j,!0,!0),f&&(p[j]=b))),"values"==d&&P&&"values"!==P.name&&(E=!0,A=function(){return P.call(this)}),f&&!m||S[v]===A||u(S,v,A),p[t]=A,d)if(x={values:_("values"),keys:g?A:_("keys"),entries:_("entries")},m)for(w in x)(y||E||!(w in S))&&s(S,w,x[w]);else r({target:t,proto:!0,forced:y||E},x);return x}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(16),o=/#|\.prototype\./,i=function(e,t){var n=c[a(e)];return n==s||n!=u&&("function"==typeof t?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=i.data={},u=i.NATIVE="N",s=i.POLYFILL="P";e.exports=i},function(e,t,n){var r=n(25),o=n(147);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),o(i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},function(e,t,n){var r=n(121),o=n(56),i=n(21)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r={};r[n(21)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(155);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";n(41);var r=n(43),o=n(83),i=n(16),a=n(21),c=n(40),u=a("species"),s=RegExp.prototype;e.exports=function(e,t,n,l){var f=a(e),p=!i((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),d=p&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!p||!d||n){var h=/./[f],y=t(f,""[e],(function(e,t,n,r,i){var a=t.exec;return a===o||a===s.exec?p&&!i?{done:!0,value:h.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}));r(String.prototype,e,y[0]),r(s,f,y[1])}l&&c(s[f],"sham",!0)}},function(e,t,n){"use strict";var r=n(126).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(49),o=n(83);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){n(15)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,s=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?s=u.concat(s):f=-1,s.length&&d())}function d(){if(!l){var e=c(p);l=!0;for(var t=s.length;t;){for(u=s,s=[];++f<t;)u&&u[f].run();f=-1,t=s.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new h(e,t)),1!==s.length||l||c(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var r=n(89);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(28),o=n(16),i=n(107);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(23),o=n(24),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(24),o=n(53),i=n(143),a=n(21)("toPrimitive");e.exports=function(e,t){if(!r(e)||o(e))return e;var n,c=e[a];if(void 0!==c){if(void 0===t&&(t="default"),n=c.call(e,t),!r(n)||o(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),i(e,t)}},function(e,t,n){var r=n(27),o=n(34),i=n(110).indexOf,a=n(55);e.exports=function(e,t){var n,c=o(e),u=0,s=[];for(n in c)!r(a,n)&&r(c,n)&&s.push(n);for(;t.length>u;)r(c,n=t[u++])&&(~i(s,n)||s.push(n));return s}},function(e,t,n){var r=n(34),o=n(32),i=n(73),a=function(e){return function(t,n,a){var c,u=r(t),s=o(u.length),l=i(a,s);if(e&&n!=n){for(;s>l;)if((c=u[l++])!=c)return!0}else for(;s>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(87),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(27),o=n(113),i=n(47),a=n(29);e.exports=function(e,t){for(var n=o(t),c=a.f,u=i.f,s=0;s<n.length;s++){var l=n[s];r(e,l)||c(e,l,u(t,l))}}},function(e,t,n){var r=n(45),o=n(58),i=n(92),a=n(25);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";var r,o,i,a=n(16),c=n(76),u=n(40),s=n(27),l=n(21),f=n(68),p=l("iterator"),d=!1;[].keys&&("next"in(i=[].keys())?(o=c(c(i)))!==Object.prototype&&(r=o):d=!0);var h=null==r||a((function(){var e={};return r[p].call(e)!==e}));h&&(r={}),f&&!h||s(r,p)||u(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},function(e,t,n){var r=n(16);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(15),o=n(55),i=n(24),a=n(27),c=n(29).f,u=n(58),s=n(117),l=n(69),f=n(149),p=!1,d=l("meta"),h=0,y=Object.isExtensible||function(){return!0},v=function(e){c(e,d,{value:{objectID:"O"+h++,weakData:{}}})},b=e.exports={enable:function(){b.enable=function(){},p=!0;var e=u.f,t=[].splice,n={};n[d]=1,e(n).length&&(u.f=function(n){for(var r=e(n),o=0,i=r.length;o<i;o++)if(r[o]===d){t.call(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:s.f}))},fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,d)){if(!y(e))return"F";if(!t)return"E";v(e)}return e[d].objectID},getWeakData:function(e,t){if(!a(e,d)){if(!y(e))return!0;if(!t)return!1;v(e)}return e[d].weakData},onFreeze:function(e){return f&&p&&y(e)&&!a(e,d)&&v(e),e}};o[d]=!0},function(e,t,n){var r=n(34),o=n(58).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){var r=n(25),o=n(119),i=n(32),a=n(79),c=n(120),u=n(95),s=n(122),l=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var f,p,d,h,y,v,b,g=n&&n.that,m=!(!n||!n.AS_ENTRIES),O=!(!n||!n.IS_ITERATOR),x=!(!n||!n.INTERRUPTED),w=a(t,g,1+m+x),_=function(e){return f&&s(f,"normal",e),new l(!0,e)},j=function(e){return m?(r(e),x?w(e[0],e[1],_):w(e[0],e[1])):x?w(e,_):w(e)};if(O)f=e;else{if("function"!=typeof(p=u(e)))throw TypeError("Target is not iterable");if(o(p)){for(d=0,h=i(e.length);h>d;d++)if((y=j(e[d]))&&y instanceof l)return y;return new l(!1)}f=c(e,p)}for(v=f.next;!(b=v.call(f)).done;){try{y=j(b.value)}catch(e){s(f,"throw",e)}if("object"==typeof y&&y&&y instanceof l)return y}return new l(!1)}},function(e,t,n){var r=n(21),o=n(56),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},function(e,t,n){var r=n(25),o=n(95);e.exports=function(e,t){var n=arguments.length<2?o(e):t;if("function"!=typeof n)throw TypeError(String(e)+" is not iterable");return r(n.call(e))}},function(e,t,n){var r=n(96),o=n(49),i=n(21)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?o(t):"Object"==(r=o(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(25);e.exports=function(e,t,n){var o,i;r(e);try{if(void 0===(o=e.return)){if("throw"===t)throw n;return n}o=o.call(e)}catch(e){i=!0,o=e}if("throw"===t)throw n;if(i)throw o;return r(o),n}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(21)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},function(e,t,n){var r=n(24),o=n(94);e.exports=function(e,t,n){var i,a;return o&&"function"==typeof(i=t.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(e,a),e}},function(e,t,n){var r=n(50),o=n(33),i=n(38),a=function(e){return function(t,n){var a,c,u=o(i(t)),s=r(n),l=u.length;return s<0||s>=l?e?"":void 0:(a=u.charCodeAt(s))<55296||a>56319||s+1===l||(c=u.charCodeAt(s+1))<56320||c>57343?e?u.charAt(s):a:e?u.slice(s,s+2):c-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(21);t.f=r},function(e,t,n){var r=n(156),o=n(27),i=n(128),a=n(29).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},function(e,t,n){"use strict";var r=n(15),o=n(110).includes,i=n(66);r({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(e,t,n){"use strict";var r=n(15),o=n(165),i=n(38),a=n(33);r({target:"String",proto:!0,forced:!n(166)("includes")},{includes:function(e){return!!~a(i(this)).indexOf(a(o(e)),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(24),o=n(49),i=n(21)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(16),o=n(23).RegExp;t.UNSUPPORTED_Y=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,n){var r=n(38),o=n(33),i="["+n(135)+"]",a=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),u=function(e){return function(t){var n=o(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(c,"")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(100),o=n(25),i=n(32),a=n(33),c=n(38),u=n(101),s=n(102);r("match",(function(e,t,n){return[function(t){var n=c(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](a(n))},function(e){var r=o(this),c=a(e),l=n(t,r,c);if(l.done)return l.value;if(!r.global)return s(r,c);var f=r.unicode;r.lastIndex=0;for(var p,d=[],h=0;null!==(p=s(r,c));){var y=a(p[0]);d[h]=y,""===y&&(r.lastIndex=u(c,i(r.lastIndex),f)),h++}return 0===h?null:d}]}))},function(e,t,n){"use strict";var r=n(100),o=n(16),i=n(25),a=n(50),c=n(32),u=n(33),s=n(38),l=n(101),f=n(171),p=n(102),d=n(21)("replace"),h=Math.max,y=Math.min,v="$0"==="a".replace(/./,"$0"),b=!!/./[d]&&""===/./[d]("a","$0");r("replace",(function(e,t,n){var r=b?"$":"$0";return[function(e,n){var r=s(this),o=null==e?void 0:e[d];return void 0!==o?o.call(e,r,n):t.call(u(r),e,n)},function(e,o){var s=i(this),d=u(e);if("string"==typeof o&&-1===o.indexOf(r)&&-1===o.indexOf("$<")){var v=n(t,s,d,o);if(v.done)return v.value}var b="function"==typeof o;b||(o=u(o));var g=s.global;if(g){var m=s.unicode;s.lastIndex=0}for(var O=[];;){var x=p(s,d);if(null===x)break;if(O.push(x),!g)break;""===u(x[0])&&(s.lastIndex=l(d,c(s.lastIndex),m))}for(var w,_="",j=0,E=0;E<O.length;E++){x=O[E];for(var S=u(x[0]),P=h(y(a(x.index),d.length),0),A=[],k=1;k<x.length;k++)A.push(void 0===(w=x[k])?w:String(w));var N=x.groups;if(b){var M=[S].concat(A,P,d);void 0!==N&&M.push(N);var D=u(o.apply(void 0,M))}else D=f(S,d,P,A,N,o);P>=j&&(_+=d.slice(j,P)+D,j=P+S.length)}return _+d.slice(j)}]}),!!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!v||b)},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,n,r){"use strict";(function(e){var o=r(22),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,c=a&&a.exports===i?o.a.Buffer:void 0,u=c?c.allocUnsafe:void 0;n.a=function(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}}).call(this,r(99)(e))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(0);function o(e){throw new Error("[mobx-utils] "+e)}function i(e,t){void 0===t&&(t="Illegal state"),e||o(t)}var a=function e(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(e(Object.getPrototypeOf(t))||[])},c=function(e){return function(e){var t=a(e);return t.filter((function(e,n){return t.indexOf(e)===n}))}(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))};function u(e){switch(this.state){case"pending":return e.pending&&e.pending(this.value);case"rejected":return e.rejected&&e.rejected(this.value);case"fulfilled":return e.fulfilled?e.fulfilled(this.value):this.value}}function s(e,t){if(i(arguments.length<=2,"fromPromise expects up to two arguments"),i("function"==typeof e||"object"==typeof e&&e&&"function"==typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"==typeof e&&(e=new Promise(e));var n=e;e.then(Object(r.i)("observableFromPromise-resolve",(function(e){n.value=e,n.state="fulfilled"})),Object(r.i)("observableFromPromise-reject",(function(e){n.value=e,n.state="rejected"}))),n.isPromiseBasedObservable=!0,n.case=u;var o=t&&"fulfilled"===t.state?t.value:void 0;return Object(r.o)(n,{value:o,state:"pending"},{},{deep:!1}),n}!function(e){e.reject=Object(r.i)("fromPromise.reject",(function(t){var n=e(Promise.reject(t));return n.state="rejected",n.value=t,n})),e.resolve=Object(r.i)("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var n=e(Promise.resolve(t));return n.state="fulfilled",n.value=t,n}))}(s||(s={}));var l=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(){function e(e,t){var n=this;Object(r.E)((function(){n.current=t,n.subscription=e.subscribe(n)}))}e.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.next=function(e){this.current=e},e.prototype.complete=function(){this.dispose()},e.prototype.error=function(e){this.current=e,this.dispose()},l([r.A.ref],e.prototype,"current",void 0),l([r.i.bound],e.prototype,"next",null),l([r.i.bound],e.prototype,"complete",null),l([r.i.bound],e.prototype,"error",null)}();var f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},p=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function h(e){if(!e)return"ROOT";for(var t=[];e.parent;)t.push(e.path),e=e.parent;return t.reverse().join("/")}function y(e){return Object(r.y)(e)||Object(r.w)(e)||Object(r.x)(e)}function v(e,t){var n=new WeakMap;function o(r){var o=n.get(r.object);!function(e,t){switch(e.type){case"add":i(e.newValue,t,e.name);break;case"update":a(e.oldValue),i(e.newValue,t,e.name||""+e.index);break;case"remove":case"delete":a(e.oldValue);break;case"splice":e.removed.map(a),e.added.forEach((function(n,r){return i(n,t,""+(e.index+r))}));for(var r=e.index+e.addedCount;r<e.object.length;r++)if(y(e.object[r])){var o=n.get(e.object[r]);o&&(o.path=""+r)}}}(r,o),t(r,h(o),e)}function i(e,t,a){if(y(e)){var c=n.get(e);if(c){if(c.parent!==t||c.path!==a)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+h(t)+"/"+a+"', but it already exists at '"+h(c.parent)+"/"+c.path+"'")}else{var u={parent:t,path:a,dispose:Object(r.B)(e,o)};n.set(e,u),Object(r.n)(e).forEach((function(e){var t=e[0];return i(e[1],u,t)}))}}}function a(e){if(y(e)){var t=n.get(e);if(!t)return;n.delete(e),t.dispose(),Object(r.J)(e).forEach(a)}}return i(e,void 0,""),function(){a(e)}}!function(){function e(e){var t=this;this.model=e,this.localValues=r.A.map({}),this.localComputedValues=r.A.map({}),this.isPropertyDirty=function(e){return t.localValues.has(e)},i(Object(r.y)(e),"createViewModel expects an observable object"),c(e).forEach((function(n){if(n!==r.a&&"__mobxDidRunLazyInitializers"!==n){if(i(-1===d.indexOf(n),"The propertyname "+n+" is reserved and cannot be used with viewModels"),Object(r.u)(e,n)){var o=Object(r.f)(e,n).derivation;t.localComputedValues.set(n,Object(r.k)(o.bind(t)))}var a=Object.getOwnPropertyDescriptor(e,n),c=a?{enumerable:a.enumerable}:{};Object.defineProperty(t,n,f(f({},c),{configurable:!0,get:function(){return Object(r.u)(e,n)?t.localComputedValues.get(n).get():t.isPropertyDirty(n)?t.localValues.get(n):t.model[n]},set:Object(r.i)((function(e){e!==t.model[n]?t.localValues.set(n,e):t.localValues.delete(n)}))}))}}))}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),e.prototype.submit=function(){var e=this;Object(r.z)(this.localValues).forEach((function(t){var n=e.localValues.get(t),o=e.model[t];Object(r.w)(o)?o.replace(n):Object(r.x)(o)?(o.clear(),o.merge(n)):Object(r.t)(n)||(e.model[t]=n)})),this.localValues.clear()},e.prototype.reset=function(){this.localValues.clear()},e.prototype.resetProperty=function(e){this.localValues.delete(e)},p([r.k],e.prototype,"isDirty",null),p([r.k],e.prototype,"changedValues",null),p([r.i.bound],e.prototype,"submit",null),p([r.i.bound],e.prototype,"reset",null),p([r.i.bound],e.prototype,"resetProperty",null)}();var b,g=(b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=(function(e){function t(t,n,o){var i=void 0===o?{}:o,a=i.name,c=void 0===a?"ogm"+(1e3*Math.random()|0):a,u=i.keyToName,s=void 0===u?function(e){return""+e}:u,l=e.call(this)||this;l._keyToName=s,l._groupBy=n,l._ogmInfoKey=Symbol("ogmInfo"+c),l._base=t;for(var f=0;f<t.length;f++)l._addItem(t[f]);return l._disposeBaseObserver=Object(r.B)(l._base,(function(e){if("splice"===e.type)Object(r.H)((function(){for(var t=0,n=e.removed;t<n.length;t++){var r=n[t];l._removeItem(r)}for(var o=0,i=e.added;o<i.length;o++){var a=i[o];l._addItem(a)}}));else{if("update"!==e.type)throw new Error("illegal state");Object(r.H)((function(){l._removeItem(e.oldValue),l._addItem(e.newValue)}))}})),l}g(t,e),t.prototype.clear=function(){throw new Error("not supported")},t.prototype.delete=function(e){throw new Error("not supported")},t.prototype.set=function(e,t){throw new Error("not supported")},t.prototype.dispose=function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}},t.prototype._getGroupArr=function(t){var n=e.prototype.get.call(this,t);return void 0===n&&(n=Object(r.A)([],{name:"GroupArray["+this._keyToName(t)+"]",deep:!1}),e.prototype.set.call(this,t,n)),n},t.prototype._removeFromGroupArr=function(t,n){var r=e.prototype.get.call(this,t);1===r.length?e.prototype.delete.call(this,t):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)},t.prototype._addItem=function(e){var t=this,n=this._groupBy(e),o=this._getGroupArr(n),i={groupByValue:n,groupArrIndex:o.length,reaction:Object(r.D)((function(){return t._groupBy(e)}),(function(n,r){var o=e[t._ogmInfoKey];t._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=t._getGroupArr(n),a=i.length;i.push(e),o.groupByValue=n,o.groupArrIndex=a}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),o.push(e)},t.prototype._removeItem=function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]}}(r.b),function(){function e(e,t){this.base=e,this.args=t,this.closestIdx=0,this.isDisposed=!1;for(var n=this.closest=this.root=e,r=0;r<this.args.length-1&&(n=n.get(t[r]));r++)this.closest=n;this.closestIdx=r}return e.prototype.exists=function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])},e.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},e.prototype.set=function(e){this.assertNotDisposed();for(var t=this.args.length,n=this.closest,r=this.closestIdx;r<t-1;r++){var o=new Map;n.set(this.args[r],o),n=o}this.closestIdx=t-1,this.closest=n,n.set(this.args[t-1],e)},e.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,n=[t],r=0;r<e-1;r++)t=t.get(this.args[r]),n.push(t);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0},e.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},e}());!function(){function e(){this.store=new Map,this.argsLength=-1}e.prototype.entry=function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new m(this.store,e)}}(),new Set,new Set,Promise.resolve(),"undefined"!=typeof queueMicrotask?queueMicrotask:void 0!==e&&e.nextTick}).call(this,n(104))},function(e,t,n){var r;!function(o,i,a){if(o){for(var c,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)u[111+p]="f"+p;for(p=0;p<=9;++p)u[p+96]=p.toString();g.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},g.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},g.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},g.prototype.reset=function(){return this._callbacks={},this._directMap={},this},g.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function e(t,n){return null!==t&&t!==i&&(t===n||e(t.parentNode,n))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},g.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},g.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t]);c=null},g.init=function(){var e=g(i);for(var t in e)"_"!==t.charAt(0)&&(g[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},g.init(),o.Mousetrap=g,e.exports&&(e.exports=g),void 0===(r=function(){return g}.call(t,n,t,e))||(e.exports=r)}function d(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function h(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return u[e.which]?u[e.which]:s[e.which]?s[e.which]:String.fromCharCode(e.which).toLowerCase()}function y(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function v(e,t,n){return n||(n=function(){if(!c)for(var e in c={},u)e>95&&e<112||u.hasOwnProperty(e)&&(c[u[e]]=e);return c}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function b(e,t){var n,r,o,i=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),o=0;o<n.length;++o)r=n[o],f[r]&&(r=f[r]),t&&"keypress"!=t&&l[r]&&(r=l[r],i.push("shift")),y(r)&&i.push(r);return{key:r,modifiers:i,action:t=v(r,i,t)}}function g(e){var t=this;if(e=e||i,!(t instanceof g))return new g(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},o=!1,a=!1,c=!1;function u(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(c=!1)}function s(e,n,o,i,a,c){var u,s,l,f,p=[],d=o.type;if(!t._callbacks[e])return[];for("keyup"==d&&y(e)&&(n=[e]),u=0;u<t._callbacks[e].length;++u)if(s=t._callbacks[e][u],(i||!s.seq||r[s.seq]==s.level)&&d==s.action&&("keypress"==d&&!o.metaKey&&!o.ctrlKey||(l=n,f=s.modifiers,l.sort().join(",")===f.sort().join(",")))){var h=!i&&s.combo==a,v=i&&s.seq==i&&s.level==c;(h||v)&&t._callbacks[e].splice(u,1),p.push(s)}return p}function l(e,n,r,o){t.stopCallback(n,n.target||n.srcElement,r,o)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function f(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=h(e);n&&("keyup"!=e.type||o!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):o=!1)}function p(e,t,i,a){function s(t){return function(){c=t,++r[e],clearTimeout(n),n=setTimeout(u,1e3)}}function f(t){l(i,t,e),"keyup"!==a&&(o=h(t)),setTimeout(u,10)}r[e]=0;for(var p=0;p<t.length;++p){var d=p+1===t.length?f:s(a||b(t[p+1]).action);v(t[p],d,a,e,p)}}function v(e,n,r,o,i){t._directMap[e+":"+r]=n;var a,c=(e=e.replace(/\s+/g," ")).split(" ");c.length>1?p(e,c,n,r):(a=b(e,r),t._callbacks[a.key]=t._callbacks[a.key]||[],s(a.key,a.modifiers,{type:a.action},o,e,i),t._callbacks[a.key][o?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:e}))}t._handleKey=function(e,t,n){var r,o=s(e,t,n),i={},f=0,p=!1;for(r=0;r<o.length;++r)o[r].seq&&(f=Math.max(f,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=f)continue;p=!0,i[o[r].seq]=1,l(o[r].callback,n,o[r].combo,o[r].seq)}else p||l(o[r].callback,n,o[r].combo);var d="keypress"==n.type&&a;n.type!=c||y(e)||d||u(i),a=p&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)v(e[r],t,n)},d(e,"keypress",f),d(e,"keydown",f),d(e,"keyup",f)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t,n){var r=n(28),o=n(29),i=n(25),a=n(54);e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),c=r.length,u=0;c>u;)o.f(e,n=r[u++],t[n]);return e}},function(e,t,n){var r=n(24);e.exports=function(e,t){var n,o;if("string"===t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if("string"!==t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(45);e.exports=r("document","documentElement")},function(e,t,n){var r=n(23),o=n(111),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t,n){"use strict";var r=n(114).IteratorPrototype,o=n(46),i=n(57),a=n(77),c=n(56),u=function(){return this};e.exports=function(e,t,n){var s=t+" Iterator";return e.prototype=o(r,{next:i(1,n)}),a(e,s,!1,!0),c[s]=u,e}},function(e,t,n){var r=n(24);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){"use strict";var r=n(15),o=n(23),i=n(93),a=n(43),c=n(116),u=n(118),s=n(123),l=n(24),f=n(16),p=n(124),d=n(77),h=n(125);e.exports=function(e,t,n){var y=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),b=y?"set":"add",g=o[e],m=g&&g.prototype,O=g,x={},w=function(e){var t=m[e];a(m,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(i(e,"function"!=typeof g||!(v||m.forEach&&!f((function(){(new g).entries().next()})))))O=n.getConstructor(t,e,y,b),c.enable();else if(i(e,!0)){var _=new O,j=_[b](v?{}:-0,1)!=_,E=f((function(){_.has(1)})),S=p((function(e){new g(e)})),P=!v&&f((function(){for(var e=new g,t=5;t--;)e[b](t,t);return!e.has(-0)}));S||((O=t((function(t,n){s(t,O,e);var r=h(new g,t,O);return null!=n&&u(n,r[b],{that:r,AS_ENTRIES:y}),r}))).prototype=m,m.constructor=O),(E||P)&&(w("delete"),w("has"),y&&w("get")),(P||j)&&w(b),v&&m.clear&&delete m.clear}return x[e]=O,r({global:!0,forced:O!=g},x),d(O,e),v||n.setStrong(O,e,y),O}},function(e,t,n){var r=n(16);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){"use strict";var r=n(29).f,o=n(46),i=n(151),a=n(79),c=n(123),u=n(118),s=n(91),l=n(152),f=n(28),p=n(116).fastKey,d=n(51),h=d.set,y=d.getterFor;e.exports={getConstructor:function(e,t,n,s){var l=e((function(e,r){c(e,l,t),h(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),f||(e.size=0),null!=r&&u(r,e[s],{that:e,AS_ENTRIES:n})})),d=y(t),v=function(e,t,n){var r,o,i=d(e),a=b(e,t);return a?a.value=n:(i.last=a={index:o=p(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),f?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},b=function(e,t){var n,r=d(e),o=p(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(l.prototype,{clear:function(){for(var e=d(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=d(this),n=b(this,e);if(n){var r=n.next,o=n.previous;delete t.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),t.first==n&&(t.first=r),t.last==n&&(t.last=o),f?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=d(this),r=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),i(l.prototype,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),f&&r(l.prototype,"size",{get:function(){return d(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",o=y(t),i=y(r);s(e,t,(function(e,t){h(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},function(e,t,n){var r=n(43);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){"use strict";var r=n(45),o=n(29),i=n(21),a=n(28),c=i("species");e.exports=function(e){var t=r(e),n=o.f;a&&t&&!t[c]&&n(t,c,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(96),o=n(121);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(e,t,n){"use strict";var r=n(60).forEach,o=n(98)("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){var r=n(24),o=n(80),i=n(21)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)?r(t)&&null===(t=t[i])&&(t=void 0):t=void 0),void 0===t?Array:t}},function(e,t,n){var r=n(23);e.exports=r},function(e,t,n){"use strict";var r=n(79),o=n(31),i=n(158),a=n(119),c=n(32),u=n(62),s=n(120),l=n(95);e.exports=function(e){var t,n,f,p,d,h,y=o(e),v="function"==typeof this?this:Array,b=arguments.length,g=b>1?arguments[1]:void 0,m=void 0!==g,O=l(y),x=0;if(m&&(g=r(g,b>2?arguments[2]:void 0,2)),null==O||v==Array&&a(O))for(n=new v(t=c(y.length));t>x;x++)h=m?g(y[x],x):y[x],u(n,x,h);else for(d=(p=s(y,O)).next,n=new v;!(f=d.call(p)).done;x++)h=m?i(p,g,[f.value,x],!0):f.value,u(n,x,h);return n.length=x,n}},function(e,t,n){var r=n(25),o=n(122);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){o(e,"throw",t)}}},function(e,t,n){"use strict";var r=n(15),o=n(59),i=n(31),a=n(32),c=n(33),u=n(16),s=n(160),l=n(98),f=n(161),p=n(162),d=n(70),h=n(163),y=[],v=y.sort,b=u((function(){y.sort(void 0)})),g=u((function(){y.sort(null)})),m=l("sort"),O=!u((function(){if(d)return d<70;if(!(f&&f>3)){if(p)return!0;if(h)return h<603;var e,t,n,r,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)y.push({k:t+r,v:n})}for(y.sort((function(e,t){return t.v-e.v})),r=0;r<y.length;r++)t=y[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));r({target:"Array",proto:!0,forced:b||!g||!m||!O},{sort:function(e){void 0!==e&&o(e);var t=i(this);if(O)return void 0===e?v.call(t):v.call(t,e);var n,r,u=[],l=a(t.length);for(r=0;r<l;r++)r in t&&u.push(t[r]);for(n=(u=s(u,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}}(e))).length,r=0;r<n;)t[r]=u[r++];for(;r<l;)delete t[r++];return t}})},function(e,t){var n=Math.floor,r=function e(t,r){var a=t.length,c=n(a/2);return a<8?o(t,r):i(e(t.slice(0,c),r),e(t.slice(c),r),r)},o=function(e,t){for(var n,r,o=e.length,i=1;i<o;){for(r=i,n=e[i];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==i++&&(e[r]=n)}return e},i=function(e,t,n){for(var r=e.length,o=t.length,i=0,a=0,c=[];i<r||a<o;)i<r&&a<o?c.push(n(e[i],t[a])<=0?e[i++]:t[a++]):c.push(i<r?e[i++]:t[a++]);return c};e.exports=r},function(e,t,n){var r=n(71).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},function(e,t,n){var r=n(71);e.exports=/MSIE|Trident/.test(r)},function(e,t,n){var r=n(71).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},function(e,t,n){"use strict";var r=n(15),o=n(60).find,i=n(66),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(e,t,n){var r=n(132);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(21)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){"use strict";var r=n(25);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(16),o=n(23).RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},function(e,t,n){var r=n(16),o=n(23).RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},function(e,t,n){var r=n(25),o=n(59),i=n(21)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},function(e,t,n){var r=n(31),o=Math.floor,i="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,u,s,l){var f=n+e.length,p=u.length,d=c;return void 0!==s&&(s=r(s),d=a),i.call(l,d,(function(r,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(f);case"<":a=s[i.slice(1,-1)];break;default:var c=+i;if(0===c)return r;if(c>p){var l=o(c/10);return 0===l?r:l<=p?void 0===u[l-1]?i.charAt(1):u[l-1]+i.charAt(1):r}a=u[c-1]}return void 0===a?"":a}))}},function(e,t,n){"use strict";var r=n(59),o=n(24),i=[].slice,a={},c=function(e,t,n){if(!(t in a)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";a[t]=Function("C,a","return new C("+r.join(",")+")")}return a[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=i.call(arguments,1),a=function r(){var o=n.concat(i.call(arguments));return this instanceof r?c(t,o.length,o):t.apply(e,o)};return o(t.prototype)&&(a.prototype=t.prototype),a}},function(e,t,n){"use strict";var r=n(28),o=n(16),i=n(54),a=n(92),c=n(75),u=n(31),s=n(65),l=Object.assign,f=Object.defineProperty;e.exports=!l||o((function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||"abcdefghijklmnopqrst"!=i(l({},t)).join("")}))?function(e,t){for(var n=u(e),o=arguments.length,l=1,f=a.f,p=c.f;o>l;)for(var d,h=s(arguments[l++]),y=f?i(h).concat(f(h)):i(h),v=y.length,b=0;v>b;)d=y[b++],r&&!p.call(h,d)||(n[d]=h[d]);return n}:l},function(e,t,n){var r=n(38),o=n(33),i=/"/g;e.exports=function(e,t,n,a){var c=o(r(e)),u="<"+t;return""!==n&&(u+=" "+n+'="'+o(a).replace(i,"&quot;")+'"'),u+">"+c+"</"+t+">"}},function(e,t,n){var r=n(16);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,n){var r=n(15),o=Math.hypot,i=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,o=0,c=0,u=arguments.length,s=0;c<u;)s<(n=i(arguments[c++]))?(o=o*(r=s/n)*r+1,s=n):o+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*a(o)}})},function(e,t,n){var r=n(27);e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},function(e,t,n){n(15)({target:"String",proto:!0},{repeat:n(179)})},function(e,t,n){"use strict";var r=n(50),o=n(33),i=n(38);e.exports=function(e){var t=o(i(this)),n="",a=r(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},function(e,t,n){var r=n(28),o=n(54),i=n(34),a=n(75).f,c=function(e){return function(t){for(var n,c=i(t),u=o(c),s=u.length,l=0,f=[];s>l;)n=u[l++],r&&!a.call(c,n)||f.push(e?[n,c[n]]:c[n]);return f}};e.exports={entries:c(!0),values:c(!1)}},function(e,t,n){"use strict";var r=n(31),o=n(73),i=n(32);e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,c=o(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,s=void 0===u?n:o(u,n);s>c;)t[c++]=e;return t}},function(e,t,n){"use strict";var r=n(15),o=n(134).trim;r({target:"String",proto:!0,forced:n(183)("trim")},{trim:function(){return o(this)}})},function(e,t,n){var r=n(16),o=n(135);e.exports=function(e){return r((function(){return!!o[e]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[e]()||o[e].name!==e}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"observer",(function(){return mx})),n.d(t,"LogicFlow",(function(){return gx})),n.d(t,"h",(function(){return b})),n.d(t,"LogicFlowUtil",(function(){return r})),n.d(t,"BaseNode",(function(){return Av})),n.d(t,"RectNode",(function(){return Gv})),n.d(t,"CircleNode",(function(){return Qv})),n.d(t,"PolygonNode",(function(){return hb})),n.d(t,"DiamondNode",(function(){return Sb})),n.d(t,"EllipseNode",(function(){return Ub})),n.d(t,"TextNode",(function(){return Jb})),n.d(t,"HtmlNode",(function(){return sg})),n.d(t,"BaseEdge",(function(){return lm})),n.d(t,"LineEdge",(function(){return wm})),n.d(t,"PolylineEdge",(function(){return Gm})),n.d(t,"BezierEdge",(function(){return eO})),n.d(t,"Arrow",(function(){return jg})),n.d(t,"BaseEdgeModel",(function(){return Ju})),n.d(t,"BezierEdgeModel",(function(){return Ld})),n.d(t,"LineEdgeModel",(function(){return ls})),n.d(t,"PolylineEdgeModel",(function(){return _s})),n.d(t,"BaseNodeModel",(function(){return qd})),n.d(t,"CircleNodeModel",(function(){return uh})),n.d(t,"DiamondNodeModel",(function(){return Ph})),n.d(t,"EllipseNodeModel",(function(){return Bh})),n.d(t,"PolygonNodeModel",(function(){return Qh})),n.d(t,"RectNodeModel",(function(){return fy})),n.d(t,"TextNodeModel",(function(){return wy})),n.d(t,"HtmlNodeModel",(function(){return Cy})),n.d(t,"EditConfigModel",(function(){return _a})),n.d(t,"GraphModel",(function(){return Ul})),n.d(t,"SnaplineModel",(function(){return By})),n.d(t,"Keyboard",(function(){return ux})),n.d(t,"get",(function(){return Wp})),n.d(t,"defaults",(function(){return qp}));var r={};n.r(r),n.d(r,"createUuid",(function(){return Kc})),n.d(r,"refreshGraphId",(function(){return Zc})),n.d(r,"createDrag",(function(){return dl})),n.d(r,"StepDrag",(function(){return Dl}));var o,i,a,c,u,s,l,f=n(0),p={},d=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function y(e,t){for(var n in t)e[n]=t[n];return e}function v(e){var t=e.parentNode;t&&t.removeChild(e)}function b(e,t,n){var r,i,a,c={};for(a in t)"key"==a?r=t[a]:"ref"==a?i=t[a]:c[a]=t[a];if(arguments.length>2&&(c.children=arguments.length>3?o.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===c[a]&&(c[a]=e.defaultProps[a]);return g(e,c,r,i,null)}function g(e,t,n,r,o){var c={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++a:o};return null!=i.vnode&&i.vnode(c),c}function m(){return{current:null}}function O(e){return e.children}function x(e,t){this.props=e,this.context=t}function w(e,t){if(null==t)return e.__?w(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?w(e):null}function _(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return _(e)}}function j(e){(!e.__d&&(e.__d=!0)&&c.push(e)&&!E.__r++||s!==i.debounceRendering)&&((s=i.debounceRendering)||u)(E)}function E(){for(var e;E.__r=c.length;)e=c.sort((function(e,t){return e.__v.__b-t.__v.__b})),c=[],e.some((function(e){var t,n,r,o,i,a;e.__d&&(i=(o=(t=e).__v).__e,(a=t.__P)&&(n=[],(r=y({},o)).__v=o.__v+1,C(a,o,r,t.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?w(o):i,o.__h),I(n,o),o.__e!=i&&_(o)))}))}function S(e,t,n,r,o,i,a,c,u,s){var l,f,h,y,v,b,m,x=r&&r.__k||d,_=x.length;for(n.__k=[],l=0;l<t.length;l++)if(null!=(y=n.__k[l]=null==(y=t[l])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?g(null,y,null,null,y):Array.isArray(y)?g(O,{children:y},null,null,null):y.__b>0?g(y.type,y.props,y.key,null,y.__v):y)){if(y.__=n,y.__b=n.__b+1,null===(h=x[l])||h&&y.key==h.key&&y.type===h.type)x[l]=void 0;else for(f=0;f<_;f++){if((h=x[f])&&y.key==h.key&&y.type===h.type){x[f]=void 0;break}h=null}C(e,y,h=h||p,o,i,a,c,u,s),v=y.__e,(f=y.ref)&&h.ref!=f&&(m||(m=[]),h.ref&&m.push(h.ref,null,y),m.push(f,y.__c||v,y)),null!=v?(null==b&&(b=v),"function"==typeof y.type&&null!=y.__k&&y.__k===h.__k?y.__d=u=P(y,u,e):u=k(e,y,h,x,v,u),s||"option"!==n.type?"function"==typeof n.type&&(n.__d=u):e.value=""):u&&h.__e==u&&u.parentNode!=e&&(u=w(h))}for(n.__e=b,l=_;l--;)null!=x[l]&&("function"==typeof n.type&&null!=x[l].__e&&x[l].__e==n.__d&&(n.__d=w(r,l+1)),z(x[l],x[l]));if(m)for(l=0;l<m.length;l++)L(m[l],m[++l],m[++l])}function P(e,t,n){var r,o;for(r=0;r<e.__k.length;r++)(o=e.__k[r])&&(o.__=e,t="function"==typeof o.type?P(o,t,n):k(n,o,o,e.__k,o.__e,t));return t}function A(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){A(e,t)})):t.push(e)),t}function k(e,t,n,r,o,i){var a,c,u;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||o!=i||null==o.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(o),a=null;else{for(c=i,u=0;(c=c.nextSibling)&&u<r.length;u+=2)if(c==o)break e;e.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function N(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||h.test(t)?n:n+"px"}function M(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||N(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||N(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?T:D,i):e.removeEventListener(t,i?T:D,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function D(e){this.l[e.type+!1](i.event?i.event(e):e)}function T(e){this.l[e.type+!0](i.event?i.event(e):e)}function C(e,t,n,r,o,a,c,u,s){var l,f,p,d,h,v,b,g,m,w,_,j=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(s=n.__h,u=t.__e=n.__e,t.__h=null,a=[u]),(l=i.__b)&&l(t);try{e:if("function"==typeof j){if(g=t.props,m=(l=j.contextType)&&r[l.__c],w=l?m?m.props.value:l.__:r,n.__c?b=(f=t.__c=n.__c).__=f.__E:("prototype"in j&&j.prototype.render?t.__c=f=new j(g,w):(t.__c=f=new x(g,w),f.constructor=j,f.render=B),m&&m.sub(f),f.props=g,f.state||(f.state={}),f.context=w,f.__n=r,p=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=j.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=y({},f.__s)),y(f.__s,j.getDerivedStateFromProps(g,f.__s))),d=f.props,h=f.state,p)null==j.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==j.getDerivedStateFromProps&&g!==d&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(g,w),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(g,f.__s,w)||t.__v===n.__v){f.props=g,f.state=f.__s,t.__v!==n.__v&&(f.__d=!1),f.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),f.__h.length&&c.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(g,f.__s,w),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(d,h,v)}))}f.context=w,f.props=g,f.state=f.__s,(l=i.__r)&&l(t),f.__d=!1,f.__v=t,f.__P=e,l=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(r=y(y({},r),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(v=f.getSnapshotBeforeUpdate(d,h)),_=null!=l&&l.type===O&&null==l.key?l.props.children:l,S(e,Array.isArray(_)?_:[_],t,n,r,o,a,c,u,s),f.base=t.__e,t.__h=null,f.__h.length&&c.push(f),b&&(f.__E=f.__=null),f.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=R(n.__e,t,n,r,o,a,c,s);(l=i.diffed)&&l(t)}catch(e){t.__v=null,(s||null!=a)&&(t.__e=u,t.__h=!!s,a[a.indexOf(u)]=null),i.__e(e,t,n)}}function I(e,t){i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function R(e,t,n,r,i,a,c,u){var s,l,f,d=n.props,h=t.props,y=t.type,b=0;if("svg"===y&&(i=!0),null!=a)for(;b<a.length;b++)if((s=a[b])&&(s===e||(y?s.localName==y:3==s.nodeType))){e=s,a[b]=null;break}if(null==e){if(null===y)return document.createTextNode(h);e=i?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,h.is&&h),a=null,u=!1}if(null===y)d===h||u&&e.data===h||(e.data=h);else{if(a=a&&o.call(e.childNodes),l=(d=n.props||p).dangerouslySetInnerHTML,f=h.dangerouslySetInnerHTML,!u){if(null!=a)for(d={},b=0;b<e.attributes.length;b++)d[e.attributes[b].name]=e.attributes[b].value;(f||l)&&(f&&(l&&f.__html==l.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}if(function(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||M(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||M(e,i,t[i],n[i],r)}(e,h,d,i,u),f)t.__k=[];else if(b=t.props.children,S(e,Array.isArray(b)?b:[b],t,n,r,i&&"foreignObject"!==y,a,c,a?a[0]:n.__k&&w(n,0),u),null!=a)for(b=a.length;b--;)null!=a[b]&&v(a[b]);u||("value"in h&&void 0!==(b=h.value)&&(b!==e.value||"progress"===y&&!b)&&M(e,"value",b,d.value,!1),"checked"in h&&void 0!==(b=h.checked)&&b!==e.checked&&M(e,"checked",b,d.checked,!1))}return e}function L(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){i.__e(e,n)}}function z(e,t,n){var r,o;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||L(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&z(r[o],t,"function"!=typeof e.type);n||null==e.__e||v(e.__e),e.__e=e.__d=void 0}function B(e,t,n){return this.constructor(e,n)}function G(e,t,n){var r,a,c;i.__&&i.__(e,t),a=(r="function"==typeof n)?null:n&&n.__k||t.__k,c=[],C(t,e=(!r&&n||t).__k=b(O,null,[e]),a||p,p,void 0!==t.ownerSVGElement,!r&&n?[n]:a?null:t.firstChild?o.call(t.childNodes):null,c,!r&&n?n:a?a.__e:t.firstChild,r),I(c,e)}function F(e,t){G(e,t,F)}function U(e,t,n){var r,i,a,c=y({},e.props);for(a in t)"key"==a?r=t[a]:"ref"==a?i=t[a]:c[a]=t[a];return arguments.length>2&&(c.children=arguments.length>3?o.call(arguments,2):n),g(e.type,c,r||e.key,i||e.ref,null)}o=d.slice,i={__e:function(e,t){for(var n,r,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),o=n.__d),o)return n.__E=n}catch(t){e=t}throw e}},a=0,x.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=y({},this.state),"function"==typeof e&&(e=e(y({},n),this.props)),e&&y(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),j(this))},x.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),j(this))},x.prototype.render=O,c=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,E.__r=0,l=0;var X,H,Y,V=0,W=[],K=i.__b,Z=i.__r,q=i.diffed,$=i.__c,Q=i.unmount;function J(e,t){i.__h&&i.__h(H,e,V||t),V=0;var n=H.__H||(H.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function ee(e){return V=1,te(se,e)}function te(e,t,n){var r=J(X++,2);return r.t=e,r.__c||(r.__=[n?n(t):se(void 0,t),function(e){var t=r.t(r.__[0],e);r.__[0]!==t&&(r.__=[t,r.__[1]],r.__c.setState({}))}],r.__c=H),r.__}function ne(e,t){var n=J(X++,4);!i.__s&&ue(n.__H,t)&&(n.__=e,n.__H=t,H.__h.push(n))}function re(e,t){var n=J(X++,7);return ue(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function oe(){W.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(ae),e.__H.__h.forEach(ce),e.__H.__h=[]}catch(t){e.__H.__h=[],i.__e(t,e.__v)}})),W=[]}i.__b=function(e){H=null,K&&K(e)},i.__r=function(e){Z&&Z(e),X=0;var t=(H=e.__c).__H;t&&(t.__h.forEach(ae),t.__h.forEach(ce),t.__h=[])},i.diffed=function(e){q&&q(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==W.push(t)&&Y===i.requestAnimationFrame||((Y=i.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),ie&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);ie&&(t=requestAnimationFrame(n))})(oe)),H=void 0},i.__c=function(e,t){t.some((function(e){try{e.__h.forEach(ae),e.__h=e.__h.filter((function(e){return!e.__||ce(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],i.__e(n,e.__v)}})),$&&$(e,t)},i.unmount=function(e){Q&&Q(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(ae)}catch(e){i.__e(e,t.__v)}};var ie="function"==typeof requestAnimationFrame;function ae(e){var t=H;"function"==typeof e.__c&&e.__c(),H=t}function ce(e){var t=H;e.__c=e.__(),H=t}function ue(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function se(e,t){return"function"==typeof t?t(e):t}function le(e,t){for(var n in t)e[n]=t[n];return e}function fe(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function pe(e){this.props=e}(pe.prototype=new x).isPureReactComponent=!0,pe.prototype.shouldComponentUpdate=function(e,t){return fe(this.props,e)||fe(this.state,t)};var de=i.__b;i.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),de&&de(e)};var he="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function ye(e){function t(t,n){var r=le({},t);return delete r.ref,e(r,(n=t.ref||n)&&("object"!=typeof n||"current"in n)?n:null)}return t.$$typeof=he,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var ve=function(e,t){return null==e?null:A(A(e).map(t))},be={map:ve,forEach:ve,count:function(e){return e?A(e).length:0},only:function(e){var t=A(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:A},ge=i.__e;i.__e=function(e,t,n){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);ge(e,t,n)};var me=i.unmount;function Oe(){this.__u=0,this.t=null,this.__b=null}function xe(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function we(){this.u=null,this.o=null}i.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),me&&me(e)},(Oe.prototype=new x).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=xe(r.__v),i=!1,a=function(){i||(i=!0,n.__R=null,o?o(c):c())};n.__R=a;var c=function(){if(!--r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)})),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},u=!0===t.__h;r.__u++||u||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(a,a)},Oe.prototype.componentWillUnmount=function(){this.t=[]},Oe.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=le({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)}))),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__e&&b(O,null,e.fallback);return o&&(o.__h=null),[b(O,null,t.__e?null:e.children),o]};var _e=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function je(e){return this.getChildContext=function(){return e.context},e.children}function Ee(e){var t=this,n=e.i;t.componentWillUnmount=function(){G(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),G(b(je,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(we.prototype=new x).__e=function(e){var t=this,n=xe(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),_e(t,e,r)):o()};n?n(i):i()}},we.prototype.render=function(e){this.u=null,this.o=new Map;var t=A(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},we.prototype.componentDidUpdate=we.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){_e(e,n,t)}))};var Se="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Pe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ae=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};x.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(x.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var ke=i.event;function Ne(){}function Me(){return this.cancelBubble}function De(){return this.defaultPrevented}i.event=function(e){return ke&&(e=ke(e)),e.persist=Ne,e.isPropagationStopped=Me,e.isDefaultPrevented=De,e.nativeEvent=e};var Te,Ce={configurable:!0,get:function(){return this.class}},Ie=i.vnode;i.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){for(var o in r={},n){var i=n[o];"value"===o&&"defaultValue"in n&&null==i||("defaultValue"===o&&"value"in n&&null==n.value?o="value":"download"===o&&!0===i?i="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+t)&&!Ae(n.type)?o="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():Pe.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),r[o]=i)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=A(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=A(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r}t&&n.class!=n.className&&(Ce.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",Ce)),e.$$typeof=Se,Ie&&Ie(e)};var Re=i.__r;function Le(e){return!!e&&e.$$typeof===Se}function ze(e){return e&&(e.base||1===e.nodeType&&e)||null}i.__r=function(e){Re&&Re(e),Te=e.__c};var Be=function(e,t){return e(t)},Ge={useState:ee,useReducer:te,useEffect:function(e,t){var n=J(X++,3);!i.__s&&ue(n.__H,t)&&(n.__=e,n.__H=t,H.__H.__h.push(n))},useLayoutEffect:ne,useRef:function(e){return V=5,re((function(){return{current:e}}),[])},useImperativeHandle:function(e,t,n){V=6,ne((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))},useMemo:re,useCallback:function(e,t){return V=8,re((function(){return e}),t)},useContext:function(e){var t=H.context[e.__c],n=J(X++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(H)),t.props.value):e.__},useDebugValue:function(e,t){i.useDebugValue&&i.useDebugValue(t?t(e):e)},version:"17.0.2",Children:be,render:function(e,t,n){return null==t.__k&&(t.textContent=""),G(e,t),"function"==typeof n&&n(),e?e.__c:null},hydrate:function(e,t,n){return F(e,t),"function"==typeof n&&n(),e?e.__c:null},unmountComponentAtNode:function(e){return!!e.__k&&(G(null,e),!0)},createPortal:function(e,t){return b(Ee,{__v:e,i:t})},createElement:b,createContext:function(e,t){var n={__c:t="__cC"+l++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(j)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n},createFactory:function(e){return b.bind(null,e)},cloneElement:function(e){return Le(e)?U.apply(null,arguments):e},createRef:m,Fragment:O,isValidElement:Le,findDOMNode:ze,Component:x,PureComponent:pe,memo:function(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:fe(this.props,e)}function r(t){return this.shouldComponentUpdate=n,b(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r},forwardRef:ye,flushSync:function(e,t){return e(t)},unstable_batchedUpdates:Be,StrictMode:O,Suspense:Oe,SuspenseList:we,lazy:function(e){var t,n,r;function o(o){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return b(n,o)}return o.displayName="Lazy",o.__f=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:{current:{readContext:function(e){return Te.__n[e.__c].props.value}}}}};function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t,n){return t&&Xe(e.prototype,t),n&&Xe(e,n),e}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qe(e,t){return e(t={exports:{}},t.exports),t.exports}var $e,Qe=qe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case i:case c:case a:return e;default:switch(e=e&&e.$$typeof){case s:case p:case u:return e;default:return t}}case o:return t}}}function b(e){return v(e)===f}t.typeOf=v,t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=s,t.ContextProvider=u,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Profiler=c,t.Portal=o,t.StrictMode=a,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===f||e===c||e===a||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===p)},t.isAsyncMode=function(e){return b(e)||v(e)===l},t.isConcurrentMode=b,t.isContextConsumer=function(e){return v(e)===s},t.isContextProvider=function(e){return v(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return v(e)===p},t.isFragment=function(e){return v(e)===i},t.isProfiler=function(e){return v(e)===c},t.isPortal=function(e){return v(e)===o},t.isStrictMode=function(e){return v(e)===a}}));($e=Qe)&&$e.__esModule&&Object.prototype.hasOwnProperty.call($e,"default")&&$e.default,Qe.typeOf,Qe.AsyncMode,Qe.ConcurrentMode,Qe.ContextConsumer,Qe.ContextProvider,Qe.Element,Qe.ForwardRef,Qe.Fragment,Qe.Profiler,Qe.Portal,Qe.StrictMode,Qe.isValidElementType,Qe.isAsyncMode,Qe.isConcurrentMode,Qe.isContextConsumer,Qe.isContextProvider,Qe.isElement,Qe.isForwardRef,Qe.isFragment,Qe.isProfiler,Qe.isPortal,Qe.isStrictMode;var Je=qe((function(e){e.exports=Qe})),et={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},tt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},nt={};nt[Je.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var rt=Object.defineProperty,ot=Object.getOwnPropertyNames,it=Object.getOwnPropertySymbols,at=Object.getOwnPropertyDescriptor,ct=Object.getPrototypeOf,ut=Object.prototype,st=function e(t,n,r){if("string"!=typeof n){if(ut){var o=ct(n);o&&o!==ut&&e(t,o,r)}var i=ot(n);it&&(i=i.concat(it(n)));for(var a=nt[t.$$typeof]||et,c=nt[n.$$typeof]||et,u=0;u<i.length;++u){var s=i[u];if(!(tt[s]||r&&r[s]||c&&c[s]||a&&a[s])){var l=at(n,s);try{rt(t,s,l)}catch(e){}}}return t}return t},lt=function(){function e(){Ue(this,e),this.listeners=[]}return He(e,[{key:"on",value:function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}}},{key:"emit",value:function(e){this.listeners.forEach((function(t){return t(e)}))}}]),e}();function ft(e){function t(t,n,r,o,i,a){for(var c=arguments.length,u=new Array(c>6?c-6:0),s=6;s<c;s++)u[s-6]=arguments[s];return Object(f.I)((function(){if(o=o||"<<anonymous>>",a=a||r,null==n[r]){if(t){var c=null===n[r]?"null":"undefined";return new Error("The "+i+" `"+a+"` is marked as required in `"+o+"`, but its value is `"+c+"`.")}return null}return e.apply(void 0,[n,r,o,i,a].concat(u))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function pt(e){var t=Fe(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function dt(e,t){return ft((function(n,r,o,i,a){return Object(f.I)((function(){if(e&&pt(n[r])===t.toLowerCase())return null;var i;switch(t){case"Array":i=f.w;break;case"Object":i=f.y;break;case"Map":i=f.x;break;default:throw new Error("Unexpected mobxType: ".concat(t))}var c=n[r];if(!i(c)){var u=function(e){var t=pt(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(c),s=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+a+"` of type `"+u+"` supplied to `"+o+"`, expected `mobx.Observable"+t+"`"+s+".")}return null}))}))}function ht(e,t){return ft((function(n,r,o,i,a){for(var c=arguments.length,u=new Array(c>5?c-5:0),s=5;s<c;s++)u[s-5]=arguments[s];return Object(f.I)((function(){if("function"!=typeof t)return new Error("Property `"+a+"` of component `"+o+"` has invalid PropType notation.");var c=dt(e,"Array")(n,r,o);if(c instanceof Error)return c;for(var s=n[r],l=0;l<s.length;l++)if((c=t.apply(void 0,[s,l,o,i,a+"["+l+"]"].concat(u)))instanceof Error)return c;return null}))}))}dt(!1,"Array"),ht.bind(null,!1),dt(!1,"Map"),dt(!1,"Object"),dt(!0,"Array"),ht.bind(null,!0);var yt=dt(!0,"Object"),vt=0,bt={};function gt(e){return bt[e]||(bt[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react ".concat(e," (").concat(vt,")");return vt++,t}(e)),bt[e]}var mt=gt("patchMixins"),Ot=gt("patchedDefinition");function xt(e,t){var n=e[mt]=e[mt]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function wt(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.locks++;try{var a;return null!=e&&(a=e.apply(this,o)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,o)}))}}function _t(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];wt.call.apply(wt,[this,e,t].concat(r))}}function jt(e,t){for(var n=xt(e,t),r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];for(var a=0;a<o.length;a++){var c=o[a];n.methods.indexOf(c)<0&&n.methods.push(c)}var u=Object.getOwnPropertyDescriptor(e,t);if(!u||!u[Ot]){var s=e[t],l=Et(e,t,u?u.enumerable:void 0,n,s);Object.defineProperty(e,t,l)}}function Et(e,t,n,r,o){var i,a=_t(o,r);return Ye(i={},Ot,!0),Ye(i,"get",(function(){return a})),Ye(i,"set",(function(o){if(this===e)a=_t(o,r);else{var i=Et(this,t,n,r,o);Object.defineProperty(this,t,i)}})),Ye(i,"configurable",!0),Ye(i,"enumerable",n),i}var St={mobxStores:yt};Object.seal(St);var Pt={contextTypes:{get:function(){return St},set:function(e){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function At(e,t,n){var r="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown");n&&(r+="-with-"+n);var o=function(n){function r(){var e,t;Ue(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Ze(this,(e=We(r)).call.apply(e,[this].concat(o)))).storeRef=function(e){t.wrappedInstance=e},t}return Ve(r,n),He(r,[{key:"render",value:function(){var n={};for(var r in this.props)this.props.hasOwnProperty(r)&&(n[r]=this.props[r]);var o=e(this.context.mobxStores||{},n,this.context)||{};for(var i in o)n[i]=o[i];return function(e){return!(e.prototype&&e.prototype.render)}(t)||(n.ref=this.storeRef),b(t,n)}}]),r}(x);return o.displayName=r,st(o,t),o.wrappedComponent=t,Object.defineProperties(o,Pt),o}function kt(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}function Nt(){var e;if("function"==typeof arguments[0])return e=arguments[0],function(t){var n=At(e,t);return n.isMobxInjector=!1,(n=qt(n)).isMobxInjector=!0,n};for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e=kt(t),function(n){return At(e,n,t.join("-"))}}var Mt=f.a||"$mobx",Dt=gt("isUnmounted"),Tt=!1,Ct=!1,It=!1,Rt="undefined"!=typeof WeakMap?new WeakMap:void 0,Lt=new lt,zt=gt("skipRender"),Bt=gt("isForcingUpdate"),Gt=ye((function(e,t){})).$$typeof;function Ft(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}function Ut(e){if(ze)try{return ze(e)}catch(e){return null}return null}function Xt(e){var t=Ut(e);t&&Rt&&Rt.set(t,e),Lt.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}var Ht=new lt;function Yt(e,t){if(Vt(e,t))return!0;if("object"!==Fe(e)||null===e||"object"!==Fe(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!hasOwnProperty.call(t,n[o])||!Vt(e[n[o]],t[n[o]]))return!1;return!0}function Vt(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Wt(e){var t=this;if(!0===Ct)return e.call(this);function n(){var e=this;a=!1;var t=void 0,n=void 0;if(c.track((function(){Tt&&(e.__$mobRenderStart=Date.now());try{n=Object(f.d)(!1,i)}catch(e){t=e}Tt&&(e.__$mobRenderEnd=Date.now())})),t)throw Ht.emit(t),t;return n}var r=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",o=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;Ft(this,zt,!1),Ft(this,Bt,!1);var i=e.bind(this),a=!1,c=new f.c("".concat(r,"#").concat(o,".render()"),(function(){if(!a&&(a=!0,"function"==typeof t.componentWillReact&&t.componentWillReact(),!0!==t[Dt])){var e=!0;try{Ft(t,Bt,!0),t[zt]||x.prototype.forceUpdate.call(t),e=!1}finally{Ft(t,Bt,!1),e&&c.dispose()}}}));return c.reactComponent=this,n[Mt]=c,this.render=n,n.call(this)}var Kt={componentWillUnmount:function(){if(!0!==Ct&&(this.render[Mt]&&this.render[Mt].dispose(),this[Dt]=!0,Tt)){var e=Ut(this);e&&Rt&&Rt.delete(e),Lt.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){Tt&&Xt(this)},componentDidUpdate:function(){Tt&&Xt(this)},shouldComponentUpdate:function(e,t){return Ct&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!Yt(this.props,e)}};function Zt(e,t){var n=gt("reactProp_".concat(t,"_valueHolder")),r=gt("reactProp_".concat(t,"_atomHolder"));function o(){return this[r]||Ft(this,r,Object(f.m)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return o.call(this).reportObserved(),this[n]},set:function(e){this[Bt]||Yt(this[n],e)?Ft(this,n,e):(Ft(this,n,e),Ft(this,zt,!0),o.call(this).reportChanged(),Ft(this,zt,!1))}})}function qt(e,t){if("string"==typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return It||(It=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),t?Nt.apply(null,e)(qt(t)):function(t){return qt(e,t)};var n=e;if(!0===n.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),n.__proto__===pe&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),Gt&&n.$$typeof===Gt){var r=n.render;if("function"!=typeof r)throw new Error("render property of ForwardRef was not a function");return ye((function(){var e=arguments;return Ge.createElement($t,null,(function(){return r.apply(void 0,e)}))}))}if(!("function"!=typeof n||n.prototype&&n.prototype.render||n.isReactClass||x.isPrototypeOf(n))){var o,i,a=qt((i=o=function(e){function t(){return Ue(this,t),Ze(this,We(t).apply(this,arguments))}return Ve(t,e),He(t,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),t}(x),o.displayName=n.displayName||n.name,o.contextTypes=n.contextTypes,o.propTypes=n.propTypes,o.defaultProps=n.defaultProps,i));return st(a,n),a}if(!n)throw new Error("Please pass a valid component to 'observer'");var c=n.prototype||n;!function(e){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach((function(t){!function(e,t){jt(e,t,Kt[t])}(e,t)})),e.shouldComponentUpdate?e.shouldComponentUpdate!==Kt.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):e.shouldComponentUpdate=Kt.shouldComponentUpdate}(c),n.isMobXReactObserver=!0,Zt(c,"props"),Zt(c,"state");var u=c.render;return c.render=function(){return Wt.call(this,u)},n}var $t=qt((function(e){var t=e.children,n=e.inject,r=e.render,o=t||r;if(void 0===o)return null;if(!n)return o();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var i=Nt(n)(o);return Ge.createElement(i,null)}));$t.displayName="Observer";var Qt=function(e,t,n,r,o){var i="children"===t?"render":"children";return"function"==typeof e[t]&&"function"==typeof e[i]?new Error("Invalid prop,do not use children and render in the same time in`"+n):"function"!=typeof e[t]&&"function"!=typeof e[i]?new Error("Invalid prop `"+o+"` of type `"+Fe(e[t])+"` supplied to `"+n+"`, expected `function`."):void 0};function Jt(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function en(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function tn(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}$t.propTypes={render:Qt,children:Qt},Jt.__suppressDeprecationWarning=!0,en.__suppressDeprecationWarning=!0,tn.__suppressDeprecationWarning=!0;var nn={children:!0,key:!0,ref:!0},rn=function(e){function t(e,n){var r;return Ue(this,t),(r=Ze(this,We(t).call(this,e,n))).state={},on(e,r.state),r}return Ve(t,e),He(t,[{key:"render",value:function(){return be.only(this.props.children)}},{key:"getChildContext",value:function(){var e={};return on(this.context.mobxStores,e),on(this.props,e),{mobxStores:e}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e)return null;if(!t)return e;if(Object.keys(e).filter(an).length!==Object.keys(t).filter(an).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var n in e)an(n)&&t[n]!==e[n]&&console.warn("MobX Provider: Provided store '"+n+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return e}}]),t}(x);function on(e,t){if(e)for(var n in e)an(n)&&(t[n]=e[n])}function an(e){return!nn[e]&&"suppressChangedStoreWarning"!==e}if(rn.contextTypes={mobxStores:yt},rn.childContextTypes={mobxStores:yt.isRequired},function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=Jt,t.componentWillReceiveProps=en),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=tn;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}}(rn),gt("disposeOnUnmount"),!x)throw new Error("mobx-react requires React to be available");if(!f.F)throw new Error("mobx-react requires mobx to be available");if(Object(f.l)({reactionScheduler:Be}),"object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":Fe(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var cn={spy:f.F,extras:{getDebugName:f.r}},un={renderReporter:Lt,componentByNodeRegistry:Rt,componentByNodeRegistery:Rt,trackComponents:function(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");Tt||(Tt=!0)}};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(un,cn)}n(1),n(78),n(3),n(5),n(4),n(8),n(17),n(35),n(12),n(2),n(19),n(13),n(20),n(6),n(7),n(14),n(18),n(159),n(164),n(81),n(130),n(131);var sn=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},ln=function(){this.__data__=[],this.size=0},fn=function(e,t){return e===t||e!=e&&t!=t},pn=function(e,t){for(var n=e.length;n--;)if(fn(e[n][0],t))return n;return-1},dn=Array.prototype.splice,hn=function(e){var t=this.__data__,n=pn(t,e);return!(n<0)&&(n==t.length-1?t.pop():dn.call(t,n,1),--this.size,!0)},yn=function(e){var t=this.__data__,n=pn(t,e);return n<0?void 0:t[n][1]},vn=function(e){return pn(this.__data__,e)>-1},bn=function(e,t){var n=this.__data__,r=pn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}gn.prototype.clear=ln,gn.prototype.delete=hn,gn.prototype.get=yn,gn.prototype.has=vn,gn.prototype.set=bn;var mn,On=gn,xn=function(){this.__data__=new On,this.size=0},wn=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},_n=function(e){return this.__data__.get(e)},jn=function(e){return this.__data__.has(e)},En=n(22),Sn=En.a.Symbol,Pn=Object.prototype,An=Pn.hasOwnProperty,kn=Pn.toString,Nn=Sn?Sn.toStringTag:void 0,Mn=function(e){var t=An.call(e,Nn),n=e[Nn];try{e[Nn]=void 0;var r=!0}catch(e){}var o=kn.call(e);return r&&(t?e[Nn]=n:delete e[Nn]),o},Dn=Object.prototype.toString,Tn=function(e){return Dn.call(e)},Cn=Sn?Sn.toStringTag:void 0,In=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Cn&&Cn in Object(e)?Mn(e):Tn(e)},Rn=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Ln=function(e){if(!Rn(e))return!1;var t=In(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},zn=En.a["__core-js_shared__"],Bn=(mn=/[^.]+$/.exec(zn&&zn.keys&&zn.keys.IE_PROTO||""))?"Symbol(src)_1."+mn:"",Gn=function(e){return!!Bn&&Bn in e},Fn=Function.prototype.toString,Un=function(e){if(null!=e){try{return Fn.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Xn=/^\[object .+?Constructor\]$/,Hn=Function.prototype,Yn=Object.prototype,Vn=Hn.toString,Wn=Yn.hasOwnProperty,Kn=RegExp("^"+Vn.call(Wn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zn=function(e){return!(!Rn(e)||Gn(e))&&(Ln(e)?Kn:Xn).test(Un(e))},qn=function(e,t){return null==e?void 0:e[t]},$n=function(e,t){var n=qn(e,t);return Zn(n)?n:void 0},Qn=$n(En.a,"Map"),Jn=$n(Object,"create"),er=function(){this.__data__=Jn?Jn(null):{},this.size=0},tr=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},nr=Object.prototype.hasOwnProperty,rr=function(e){var t=this.__data__;if(Jn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return nr.call(t,e)?t[e]:void 0},or=Object.prototype.hasOwnProperty,ir=function(e){var t=this.__data__;return Jn?void 0!==t[e]:or.call(t,e)},ar=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Jn&&void 0===t?"__lodash_hash_undefined__":t,this};function cr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}cr.prototype.clear=er,cr.prototype.delete=tr,cr.prototype.get=rr,cr.prototype.has=ir,cr.prototype.set=ar;var ur=cr,sr=function(){this.size=0,this.__data__={hash:new ur,map:new(Qn||On),string:new ur}},lr=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},fr=function(e,t){var n=e.__data__;return lr(t)?n["string"==typeof t?"string":"hash"]:n.map},pr=function(e){var t=fr(this,e).delete(e);return this.size-=t?1:0,t},dr=function(e){return fr(this,e).get(e)},hr=function(e){return fr(this,e).has(e)},yr=function(e,t){var n=fr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function vr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}vr.prototype.clear=sr,vr.prototype.delete=pr,vr.prototype.get=dr,vr.prototype.has=hr,vr.prototype.set=yr;var br=vr,gr=function(e,t){var n=this.__data__;if(n instanceof On){var r=n.__data__;if(!Qn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new br(r)}return n.set(e,t),this.size=n.size,this};function mr(e){var t=this.__data__=new On(e);this.size=t.size}mr.prototype.clear=xn,mr.prototype.delete=wn,mr.prototype.get=_n,mr.prototype.has=jn,mr.prototype.set=gr;var Or=mr,xr=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},wr=function(e){return this.__data__.has(e)};function _r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new br;++t<n;)this.add(e[t])}_r.prototype.add=_r.prototype.push=xr,_r.prototype.has=wr;var jr=_r,Er=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Sr=function(e,t){return e.has(t)},Pr=function(e,t,n,r,o,i){var a=1&n,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var s=i.get(e),l=i.get(t);if(s&&l)return s==t&&l==e;var f=-1,p=!0,d=2&n?new jr:void 0;for(i.set(e,t),i.set(t,e);++f<c;){var h=e[f],y=t[f];if(r)var v=a?r(y,h,f,t,e,i):r(h,y,f,e,t,i);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!Er(t,(function(e,t){if(!Sr(d,t)&&(h===e||o(h,e,n,r,i)))return d.push(t)}))){p=!1;break}}else if(h!==y&&!o(h,y,n,r,i)){p=!1;break}}return i.delete(e),i.delete(t),p},Ar=En.a.Uint8Array,kr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},Nr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Mr=Sn?Sn.prototype:void 0,Dr=Mr?Mr.valueOf:void 0,Tr=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Ar(e),new Ar(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return fn(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=kr;case"[object Set]":var u=1&r;if(c||(c=Nr),e.size!=t.size&&!u)return!1;var s=a.get(e);if(s)return s==t;r|=2,a.set(e,t);var l=Pr(c(e),c(t),r,o,i,a);return a.delete(e),l;case"[object Symbol]":if(Dr)return Dr.call(e)==Dr.call(t)}return!1},Cr=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},Ir=Array.isArray,Rr=function(e,t,n){var r=t(e);return Ir(e)?r:Cr(r,n(e))},Lr=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i},zr=function(){return[]},Br=Object.prototype.propertyIsEnumerable,Gr=Object.getOwnPropertySymbols,Fr=Gr?function(e){return null==e?[]:(e=Object(e),Lr(Gr(e),(function(t){return Br.call(e,t)})))}:zr,Ur=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Xr=function(e){return null!=e&&"object"==typeof e},Hr=function(e){return Xr(e)&&"[object Arguments]"==In(e)},Yr=Object.prototype,Vr=Yr.hasOwnProperty,Wr=Yr.propertyIsEnumerable,Kr=Hr(function(){return arguments}())?Hr:function(e){return Xr(e)&&Vr.call(e,"callee")&&!Wr.call(e,"callee")},Zr=n(48),qr=/^(?:0|[1-9]\d*)$/,$r=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&qr.test(e))&&e>-1&&e%1==0&&e<t},Qr=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Jr={};Jr["[object Float32Array]"]=Jr["[object Float64Array]"]=Jr["[object Int8Array]"]=Jr["[object Int16Array]"]=Jr["[object Int32Array]"]=Jr["[object Uint8Array]"]=Jr["[object Uint8ClampedArray]"]=Jr["[object Uint16Array]"]=Jr["[object Uint32Array]"]=!0,Jr["[object Arguments]"]=Jr["[object Array]"]=Jr["[object ArrayBuffer]"]=Jr["[object Boolean]"]=Jr["[object DataView]"]=Jr["[object Date]"]=Jr["[object Error]"]=Jr["[object Function]"]=Jr["[object Map]"]=Jr["[object Number]"]=Jr["[object Object]"]=Jr["[object RegExp]"]=Jr["[object Set]"]=Jr["[object String]"]=Jr["[object WeakMap]"]=!1;var eo=function(e){return Xr(e)&&Qr(e.length)&&!!Jr[In(e)]},to=function(e){return function(t){return e(t)}},no=n(42),ro=no.a&&no.a.isTypedArray,oo=ro?to(ro):eo,io=Object.prototype.hasOwnProperty,ao=function(e,t){var n=Ir(e),r=!n&&Kr(e),o=!n&&!r&&Object(Zr.a)(e),i=!n&&!r&&!o&&oo(e),a=n||r||o||i,c=a?Ur(e.length,String):[],u=c.length;for(var s in e)!t&&!io.call(e,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||$r(s,u))||c.push(s);return c},co=Object.prototype,uo=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||co)},so=function(e,t){return function(n){return e(t(n))}},lo=so(Object.keys,Object),fo=Object.prototype.hasOwnProperty,po=function(e){if(!uo(e))return lo(e);var t=[];for(var n in Object(e))fo.call(e,n)&&"constructor"!=n&&t.push(n);return t},ho=function(e){return null!=e&&Qr(e.length)&&!Ln(e)},yo=function(e){return ho(e)?ao(e):po(e)},vo=function(e){return Rr(e,yo,Fr)},bo=Object.prototype.hasOwnProperty,go=function(e,t,n,r,o,i){var a=1&n,c=vo(e),u=c.length;if(u!=vo(t).length&&!a)return!1;for(var s=u;s--;){var l=c[s];if(!(a?l in t:bo.call(t,l)))return!1}var f=i.get(e),p=i.get(t);if(f&&p)return f==t&&p==e;var d=!0;i.set(e,t),i.set(t,e);for(var h=a;++s<u;){var y=e[l=c[s]],v=t[l];if(r)var b=a?r(v,y,l,t,e,i):r(y,v,l,e,t,i);if(!(void 0===b?y===v||o(y,v,n,r,i):b)){d=!1;break}h||(h="constructor"==l)}if(d&&!h){var g=e.constructor,m=t.constructor;g==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m||(d=!1)}return i.delete(e),i.delete(t),d},mo=$n(En.a,"DataView"),Oo=$n(En.a,"Promise"),xo=$n(En.a,"Set"),wo=$n(En.a,"WeakMap"),_o=Un(mo),jo=Un(Qn),Eo=Un(Oo),So=Un(xo),Po=Un(wo),Ao=In;(mo&&"[object DataView]"!=Ao(new mo(new ArrayBuffer(1)))||Qn&&"[object Map]"!=Ao(new Qn)||Oo&&"[object Promise]"!=Ao(Oo.resolve())||xo&&"[object Set]"!=Ao(new xo)||wo&&"[object WeakMap]"!=Ao(new wo))&&(Ao=function(e){var t=In(e),n="[object Object]"==t?e.constructor:void 0,r=n?Un(n):"";if(r)switch(r){case _o:return"[object DataView]";case jo:return"[object Map]";case Eo:return"[object Promise]";case So:return"[object Set]";case Po:return"[object WeakMap]"}return t});var ko=Ao,No=Object.prototype.hasOwnProperty,Mo=function(e,t,n,r,o,i){var a=Ir(e),c=Ir(t),u=a?"[object Array]":ko(e),s=c?"[object Array]":ko(t),l="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),f="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),p=u==s;if(p&&Object(Zr.a)(e)){if(!Object(Zr.a)(t))return!1;a=!0,l=!1}if(p&&!l)return i||(i=new Or),a||oo(e)?Pr(e,t,n,r,o,i):Tr(e,t,u,n,r,o,i);if(!(1&n)){var d=l&&No.call(e,"__wrapped__"),h=f&&No.call(t,"__wrapped__");if(d||h){var y=d?e.value():e,v=h?t.value():t;return i||(i=new Or),o(y,v,n,r,i)}}return!!p&&(i||(i=new Or),go(e,t,n,r,o,i))},Do=function e(t,n,r,o,i){return t===n||(null==t||null==n||!Xr(t)&&!Xr(n)?t!=t&&n!=n:Mo(t,n,r,o,e,i))},To=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var c=n[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){var u=(c=n[o])[0],s=e[u],l=c[1];if(a&&c[2]){if(void 0===s&&!(u in e))return!1}else{var f=new Or;if(r)var p=r(s,l,u,e,t,f);if(!(void 0===p?Do(l,s,3,r,f):p))return!1}}return!0},Co=function(e){return e==e&&!Rn(e)},Io=function(e){for(var t=yo(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Co(o)]}return t},Ro=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},Lo=function(e){var t=Io(e);return 1==t.length&&t[0][2]?Ro(t[0][0],t[0][1]):function(n){return n===e||To(n,e,t)}},zo=function(e){return"symbol"==typeof e||Xr(e)&&"[object Symbol]"==In(e)},Bo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Go=/^\w*$/,Fo=function(e,t){if(Ir(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!zo(e))||Go.test(e)||!Bo.test(e)||null!=t&&e in Object(t)};function Uo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Uo.Cache||br),n}Uo.Cache=br;var Xo,Ho,Yo,Vo,Wo,Ko,Zo,qo,$o,Qo,Jo,ei,ti,ni,ri,oi,ii,ai=Uo,ci=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ui=/\\(\\)?/g,si=function(e){var t=ai(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ci,(function(e,n,r,o){t.push(r?o.replace(ui,"$1"):n||e)})),t})),li=Sn?Sn.prototype:void 0,fi=li?li.toString:void 0,pi=function e(t){if("string"==typeof t)return t;if(Ir(t))return sn(t,e)+"";if(zo(t))return fi?fi.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},di=function(e){return null==e?"":pi(e)},hi=function(e,t){return Ir(e)?e:Fo(e,t)?[e]:si(di(e))},yi=function(e){if("string"==typeof e||zo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},vi=function(e,t){for(var n=0,r=(t=hi(t,e)).length;null!=e&&n<r;)e=e[yi(t[n++])];return n&&n==r?e:void 0},bi=function(e,t,n){var r=null==e?void 0:vi(e,t);return void 0===r?n:r},gi=function(e,t){return null!=e&&t in Object(e)},mi=function(e,t,n){for(var r=-1,o=(t=hi(t,e)).length,i=!1;++r<o;){var a=yi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Qr(o)&&$r(a,o)&&(Ir(e)||Kr(e))},Oi=function(e,t){return null!=e&&mi(e,t,gi)},xi=function(e,t){return Fo(e)&&Co(t)?Ro(yi(e),t):function(n){var r=bi(n,e);return void 0===r&&r===t?Oi(n,e):Do(t,r,3)}},wi=function(e){return e},_i=function(e){return function(t){return null==t?void 0:t[e]}},ji=function(e){return function(t){return vi(t,e)}},Ei=function(e){return Fo(e)?_i(yi(e)):ji(e)},Si=function(e){return"function"==typeof e?e:null==e?wi:"object"==typeof e?Ir(e)?xi(e[0],e[1]):Lo(e):Ei(e)},Pi=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),c=a.length;c--;){var u=a[e?c:++o];if(!1===n(i[u],u,i))break}return t}}(),Ai=function(e,t){return function(n,r){if(null==n)return n;if(!ho(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(e,t){return e&&Pi(e,t,yo)})),ki=function(e,t){var n=-1,r=ho(e)?Array(e.length):[];return Ai(e,(function(e,o,i){r[++n]=t(e,o,i)})),r},Ni=function(e,t){return(Ir(e)?sn:ki)(e,Si(t,3))},Mi=function(){try{var e=$n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Di=function(e,t,n){"__proto__"==t&&Mi?Mi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Ti=Object.prototype.hasOwnProperty,Ci=function(e,t,n){var r=e[t];Ti.call(e,t)&&fn(r,n)&&(void 0!==n||t in e)||Di(e,t,n)},Ii=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var c=t[i],u=r?r(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),o?Di(n,c,u):Ci(n,c,u)}return n},Ri=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Li=Math.max,zi=function(e,t,n){return t=Li(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Li(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=r[o];return c[t]=n(a),Ri(e,this,c)}},Bi=function(e){return function(){return e}},Gi=Mi?function(e,t){return Mi(e,"toString",{configurable:!0,enumerable:!1,value:Bi(t),writable:!0})}:wi,Fi=Date.now,Ui=function(e){var t=0,n=0;return function(){var r=Fi(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Gi),Xi=function(e,t){return Ui(zi(e,t,wi),e+"")},Hi=function(e,t,n){if(!Rn(n))return!1;var r=typeof t;return!!("number"==r?ho(n)&&$r(t,n.length):"string"==r&&t in n)&&fn(n[t],e)},Yi=function(e){return Xi((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&Hi(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,i)}return t}))},Vi=Object.prototype.hasOwnProperty,Wi=Yi((function(e,t){if(uo(t)||ho(t))Ii(t,yo(t),e);else for(var n in t)Vi.call(t,n)&&Ci(e,n,t[n])})),Ki=function(e,t,n,r){if(!Rn(e))return e;for(var o=-1,i=(t=hi(t,e)).length,a=i-1,c=e;null!=c&&++o<i;){var u=yi(t[o]),s=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var l=c[u];void 0===(s=r?r(l,u,c):void 0)&&(s=Rn(l)?l:$r(t[o+1])?[]:{})}Ci(c,u,s),c=c[u]}return e},Zi=function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],c=vi(e,a);n(c,a)&&Ki(i,hi(a,e),c)}return i},qi=function(e,t){return Zi(e,t,(function(t,n){return Oi(e,n)}))},$i=Sn?Sn.isConcatSpreadable:void 0,Qi=function(e){return Ir(e)||Kr(e)||!!($i&&e&&e[$i])},Ji=function e(t,n,r,o,i){var a=-1,c=t.length;for(r||(r=Qi),i||(i=[]);++a<c;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,o,i):Cr(i,u):o||(i[i.length]=u)}return i},ea=function(e){return null!=e&&e.length?Ji(e,1):[]},ta=function(e){return Ui(zi(e,void 0,ea),e+"")}((function(e,t){return null==e?{}:qi(e,t)}));function na(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ia(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var aa,ca,ua,sa,la,fa,pa,da,ha,ya,va,ba,ga,ma,Oa,xa={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1,metaKeyMultipleSelected:!1},wa=["stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","metaKeyMultipleSelected","multipleSelectKey","extraConf"],_a=(Ho=ia((Xo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),na(this,"stopZoomGraph",Ho,this),na(this,"stopScrollGraph",Yo,this),na(this,"stopMoveGraph",Vo,this),na(this,"adjustEdge",Wo,this),na(this,"adjustEdgeMiddle",Ko,this),na(this,"adjustEdgeStartAndEnd",Zo,this),na(this,"adjustNodePosition",qo,this),na(this,"hideAnchors",$o,this),na(this,"hoverOutline",Qo,this),na(this,"nodeSelectedOutline",Jo,this),na(this,"edgeSelectedOutline",ei,this),na(this,"nodeTextEdit",ti,this),na(this,"edgeTextEdit",ni,this),na(this,"nodeTextDraggable",ri,this),na(this,"edgeTextDraggable",oi,this),na(this,"metaKeyMultipleSelected",ii,this),oa(this,"multipleSelectKey",""),oa(this,"extraConf",{}),oa(this,"defaultConfig",{}),Wi(this,this.getConfigDetail(t))}var t,n,r;return t=e,(n=[{key:"updateEditConfig",value:function(e){var t=this.getConfigDetail(e);Wi(this,t)}},{key:"getConfigDetail",value:function(e){var t=e.isSilentMode,n=e.textEdit,r={};if(!1===t&&Wi(r,this.defaultConfig),!0===t){var o=ta(xa,wa);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,metaKeyMultipleSelected:this.metaKeyMultipleSelected},Wi(r,o)}!1===n&&Wi(r,{nodeTextEdit:!1,edgeTextEdit:!1});var i=ta(e,wa);return Wi(r,i)}},{key:"getConfig",value:function(){return ta(this,wa)}}])&&ra(t.prototype,n),r&&ra(t,r),e}()).prototype,"stopZoomGraph",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yo=ia(Xo.prototype,"stopScrollGraph",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vo=ia(Xo.prototype,"stopMoveGraph",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wo=ia(Xo.prototype,"adjustEdge",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ko=ia(Xo.prototype,"adjustEdgeMiddle",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zo=ia(Xo.prototype,"adjustEdgeStartAndEnd",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qo=ia(Xo.prototype,"adjustNodePosition",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$o=ia(Xo.prototype,"hideAnchors",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qo=ia(Xo.prototype,"hoverOutline",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jo=ia(Xo.prototype,"nodeSelectedOutline",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ei=ia(Xo.prototype,"edgeSelectedOutline",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ti=ia(Xo.prototype,"nodeTextEdit",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ni=ia(Xo.prototype,"edgeTextEdit",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ri=ia(Xo.prototype,"nodeTextDraggable",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oi=ia(Xo.prototype,"edgeTextDraggable",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ii=ia(Xo.prototype,"metaKeyMultipleSelected",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ia(Xo.prototype,"updateEditConfig",[f.i],Object.getOwnPropertyDescriptor(Xo.prototype,"updateEditConfig"),Xo.prototype),Xo);function ja(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ea(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sa(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ka(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}n(82),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(aa||(aa={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(ca||(ca={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(ua||(ua={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(sa||(sa={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform"}(la||(la={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(fa||(fa={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"}(pa||(pa={}));var Na=(ha=ka((da=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Aa(this,"MINI_SCALE_SIZE",.2),Aa(this,"MAX_SCALE_SIZE",16),Sa(this,"SCALE_X",ha,this),Sa(this,"SKEW_Y",ya,this),Sa(this,"SKEW_X",va,this),Sa(this,"SCALE_Y",ba,this),Sa(this,"TRANSLATE_X",ga,this),Sa(this,"TRANSLATE_Y",ma,this),Sa(this,"ZOOM_SIZE",Oa,this),Aa(this,"eventCenter",void 0),this.eventCenter=t}var t,n,r;return t=e,(n=[{key:"setZoomMiniSize",value:function(e){this.MINI_SCALE_SIZE=e}},{key:"setZoomMaxSize",value:function(e){this.MAX_SCALE_SIZE=e}},{key:"HtmlPointToCanvasPoint",value:function(e){var t=ja(e,2),n=t[0],r=t[1];return[(n-this.TRANSLATE_X)/this.SCALE_X,(r-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(e){var t=ja(e,2),n=t[0],r=t[1];return[n*this.SCALE_X+this.TRANSLATE_X,r*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(e,t,n){var r=ja(e,2),o=r[0],i=r[1];return[o+t/this.SCALE_X,i+n/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(e,t){return[e/this.SCALE_X,t/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var e=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(e,")")}}},{key:"zoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=this.SCALE_X,r=this.SCALE_Y;return!0===e?(n+=this.ZOOM_SIZE,r+=this.ZOOM_SIZE):!1===e?(n-=this.ZOOM_SIZE,r-=this.ZOOM_SIZE):"number"==typeof e&&(n=e,r=e),!(n<this.MINI_SCALE_SIZE||n>this.MAX_SCALE_SIZE||(t&&(this.TRANSLATE_X-=(n-this.SCALE_X)*t[0],this.TRANSLATE_Y-=(r-this.SCALE_Y)*t[1]),this.SCALE_X=n,this.SCALE_Y=r,this.emitGraphTransform("zoom"),0))}},{key:"emitGraphTransform",value:function(e){this.eventCenter.emit(la.GRAPH_TRANSFORM,{type:e,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(e,t){this.TRANSLATE_X+=e,this.TRANSLATE_Y+=t,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(e,t,n,r){var o=ja(this.CanvasPointToHtmlPoint([e,t]),2),i=n/2-o[0],a=r/2-o[1];this.TRANSLATE_X+=i,this.TRANSLATE_Y+=a,this.emitGraphTransform("focusOn")}}])&&Pa(t.prototype,n),r&&Pa(t,r),e}()).prototype,"SCALE_X",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ya=ka(da.prototype,"SKEW_Y",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),va=ka(da.prototype,"SKEW_X",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ba=ka(da.prototype,"SCALE_Y",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ga=ka(da.prototype,"TRANSLATE_X",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ma=ka(da.prototype,"TRANSLATE_Y",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Oa=ka(da.prototype,"ZOOM_SIZE",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),ka(da.prototype,"zoom",[f.i],Object.getOwnPropertyDescriptor(da.prototype,"zoom"),da.prototype),ka(da.prototype,"resetZoom",[f.i],Object.getOwnPropertyDescriptor(da.prototype,"resetZoom"),da.prototype),ka(da.prototype,"translate",[f.i],Object.getOwnPropertyDescriptor(da.prototype,"translate"),da.prototype),ka(da.prototype,"focusOn",[f.i],Object.getOwnPropertyDescriptor(da.prototype,"focusOn"),da.prototype),da),Ma=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},Da=function(e,t){return e&&Ii(t,yo(t),e)},Ta=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Ca=Object.prototype.hasOwnProperty,Ia=function(e){if(!Rn(e))return Ta(e);var t=uo(e),n=[];for(var r in e)("constructor"!=r||!t&&Ca.call(e,r))&&n.push(r);return n},Ra=function(e){return ho(e)?ao(e,!0):Ia(e)},La=function(e,t){return e&&Ii(t,Ra(t),e)},za=n(139),Ba=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Ga=function(e,t){return Ii(e,Fr(e),t)},Fa=so(Object.getPrototypeOf,Object),Ua=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Cr(t,Fr(e)),e=Fa(e);return t}:zr,Xa=function(e,t){return Ii(e,Ua(e),t)},Ha=function(e){return Rr(e,Ra,Ua)},Ya=Object.prototype.hasOwnProperty,Va=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ya.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Wa=function(e){var t=new e.constructor(e.byteLength);return new Ar(t).set(new Ar(e)),t},Ka=function(e,t){var n=t?Wa(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Za=/\w*$/,qa=function(e){var t=new e.constructor(e.source,Za.exec(e));return t.lastIndex=e.lastIndex,t},$a=Sn?Sn.prototype:void 0,Qa=$a?$a.valueOf:void 0,Ja=function(e){return Qa?Object(Qa.call(e)):{}},ec=function(e,t){var n=t?Wa(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},tc=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Wa(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Ka(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ec(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return qa(e);case"[object Set]":return new r;case"[object Symbol]":return Ja(e)}},nc=Object.create,rc=function(){function e(){}return function(t){if(!Rn(t))return{};if(nc)return nc(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),oc=function(e){return"function"!=typeof e.constructor||uo(e)?{}:rc(Fa(e))},ic=function(e){return Xr(e)&&"[object Map]"==ko(e)},ac=no.a&&no.a.isMap,cc=ac?to(ac):ic,uc=function(e){return Xr(e)&&"[object Set]"==ko(e)},sc=no.a&&no.a.isSet,lc=sc?to(sc):uc,fc={};fc["[object Arguments]"]=fc["[object Array]"]=fc["[object ArrayBuffer]"]=fc["[object DataView]"]=fc["[object Boolean]"]=fc["[object Date]"]=fc["[object Float32Array]"]=fc["[object Float64Array]"]=fc["[object Int8Array]"]=fc["[object Int16Array]"]=fc["[object Int32Array]"]=fc["[object Map]"]=fc["[object Number]"]=fc["[object Object]"]=fc["[object RegExp]"]=fc["[object Set]"]=fc["[object String]"]=fc["[object Symbol]"]=fc["[object Uint8Array]"]=fc["[object Uint8ClampedArray]"]=fc["[object Uint16Array]"]=fc["[object Uint32Array]"]=!0,fc["[object Error]"]=fc["[object Function]"]=fc["[object WeakMap]"]=!1;var pc=function e(t,n,r,o,i,a){var c,u=1&n,s=2&n,l=4&n;if(r&&(c=i?r(t,o,i,a):r(t)),void 0!==c)return c;if(!Rn(t))return t;var f=Ir(t);if(f){if(c=Va(t),!u)return Ba(t,c)}else{var p=ko(t),d="[object Function]"==p||"[object GeneratorFunction]"==p;if(Object(Zr.a)(t))return Object(za.a)(t,u);if("[object Object]"==p||"[object Arguments]"==p||d&&!i){if(c=s||d?{}:oc(t),!u)return s?Xa(t,La(c,t)):Ga(t,Da(c,t))}else{if(!fc[p])return i?t:{};c=tc(t,p,u)}}a||(a=new Or);var h=a.get(t);if(h)return h;a.set(t,c),lc(t)?t.forEach((function(o){c.add(e(o,n,r,o,t,a))})):cc(t)&&t.forEach((function(o,i){c.set(i,e(o,n,r,i,t,a))}));var y=f?void 0:(l?s?Ha:vo:s?Ra:yo)(t);return Ma(y||t,(function(o,i){y&&(o=t[i=o]),Ci(c,i,e(o,n,r,i,t,a))})),c},dc=function(e){return pc(e,5)};function hc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hc(Object(n),!0).forEach((function(t){vc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bc={fill:"#FFFFFF",stroke:"#000000",strokeWidth:2,fillOpacity:1,strokeOpacity:1,opacity:1,outlineColor:"#000000",outlineStrokeDashArray:"3,3",hoverOutlineColor:"#000000",hoverOutlineStrokeDashArray:"3,3"},gc=yc(yc({},bc),{},{width:100,height:80,radius:0}),mc=yc(yc({},bc),{},{r:50}),Oc=yc(yc({},bc),{},{rx:55,ry:45}),xc=yc(yc({},bc),{},{rx:50,ry:50}),wc=yc({},bc),_c=yc(yc({},bc),{},{stroke:"#000000",strokeWidth:1,r:4}),jc={stroke:"#000000",strokeWidth:2,hoverStroke:"#000000",selectedStroke:"#000000",strokeDashArray:"1,0",outlineColor:"#000000",outlineStrokeDashArray:"3,3"},Ec=yc({},jc),Sc=yc(yc({},jc),{},{offset:30}),Pc=yc(yc({},jc),{},{offset:100,adjustLineColor:"#4169E1",adjustAnchorStroke:"#4169E1",adjustAnchorFill:"#1E90FF",adjustAnchorFillOpacity:.5}),Ac={color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:""},kc={rect:gc,circle:mc,diamond:xc,ellipse:Oc,polygon:wc,anchor:_c,text:Ac,nodeText:yc(yc({},Ac),{},{autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"}),edgeText:{color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:"",background:{fill:"transparent",height:20,stroke:"transparent",radius:0},hoverBackground:null,autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"},line:Ec,polyline:Sc,bezier:Pc,arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},anchorHover:{fill:"#1E90FF",fillOpacity:.5,stroke:"#4169E1",strokeWidth:1,r:10},snapline:{stroke:"#1E90FF",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#373738",strokeWidth:"2px"}};function Nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nc(Object(n),!0).forEach((function(t){Dc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tc=function(e){var t=dc(kc);return e&&Object.keys(e).forEach((function(n){t[n]=Mc(Mc({},t[n]),e[n])})),t};function Cc(e,t){return t*Math.round(e/t)||e}function Ic(e,t){return e%t}function Rc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zc,Bc=function(e,t,n){var r=Rc(e,2),o=r[0],i=r[1],a=Rc(t,2),c=a[0],u=a[1],s=Rc(n,2),l=s[0],f=s[1];return o>c&&o<l&&i>u&&i<f},Gc=(n(30),n(41),n(52),n(63),n(136),n(137),n(64),n(9),n(10),n(11),n(36),new Uint8Array(16));function Fc(){if(!zc&&!(zc="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zc(Gc)}for(var Uc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Xc=function(e){return"string"==typeof e&&Uc.test(e)},Hc=[],Yc=0;Yc<256;++Yc)Hc.push((Yc+256).toString(16).substr(1));var Vc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Hc[e[t+0]]+Hc[e[t+1]]+Hc[e[t+2]]+Hc[e[t+3]]+"-"+Hc[e[t+4]]+Hc[e[t+5]]+"-"+Hc[e[t+6]]+Hc[e[t+7]]+"-"+Hc[e[t+8]]+Hc[e[t+9]]+"-"+Hc[e[t+10]]+Hc[e[t+11]]+Hc[e[t+12]]+Hc[e[t+13]]+Hc[e[t+14]]+Hc[e[t+15]]).toLowerCase();if(!Xc(n))throw TypeError("Stringified UUID is invalid");return n},Wc=function(e,t,n){var r=(e=e||{}).random||(e.rng||Fc)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return Vc(r)},Kc=function(){return Wc()},Zc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.nodes.reduce((function(e,n){return e[n.id]=t+Wc(),n.id=e[n.id],e}),{});return e.edges.forEach((function(e){e.id=t+Wc(),e.sourceNodeId=n[e.sourceNodeId],e.targetNodeId=n[e.targetNodeId]})),e},qc=(n(84),n(176),function(e,t,n){var r=e.x,o=e.y;return(r-t.x)*(r-n.x)<=0&&(o-t.y)*(o-n.y)<=0});function $c(e){return($c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qc(Object(n),!0).forEach((function(t){eu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tu,nu,ru,ou,iu,au,cu,uu,su,lu,fu,pu,du,hu,yu,vu,bu,gu,mu,Ou,xu,wu,_u,ju,Eu,Su=function(e){return e.anchors},Pu=function(e,t){for(var n,r=t.length-1;r>=0;r--)if(Mu(e,t[r])){var o=Au(e,t[r]);if(o){n={node:t[r],anchorIndex:o.index,anchor:o.anchor};break}}return n},Au=function(e,t){for(var n,r=Su(t),o=Number.MAX_SAFE_INTEGER,i=0;i<r.length;i++){var a=ku(e.x,e.y,r[i].x,r[i].y);a<o&&(o=a,n={index:i,anchor:Jc(Jc({},r[i]),{},{x:r[i].x,y:r[i].y,id:r[i].id})})}return n},ku=function(e,t,n,r){return Math.hypot(e-n,t-r)},Nu=function(e,t){var n=!1,r=Du(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},Mu=function(e,t){var n=!1,r=Du(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},Du=function(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{minX:t-r/2,minY:n-o/2,maxX:t+r/2,maxY:n+o/2,x:t,y:n,width:r,height:o,centerX:t,centerY:n}},Tu=function(e,t,n){var r,o=function(e){var t=e,n=t.x,r=t.y,o=t.width,i=t.height,a=t.radius;return[{x:n-o/2+a,y:r-i/2+a,r:a},{x:n+o/2-a,y:r-i/2+a,r:a},{x:n-o/2+a,y:r+i/2-a,r:a},{x:n+o/2-a,y:r+i/2-a,r:a}]}(n),i=Number.MAX_SAFE_INTEGER;return o.forEach((function(t){var n=ku(e.x,e.y,t.x,t.y);n<i&&(i=n,r=t)})),Cu(e,t,r)},Cu=function(e,t,n){var r,o=n,i=o.x,a=o.y,c=o.r;if(t===fa.HORIZONTAL){var u=i-Math.sqrt(c*c-(e.y-a)*(e.y-a)),s=i+Math.sqrt(c*c-(e.y-a)*(e.y-a));r={x:Math.abs(u-e.x)<Math.abs(s-e.x)?u:s,y:e.y}}else if(t===fa.VERTICAL){var l=a-Math.sqrt(c*c-(e.x-i)*(e.x-i)),f=a+Math.sqrt(c*c-(e.x-i)*(e.x-i)),p=Math.abs(l-e.y)<Math.abs(f-e.y)?l:f;r={x:e.x,y:p}}return r},Iu=function(e,t){var n=t,r=!1,o=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,a=n.y-n.height/2+n.radius,c=n.y+n.height/2-n.radius,u=n.x,s=n.y,l=n.width,f=n.height;return e.y===s+f/2||e.y===s-f/2?r=e.x>o&&e.x<i:e.x!==u+l/2&&e.x!==u-l/2||(r=e.y>a&&e.y<c),r},Ru=function(e,t,n){var r,o=n,i=o.x,a=o.y,c=o.rx,u=o.ry;if(t===fa.HORIZONTAL){var s=i-Math.sqrt(c*c-(e.y-a)*(e.y-a)*c*c/(u*u)),l=i+Math.sqrt(c*c-(e.y-a)*(e.y-a)*c*c/(u*u));r={x:Math.abs(s-e.x)<Math.abs(l-e.x)?s:l,y:e.y}}else if(t===fa.VERTICAL){var f=a-Math.sqrt(u*u-(e.x-i)*(e.x-i)*u*u/(c*c)),p=a+Math.sqrt(u*u-(e.x-i)*(e.x-i)*u*u/(c*c)),d=Math.abs(f-e.y)<Math.abs(p-e.y)?f:p;r={x:e.x,y:d}}return r},Lu=function(e,t,n){for(var r,o=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,a=[],c=0;c<o.length;c++)a.push({start:o[c],end:o[(c+1)%o.length]});return a.forEach((function(n){var o=n.start,a=n.end,c=o,u=a;o.x>a.x&&(c=a,u=o);var s,l=(u.y-c.y)/(u.x-c.x),f=(c.x*u.y-u.x*c.y)/(c.x-u.x);if(l>Number.MAX_SAFE_INTEGER||f>Number.MAX_SAFE_INTEGER?s={x:e.x,y:e.y}:t===fa.HORIZONTAL?s={x:(e.y-f)/l,y:e.y}:t===fa.VERTICAL&&(s={x:e.x,y:l*e.x+f}),qc(s,o,a)){var p=ku(s.x,s.y,e.x,e.y);p<i&&(i=p,r=s)}})),r},zu=function(e,t,n,r){var o=e.x,i=e.y;return t.x>e.x?o=e.x+n/2:t.x<e.x&&(o=e.x-n/2),t.y>e.y?i=e.y+r/2:t.y<e.y&&(i=e.y-r/2),{x:o,y:i}},Bu=function(e){var t=e.rows,n=e.style,r=e.rowsLength,o=e.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=o,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?t.forEach((function(e){var t=document.createElement("div");t.textContent=e,i.appendChild(t)})):i.textContent=t,document.body.appendChild(i);var a=i.clientHeight;return document.body.removeChild(i),a},Gu=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,o=0;return t&&t.forEach((function(e){var t=nl(e);o=t>o?t:o})),{width:Math.ceil(o/2)*r+r/4,height:n*(r+2)+r/4}},Fu=function(e){return"object"!==$c(e)?{isAllPass:!!e,msg:e?"":"\u4e0d\u5141\u8bb8\u8fde\u63a5"}:e},Uu=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}},Xu=1e3,Hu=999,Yu=function(){return++Xu};function Vu(e){return(Vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wu(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ku(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zu(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qu=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qu(Object(n),!0).forEach((function(t){$u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sourceNodeId:"",sourceAnchorId:"",targetNodeId:"",targetAnchorId:"",startPoint:null,endPoint:null,zIndex:0,isSelected:!1,isHovered:!1,text:{value:"",x:0,y:0,draggable:!1,editable:!0},points:"",pointsList:[],strokeOpacity:1,hideOutline:!1},kc.line),Ju=(nu=Zu((tu=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$u(this,"id",Kc()),$u(this,"BaseType",sa.EDGE),Wu(this,"state",nu,this),$u(this,"modelType",ua.EDGE),$u(this,"additionStateData",void 0),$u(this,"graphModel",void 0),$u(this,"menu",void 0),$u(this,"sourceAnchorId",Qu.sourceAnchorId),$u(this,"targetAnchorId",Qu.targetAnchorId),$u(this,"customTextPosition",!1),Wu(this,"text",ru,this),Wu(this,"type",ou,this),Wu(this,"properties",iu,this),Wu(this,"sourceNodeId",au,this),Wu(this,"targetNodeId",cu,this),Wu(this,"startPoint",uu,this),Wu(this,"endPoint",su,this),Wu(this,"strokeWidth",lu,this),Wu(this,"stroke",fu,this),Wu(this,"strokeDashArray",pu,this),Wu(this,"outlineColor",du,this),Wu(this,"hideOutline",hu,this),Wu(this,"outlineStrokeDashArray",yu,this),Wu(this,"strokeOpacity",vu,this),Wu(this,"zIndex",bu,this),Wu(this,"isSelected",gu,this),Wu(this,"isHovered",mu,this),Wu(this,"isHitable",Ou,this),Wu(this,"hoverStroke",xu,this),Wu(this,"selectedStroke",wu,this),Wu(this,"points",_u,this),Wu(this,"pointsList",ju,this),Wu(this,"draggable",Eu,this),this.graphModel=n,this.setStyleFromTheme(r,n),this.initEdgeData(t),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(t)}var t,n,r;return t=e,(n=[{key:"initEdgeData",value:function(e){if(e.properties||(e.properties={}),!e.id){var t=this.graphModel.idGenerator,n=t&&t(e.type);n&&(e.id=n);var r=this.createId();r&&(e.id=r)}Wi(this,cl(e)),this.graphModel.overlapMode===pa.INCREASE&&(this.zIndex=e.zIndex||Yu())}},{key:"createId",value:function(){return null}},{key:"setAttributes",value:function(){}},{key:"sourceNode",get:function(){var e,t;return null===(e=this.graphModel)||void 0===e||null===(t=e.nodesMap[this.sourceNodeId])||void 0===t?void 0:t.model}},{key:"targetNode",get:function(){var e,t;return null===(e=this.graphModel)||void 0===e||null===(t=e.nodesMap[this.targetNodeId])||void 0===t?void 0:t.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"move",value:function(){}},{key:"getBeginAnchor",value:function(e,t){var n,r;return Su(e).forEach((function(e){var o=ul(e,t);r?o<r&&(r=o,n=e):(r=o,n=e)})),n}},{key:"getEndAnchor",value:function(e){var t,n,r=this;return Su(e).forEach((function(e){var o=ul(e,r.startPoint);n?o<n&&(n=o,t=e):(n=o,t=e)})),t}},{key:"getProperties",value:function(){return Object(f.G)(this.properties)}},{key:"getData",value:function(){var e=this.text,t=e.x,n=e.y,r=e.value,o={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(f.G)(this.properties)};return r&&(o.text={x:t,y:n,value:r}),this.graphModel.overlapMode===pa.INCREASE&&(o.zIndex=this.zIndex),o}},{key:"setProperty",value:function(e,t){this.properties[e]=Uu(t),this.setAttributes()}},{key:"setProperties",value:function(e){Object.assign(this.properties,Uu(e)),this.setAttributes()}},{key:"updateData",value:function(e){var t=Uu(ta(e,"type","sourceNodeId","targetNodeId","startPoint","endPoint","text","properties")),n=this.text,r=n.x,o=n.y,i=n.draggable,a=n.editable;if(t.text&&"string"==typeof t.text){var c={value:t.text,draggable:i,editable:a},u=this.textPosition;t.text=r||o?Object.assign({},c,{x:r,y:o}):Object.assign({},c,u)}else if("object"===Vu(t.text)){var s=Object.assign({},this.text,t.text);t.text=ta(s,"x","y","value","draggable","editable")}Wi(this,t)}},{key:"formatText",value:function(e){var t=this.textPosition,n=t.x,r=t.y;e.text&&"string"!=typeof e.text?"[object Object]"===Object.prototype.toString.call(e.text)&&(this.text={x:e.text.x||n,y:e.text.y||r,value:e.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:e.text||"",x:n,y:r,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var e=this.textPosition,t=e.x,n=e.y;this.text.x=t,this.text.y=n}},{key:"moveText",value:function(e,t){if(this.text){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable,c=n.editable;this.text={value:i,draggable:a,x:r+e,y:o+t,editable:c}}}},{key:"setText",value:function(e){e&&Wi(this.text,e)}},{key:"updateText",value:function(e){var t=this.text,n=t.x,r=t.y,o=t.draggable,i=t.editable;this.text={x:n,y:r,draggable:o,editable:i,value:e}}},{key:"setAnchors",value:function(){if(!this.startPoint){var e=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint=e}if(!this.endPoint){var t=this.getEndAnchor(this.targetNode);this.endPoint=t}}},{key:"setSelected",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=e}},{key:"setHovered",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=e}},{key:"setHitable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=e}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"updateStroke",value:function(e){this.stroke=e}},{key:"updateStrokeWidth",value:function(e){this.strokeWidth=e}},{key:"updateStartPoint",value:function(e){this.startPoint=e}},{key:"updateEndPoint",value:function(e){this.endPoint=e}},{key:"setStyleFromTheme",value:function(e,t){var n=t.theme;n[e]&&Wi(this,n[e])}},{key:"setZIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qu.zIndex;this.zIndex=e}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(e){Wi(this,e)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(e){var t=e.startPoint,n=e.endPoint;this.updateStartPoint({x:t.x,y:t.y}),this.updateEndPoint({x:n.x,y:n.y})}}])&&Ku(t.prototype,n),r&&Ku(t,r),e}()).prototype,"state",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ru=Zu(tu.prototype,"text",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.text}}),ou=Zu(tu.prototype,"type",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),iu=Zu(tu.prototype,"properties",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),au=Zu(tu.prototype,"sourceNodeId",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.sourceNodeId}}),cu=Zu(tu.prototype,"targetNodeId",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.targetNodeId}}),uu=Zu(tu.prototype,"startPoint",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.startPoint}}),su=Zu(tu.prototype,"endPoint",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.endPoint}}),lu=Zu(tu.prototype,"strokeWidth",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.strokeWidth}}),fu=Zu(tu.prototype,"stroke",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.stroke}}),pu=Zu(tu.prototype,"strokeDashArray",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.strokeDashArray}}),du=Zu(tu.prototype,"outlineColor",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.outlineColor}}),hu=Zu(tu.prototype,"hideOutline",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.hideOutline}}),yu=Zu(tu.prototype,"outlineStrokeDashArray",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.outlineStrokeDashArray}}),vu=Zu(tu.prototype,"strokeOpacity",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.strokeOpacity}}),bu=Zu(tu.prototype,"zIndex",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.zIndex}}),gu=Zu(tu.prototype,"isSelected",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.isSelected}}),mu=Zu(tu.prototype,"isHovered",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.isHovered}}),Ou=Zu(tu.prototype,"isHitable",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xu=Zu(tu.prototype,"hoverStroke",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.hoverStroke}}),wu=Zu(tu.prototype,"selectedStroke",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.selectedStroke}}),_u=Zu(tu.prototype,"points",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.points}}),ju=Zu(tu.prototype,"pointsList",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.pointsList}}),Eu=Zu(tu.prototype,"draggable",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zu(tu.prototype,"sourceNode",[f.k],Object.getOwnPropertyDescriptor(tu.prototype,"sourceNode"),tu.prototype),Zu(tu.prototype,"targetNode",[f.k],Object.getOwnPropertyDescriptor(tu.prototype,"targetNode"),tu.prototype),Zu(tu.prototype,"textPosition",[f.k],Object.getOwnPropertyDescriptor(tu.prototype,"textPosition"),tu.prototype),Zu(tu.prototype,"setProperty",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"setProperty"),tu.prototype),Zu(tu.prototype,"setProperties",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"setProperties"),tu.prototype),Zu(tu.prototype,"updateData",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"updateData"),tu.prototype),Zu(tu.prototype,"formatText",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"formatText"),tu.prototype),Zu(tu.prototype,"resetTextPosition",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"resetTextPosition"),tu.prototype),Zu(tu.prototype,"moveText",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"moveText"),tu.prototype),Zu(tu.prototype,"setText",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"setText"),tu.prototype),Zu(tu.prototype,"updateText",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"updateText"),tu.prototype),Zu(tu.prototype,"setAnchors",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"setAnchors"),tu.prototype),Zu(tu.prototype,"setSelected",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"setSelected"),tu.prototype),Zu(tu.prototype,"setHovered",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"setHovered"),tu.prototype),Zu(tu.prototype,"setHitable",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"setHitable"),tu.prototype),Zu(tu.prototype,"setElementState",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"setElementState"),tu.prototype),Zu(tu.prototype,"updateStroke",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"updateStroke"),tu.prototype),Zu(tu.prototype,"updateStrokeWidth",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"updateStrokeWidth"),tu.prototype),Zu(tu.prototype,"updateStartPoint",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"updateStartPoint"),tu.prototype),Zu(tu.prototype,"updateEndPoint",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"updateEndPoint"),tu.prototype),Zu(tu.prototype,"setStyleFromTheme",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"setStyleFromTheme"),tu.prototype),Zu(tu.prototype,"setZIndex",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"setZIndex"),tu.prototype),Zu(tu.prototype,"initPoints",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"initPoints"),tu.prototype),Zu(tu.prototype,"updateAttributes",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"updateAttributes"),tu.prototype),Zu(tu.prototype,"getAdjustStart",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"getAdjustStart"),tu.prototype),Zu(tu.prototype,"getAdjustEnd",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"getAdjustEnd"),tu.prototype),Zu(tu.prototype,"updateAfterAdjustStartAndEnd",[f.i],Object.getOwnPropertyDescriptor(tu.prototype,"updateAfterAdjustStartAndEnd"),tu.prototype),tu),es=Ju;function ts(e){return(ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ns(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rs(e,t){return(rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function os(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cs(e);if(t){var o=cs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return is(this,n)}}function is(e,t){if(t&&("object"===ts(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return as(e)}function as(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cs(e){return(cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var us,ss,ls=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rs(e,t)}(i,e);var t,n,r,o=os(i);function i(e,t){var n,r,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r=as(n=o.call(this,e,t,"line")),a="modelType",c=ua.LINE_EDGE,a in r?Object.defineProperty(r,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[a]=c,n}return t=i,(n=[{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&ns(t.prototype,n),r&&ns(t,r),i}(es);function fs(e){return(fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ps(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ds(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ds(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ds(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ys(e,t,n){return(ys="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Os(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function vs(e,t){return(vs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Os(e);if(t){var o=Os(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gs(this,n)}}function gs(e,t){if(t&&("object"===fs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ms(e)}function ms(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Os(e){return(Os=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ws(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}n(37);var _s=(ss=ws((us=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vs(e,t)}(i,e);var t,n,r,o=bs(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),xs(ms(n=o.call(this,e,t,"polyline")),"modelType",ua.POLYLINE_EDGE),xs(ms(n),"offset",kc.polyline.offset),xs(ms(n),"draginngPointList",void 0),function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(ms(n),"dbClickPosition",ss,ms(n)),n}return t=i,(n=[{key:"getTextPosition",value:function(){var e,t=null===(e=this.text)||void 0===e?void 0:e.value;if(this.dbClickPosition&&!t){var n=this.dbClickPosition;return{x:n.x,y:n.y}}var r=Js(this.points),o=ps(Ks(r),2),i=o[0],a=o[1];return{x:(i.x+a.x)/2,y:(i.y+a.y)/2}}},{key:"getAfterAnchor",value:function(e,t,n){var r,o;return n.forEach((function(n){var i;e===fa.HORIZONTAL?i=Math.abs(t.y-n.y):e===fa.VERTICAL&&(i=Math.abs(t.x-n.x)),(!o||o>i)&&(o=i,r=n)})),r}},{key:"getCorssPoint",value:function(e,t,n){var r;return e===fa.HORIZONTAL?r={x:n.x,y:t.y}:e===fa.VERTICAL&&(r={x:t.x,y:n.y}),r}},{key:"removeCrossPoints",value:function(e,t,n){var r=n.map((function(e){return e}));if(1===e){var o=r[e],i=r[t],a=r[e-1];if(Zs(a,o,this.sourceNode)){if(qs(o,i,this.sourceNode)){var c=$s(o,i,this.sourceNode);c&&(r[e]=c,r.splice(e-1,1),e--,t--)}}else this.sourceNode.anchors.forEach((function(t){(t.x===a.x&&t.x===o.x||t.y===a.y&&t.y===o.y)&&ku(t.x,t.y,o.x,o.y)<ku(a.x,a.y,o.x,o.y)&&(r[e-1]=t)}))}if(t===n.length-2){var u=r[e],s=r[t],l=r[t+1];if(Zs(s,l,this.targetNode)){if(qs(u,s,this.targetNode)){var f=$s(u,s,this.targetNode);f&&(r[t]=f,r.splice(t+1,1))}}else this.targetNode.anchors.forEach((function(e){(e.x===l.x&&e.x===s.x||e.y===l.y&&e.y===s.y)&&ku(e.x,e.y,s.x,s.y)<ku(l.x,l.y,s.x,s.y)&&(r[t+1]=e)}))}return r}},{key:"getDragingPoints",value:function(e,t,n,r,o){var i=o.map((function(e){return e})),a=this.getAfterAnchor(e,n,r),c=this.getCorssPoint(e,n,a);return"start"===t?(i.unshift(c),i.unshift(a)):(i.push(c),i.push(a)),i}},{key:"updateCrossPoints",value:function(e){var t=e.map((function(e){return e})),n=e[0],r=e[1],o=e[t.length-2],i=e[t.length-1],a=this.sourceNode,c=this.targetNode,u=a.modelType,s=c.modelType,l=Qs(n,r),f=t[0];switch(u){case ua.RECT_NODE:0!==a.radius&&(Iu(n,a)||(f=Tu(n,l,a)));break;case ua.CIRCLE_NODE:f=Cu(n,l,a);break;case ua.ELLIPSE_NODE:f=Ru(n,l,a);break;case ua.DIAMOND_NODE:case ua.POLYGON_NODE:f=Lu(n,l,a)}t[0]=f;var p=Qs(o,i),d=t[t.length-1];switch(s){case ua.RECT_NODE:0!==c.radius&&(Iu(i,c)||(d=Tu(i,p,c)));break;case ua.CIRCLE_NODE:d=Cu(i,p,c);break;case ua.ELLIPSE_NODE:d=Ru(i,p,c);break;case ua.DIAMOND_NODE:case ua.POLYGON_NODE:d=Lu(i,p,c)}return t[t.length-1]=d,t}},{key:"getData",value:function(){var e=ys(Os(i.prototype),"getData",this).call(this),t=this.pointsList.map((function(e){return{x:e.x,y:e.y}}));return Object.assign({},e,{pointsList:t})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var e=Ws({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=e,this.points=e.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ")}},{key:"updateStartPoint",value:function(e){this.startPoint=e,this.updatePoints()}},{key:"updateEndPoint",value:function(e){this.endPoint=e,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map((function(e){return e}))}},{key:"dragAppendSimple",value:function(e,t){var n=e.start,r=e.end,o=e.startIndex,i=e.endIndex,a=e.direction,c=this.pointsList,u=c;return a===fa.HORIZONTAL?(c[o]={x:n.x,y:n.y+t.y},c[i]={x:r.x,y:r.y+t.y},u=this.pointsList.map((function(e){return e}))):a===fa.VERTICAL&&(c[o]={x:n.x+t.x,y:n.y},c[i]={x:r.x+t.x,y:r.y},u=this.pointsList.map((function(e){return e}))),this.updatePointsAfterDrage(u),this.draginngPointList=u,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},c[o]),end:Object.assign({},c[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppend",value:function(e,t){var n=e.start,r=e.end,o=e.startIndex,i=e.endIndex,a=e.direction,c=this.pointsList;if(a===fa.HORIZONTAL){c[o]={x:n.x,y:n.y+t.y},c[i]={x:r.x,y:r.y+t.y};var u=this.pointsList.map((function(e){return e}));if(0!==o&&i!==this.pointsList.length-1&&(u=this.removeCrossPoints(o,i,u)),0===o){var s={x:n.x,y:n.y+t.y};if(!Nu(s,this.sourceNode)){var l=this.sourceNode.anchors;u=this.getDragingPoints(a,"start",s,l,u)}}if(i===this.pointsList.length-1){var f={x:r.x,y:r.y+t.y};if(!Nu(f,this.targetNode)){var p=this.targetNode.anchors;u=this.getDragingPoints(a,"end",f,p,u)}}u=Vs(u),this.updatePointsAfterDrage(u),this.draginngPointList=u}else if(a===fa.VERTICAL){c[o]={x:n.x+t.x,y:n.y},c[i]={x:r.x+t.x,y:r.y};var d=this.pointsList.map((function(e){return e}));if(0!==o&&i!==this.pointsList.length-1&&(d=this.removeCrossPoints(o,i,d)),0===o){var h={x:n.x+t.x,y:n.y};if(!Nu(h,this.sourceNode)){var y=this.sourceNode.anchors;d=this.getDragingPoints(a,"start",h,y,d)}}if(i===this.pointsList.length-1){var v={x:r.x+t.x,y:r.y};if(!Nu(v,this.targetNode)){var b=this.targetNode.anchors;d=this.getDragingPoints(a,"end",v,b,d)}}d=Vs(d),this.updatePointsAfterDrage(d),this.draginngPointList=d}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},c[o]),end:Object.assign({},c[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var e=Js(this.points);this.pointsList=e.map((function(e){return e})),this.draginngPointList=[];var t=e[0];this.startPoint=Object.assign({},t);var n=e[e.length-1];this.endPoint=Object.assign({},n)}}},{key:"updatePointsAfterDrage",value:function(e){var t=this.updateCrossPoints(e);this.points=t.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var e=this.pointsList;return e[e.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(e){var t=e.startPoint,n=e.endPoint,r=e.sourceNode,o=e.targetNode,i=Ws({x:t.x,y:t.y},{x:n.x,y:n.y},r,o,this.offset||0);this.pointsList=i,this.initPoints()}}])&&hs(t.prototype,n),r&&hs(t,r),i}(es)).prototype,"dbClickPosition",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ws(us.prototype,"initPoints",[f.i],Object.getOwnPropertyDescriptor(us.prototype,"initPoints"),us.prototype),ws(us.prototype,"updatePoints",[f.i],Object.getOwnPropertyDescriptor(us.prototype,"updatePoints"),us.prototype),ws(us.prototype,"updateStartPoint",[f.i],Object.getOwnPropertyDescriptor(us.prototype,"updateStartPoint"),us.prototype),ws(us.prototype,"updateEndPoint",[f.i],Object.getOwnPropertyDescriptor(us.prototype,"updateEndPoint"),us.prototype),ws(us.prototype,"dragAppendStart",[f.i],Object.getOwnPropertyDescriptor(us.prototype,"dragAppendStart"),us.prototype),ws(us.prototype,"dragAppendSimple",[f.i],Object.getOwnPropertyDescriptor(us.prototype,"dragAppendSimple"),us.prototype),ws(us.prototype,"dragAppend",[f.i],Object.getOwnPropertyDescriptor(us.prototype,"dragAppend"),us.prototype),ws(us.prototype,"dragAppendEnd",[f.i],Object.getOwnPropertyDescriptor(us.prototype,"dragAppendEnd"),us.prototype),ws(us.prototype,"updatePointsAfterDrage",[f.i],Object.getOwnPropertyDescriptor(us.prototype,"updatePointsAfterDrage"),us.prototype),ws(us.prototype,"getAdjustStart",[f.i],Object.getOwnPropertyDescriptor(us.prototype,"getAdjustStart"),us.prototype),ws(us.prototype,"getAdjustEnd",[f.i],Object.getOwnPropertyDescriptor(us.prototype,"getAdjustEnd"),us.prototype),ws(us.prototype,"updateAfterAdjustStartAndEnd",[f.i],Object.getOwnPropertyDescriptor(us.prototype,"updateAfterAdjustStartAndEnd"),us.prototype),us),js=function(e){var t=e.start,n=e.end,r=e.offset,o=e.verticalLength,i=e.type,a={leftX:0,leftY:0,rightX:0,rightY:0},c=Math.atan((n.y-t.y)/(n.x-t.x)),u=Math.atan(r/o),s=Math.sqrt(o*o+r*r);return"start"===i?n.x>=t.x?(a.leftX=t.x+s*Math.sin(c+u),a.leftY=t.y-s*Math.cos(c+u),a.rightX=t.x-s*Math.sin(c-u),a.rightY=t.y+s*Math.cos(c-u)):(a.leftX=t.x-s*Math.sin(c+u),a.leftY=t.y+s*Math.cos(c+u),a.rightX=t.x+s*Math.sin(c-u),a.rightY=t.y-s*Math.cos(c-u)):"end"===i&&(n.x>=t.x?(a.leftX=n.x+s*Math.sin(c-u),a.leftY=n.y-s*Math.cos(c-u),a.rightX=n.x-s*Math.sin(c+u),a.rightY=n.y+s*Math.cos(c+u)):(a.leftX=n.x-s*Math.sin(c-u),a.leftY=n.y+s*Math.cos(c-u),a.rightX=n.x+s*Math.sin(c+u),a.rightY=n.y-s*Math.cos(c+u))),a};function Es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Es(Object(n),!0).forEach((function(t){Ps(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Es(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ps(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function As(e){return function(e){if(Array.isArray(e))return Ds(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ms(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ks(e){return(ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ns(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||Ms(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ms(e,t){if(e){if("string"==typeof e)return Ds(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ds(e,t):void 0}}function Ds(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ts=function(e){var t=[],n={};return e.forEach((function(e){var t="".concat(e.x,"-").concat(e.y);e.id=t,n[t]=e})),Object.keys(n).forEach((function(e){t.push(n[e])})),t},Cs=function(e,t){return 0===e.width&&0===e.height?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},Is=function(e,t){return function(e,t){var n=Math.abs(e.x-t.centerX),r=Math.abs(e.y-t.centerY);return n/t.width>r/t.height?fa.HORIZONTAL:fa.VERTICAL}(t,e)===fa.HORIZONTAL?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},Rs=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),o=Math.max(e.maxX,t.maxX),i=Math.max(e.maxY,t.maxY);return{centerX:(n+o)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:o,maxY:i,height:i-r,width:o-n}},Ls=function(){var e=arguments.length>1?arguments[1]:void 0,t=[],n=[];(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(e){t.push(e.x),n.push(e.y)}));var r=Math.min.apply(Math,t),o=Math.max.apply(Math,t),i=Math.min.apply(Math,n),a=Math.max.apply(Math,n),c=o-r,u=a-i;return e&&(c+=e,u+=e),{centerX:(r+o)/2,centerY:(i+a)/2,maxX:o,maxY:a,minX:r,minY:i,x:(r+o)/2,y:(i+a)/2,height:u,width:c}},zs=function(e){var t=e.minX,n=e.minY,r=e.maxX,o=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:o},{x:t,y:o}]},Bs=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},Gs=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Fs=function(e,t,n,r,o){return Gs(e,t)+Gs(e,n)+function(e,t){var n=0;return t.forEach((function(t){t&&(e.x===t.x&&(n+=-2),e.y===t.y&&(n+=-2))})),n}(e,[t,n,r,o])},Us=function(e,t,n,r){var o=t.x-e.x,i=t.y-e.y,a=r.x-n.x,c=r.y-n.y,u=(-i*(e.x-n.x)+o*(e.y-n.y))/(-a*i+o*c),s=(a*(e.y-n.y)-c*(e.x-n.x))/(-a*i+o*c);return u>=0&&u<=1&&s>=0&&s<=1},Xs=function(e,t,n){if(0===n.width&&0===n.height)return!1;var r=Ns(zs(n),4),o=r[0],i=r[1],a=r[2],c=r[3];return Us(e,t,o,i)||Us(e,t,o,c)||Us(e,t,i,a)||Us(e,t,a,c)},Hs=function(e,t,n,r,o,i,a){var c=[],u=[t],s={},l={},f={};l[t.id]=0,f[t.id]=Fs(t,n,t);var p={};e.forEach((function(e){p[e.id]=e}));for(var d=function(){var d,h,y,v=void 0,b=1/0;if(u.forEach((function(e){f[e.id]<b&&(b=f[e.id],v=e)})),v===n){var g=[];return function e(t,n,r,o,i){i||(i=0),t.unshift(n[o]),r[o]&&r[o]!==o&&i<=100&&e(t,n,r,r[o],i+1)}(g,p,s,n.id),{v:g}}h=v,(y=(d=u).indexOf(h))>-1&&d.splice(y,1),c.push(v),function(e,t,n,r){var o=[];return e.forEach((function(e){e!==t&&(e.x!==t.x&&e.y!==t.y||Xs(e,t,n)||Xs(e,t,r)||o.push(e))})),Ts(o)}(e,v,r,o).forEach((function(e){if(-1===c.indexOf(e)){-1===u.indexOf(e)&&u.push(e);var r=f[v.id]+Gs(v,e);l[e.id]&&r>=l[e.id]||(s[e.id]=v.id,l[e.id]=r,f[e.id]=l[e.id]+Fs(e,n,t,i,a))}}))};u.length;){var h=d();if("object"===ks(h))return h.v}return[t,n]},Ys=function(e){return Du(e)},Vs=function(e){for(var t=e,n=1;n<t.length-1;){var r=t[n-1],o=t[n],i=t[n+1];r.x===o.x&&o.x===i.x||r.y===o.y&&o.y===i.y?t.splice(n,1):n++}return t},Ws=function(e,t,n,r,o){var i,a,c=Ys(n),u=Ys(r),s=Cs(c,o),l=Cs(u,o),f=Is(s,e),p=Is(l,t);if(i=s,a=l,2*Math.abs(i.centerX-a.centerX)<i.width+a.width&&2*Math.abs(i.centerY-a.centerY)<i.height+a.height){var d=el(e,t,f,p);return[e,f].concat(As(d),[p,t])}var h=Ls([f,p]),y=Rs(s,h),v=Rs(l,h),b=[];b=(b=b.concat(zs(y))).concat(zs(v));var g={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[h,y,v].forEach((function(e){b=b.concat(function(e,t){return function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]}(e,t.x).concat(function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]}(e,t.y))}(e,g).filter((function(e){return Bs(e,s)&&Bs(e,l)})))})),[{x:f.x,y:p.y},{x:p.x,y:f.y}].forEach((function(e){Bs(e,s)&&Bs(e,l)&&b.push(e)})),b.unshift(f),b.push(p),b=Ts(b);var m=Hs(b,f,p,c,u,e,t);return m.unshift(e),m.push(t),m.length>2&&(m=Vs(m)),Ts(m)},Ks=function(e){var t;if(1===e.length)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],o=ku(n.x,n.y,r.x,r.y),i=1;i<e.length-1;i++){var a=e[i],c=e[i+1],u=ku(a.x,a.y,c.x,c.y);u>o&&(o=u,n=a,r=c)}t=[n,r]}return t},Zs=function(e,t,n){var r=Nu(e,n),o=Nu(t,n);return r&&o},qs=function(e,t,n){var r=Nu(e,n),o=Nu(t,n);return!(r&&o)&&(r||o)},$s=function(e,t,n){for(var r,o,i=Du(n),a=zs(i),c=0;c<a.length;c++)Us(e,t,a[c],a[(c+1)%a.length])&&(o=[a[c],a[(c+1)%a.length]]);return o&&(r=function(e,t,n,r){var o=(t.y-e.y)*(r.x-n.x)-(e.x-t.x)*(n.y-r.y);if(0===o)return!1;var i=((t.x-e.x)*(r.x-n.x)*(n.y-e.y)+(t.y-e.y)*(r.x-n.x)*e.x-(r.y-n.y)*(t.x-e.x)*n.x)/o,a=-((t.y-e.y)*(r.y-n.y)*(n.x-e.x)+(t.x-e.x)*(r.y-n.y)*e.y-(r.x-n.x)*(t.y-e.y)*n.y)/o;return(i-e.x)*(i-t.x)<=0&&(a-e.y)*(a-t.y)<=0&&(i-n.x)*(i-r.x)<=0&&(a-n.y)*(a-r.y)<=0&&{x:i,y:a}}(e,t,o[0],o[1])),r},Qs=function(e,t){var n;return e.x===t.x?n=fa.VERTICAL:e.y===t.y&&(n=fa.HORIZONTAL),n},Js=function(e){var t=e.split(" "),n=[];return t&&t.forEach((function(e){var t=Ns(e.split(","),2),r=t[0],o=t[1];n.push({x:Number(r),y:Number(o)})})),n},el=function(e,t,n,r){var o=[];if(Qs(e,n)===Qs(t,r))e.y===n.y?(o.push({x:n.x,y:(n.y+r.y)/2}),o.push({x:r.x,y:(n.y+r.y)/2})):(o.push({x:(n.x+r.x)/2,y:n.y}),o.push({x:(n.x+r.x)/2,y:r.y}));else{var i={x:n.x,y:r.y},a=qc(i,e,n),c=qc(i,t,r);if(a||c)i={x:r.x,y:n.y};else{var u=tl(i,e,n),s=tl(i,t,r);u&&s&&(i={x:r.x,y:n.y})}o.push(i)}return o},tl=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},nl=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},rl=function(e){var t=e.start,n=e.end,r=e.sourceNode,o=e.targetNode,i=e.offset,a=Du(r),c=Du(o),u=Cs(a,i),s=Cs(c,i);return{sNext:Is(u,t),ePre:Is(s,n)}},ol=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[il(t[0]),il(t[1]),il(t[2]),il(t[3])]},il=function(e){var t=Ns(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},al=function(e,t){for(var n,r=e.x,o=e.y,i=Js(t),a=Number.MAX_SAFE_INTEGER,c=[],u=0;u<i.length;u++)c.push({start:i[u],end:i[(u+1)%i.length]});if(c.forEach((function(e){var t=e.start,i=e.end;if(t.x===i.x){var c={x:t.x,y:o};if(qc(c,t,i)){var u=Math.abs(t.x-r);u<a&&(a=u,n=c)}}else if(t.y===i.y){var s={x:r,y:t.y};if(qc(s,t,i)){var l=Math.abs(t.y-o);l<a&&(a=l,n=s)}}})),!n){var s=c[0],l=s.start,f=s.end;n={x:l.x+(f.x-l.x)/2,y:l.y+(f.y-l.y)/2}}return n},cl=function(e){return ta(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},ul=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},sl=function(){};function ll(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pl=window.document;function dl(e){var t=e.onDragStart,n=void 0===t?sl:t,r=e.onDraging,o=void 0===r?sl:r,i=e.onDragEnd,a=void 0===i?sl:i,c=e.step,u=void 0===c?1:c,s=e.isStopPropagation,l=void 0===s||s,f=!1,p=!1,d=0,h=0,y=0,v=0;function b(e){if(l&&e.stopPropagation(),p&&(f=!0,y+=e.clientX-d,v+=e.clientY-h,d=e.clientX,h=e.clientY,Math.abs(y)>u||Math.abs(v)>u)){var t=y%u,n=v%u,r=y-t,i=v-n;y=t,v=n,o({deltaX:r,deltaY:i,event:e})}}function g(e){if(l&&e.stopPropagation(),p=!1,pl.removeEventListener("mousemove",b,!1),pl.removeEventListener("mouseup",g,!1),f)return f=!1,a({event:e})}return function(e){if(0===e.button)return l&&e.stopPropagation(),p=!0,d=e.clientX,h=e.clientY,pl.addEventListener("mousemove",b,!1),pl.addEventListener("mouseup",g,!1),n({event:e})}}var hl,yl,vl,bl,gl,ml,Ol,xl,wl,_l,jl,El,Sl,Pl,Al,kl,Nl,Ml,Dl=function(){function e(t){var n=this,r=t.onDragStart,o=void 0===r?sl:r,i=t.onDraging,a=void 0===i?sl:i,c=t.onDragEnd,u=void 0===c?sl:c,s=t.eventType,l=void 0===s?"":s,f=t.eventCenter,p=void 0===f?null:f,d=t.step,h=void 0===d?1:d,y=t.isStopPropagation,v=void 0===y||y,b=t.model,g=void 0===b?null:b;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),fl(this,"onDragStart",void 0),fl(this,"onDraging",void 0),fl(this,"onDragEnd",void 0),fl(this,"step",void 0),fl(this,"isStopPropagation",void 0),fl(this,"isDraging",!1),fl(this,"isStartDraging",!1),fl(this,"startX",0),fl(this,"startY",0),fl(this,"sumDeltaX",0),fl(this,"sumDeltaY",0),fl(this,"eventType",void 0),fl(this,"eventCenter",void 0),fl(this,"model",void 0),fl(this,"startTime",void 0),fl(this,"isGrag",void 0),fl(this,"handleMouseDown",(function(e){var t,r,o;if(0===e.button){n.isStopPropagation&&e.stopPropagation(),n.isStartDraging=!0,n.startX=e.clientX,n.startY=e.clientY,pl.addEventListener("mousemove",n.handleMouseMove,!1),pl.addEventListener("mouseup",n.handleMouseUp,!1),n.onDragStart({event:e});var i=null===(t=n.model)||void 0===t?void 0:t.getData();null===(r=n.eventCenter)||void 0===r||r.emit(la["".concat(n.eventType,"_MOUSEDOWN")],{e:e,data:i}),null===(o=n.eventCenter)||void 0===o||o.emit(la["".concat(n.eventType,"_DRAGSTART")],{e:e,data:i}),n.startTime=(new Date).getTime()}})),fl(this,"handleMouseMove",(function(e){if(n.isStopPropagation&&e.stopPropagation(),n.isStartDraging&&(n.isDraging=!0,n.sumDeltaX+=e.clientX-n.startX,n.sumDeltaY+=e.clientY-n.startY,n.startX=e.clientX,n.startY=e.clientY,Math.abs(n.sumDeltaX)>n.step||Math.abs(n.sumDeltaY)>n.step)){var t,r,o,i=n.sumDeltaX%n.step,a=n.sumDeltaY%n.step,c=n.sumDeltaX-i,u=n.sumDeltaY-a;n.sumDeltaX=i,n.sumDeltaY=a,n.onDraging({deltaX:c,deltaY:u,event:e});var s=null===(t=n.model)||void 0===t?void 0:t.getData();null===(r=n.eventCenter)||void 0===r||r.emit(la["".concat(n.eventType,"_MOUSEMOVE")],{e:e,data:s}),null===(o=n.eventCenter)||void 0===o||o.emit(la["".concat(n.eventType,"_DRAG")],{e:e,data:s})}})),fl(this,"handleMouseUp",(function(e){var t,r,o;if(n.isStartDraging=!1,n.isStopPropagation&&e.stopPropagation(),pl.removeEventListener("mousemove",n.handleMouseMove,!1),pl.removeEventListener("mouseup",n.handleMouseUp,!1),n.isDraging){n.isDraging=!1,n.onDragEnd({event:e});var i=null===(t=n.model)||void 0===t?void 0:t.getData();null===(r=n.eventCenter)||void 0===r||r.emit(la["".concat(n.eventType,"_MOUSEUP")],{e:e,data:i}),null===(o=n.eventCenter)||void 0===o||o.emit(la["".concat(n.eventType,"_DROP")],{e:e,data:i})}})),this.onDragStart=o,this.onDraging=a,this.onDragEnd=u,this.step=h,this.isStopPropagation=v,this.eventType=l,this.eventCenter=p,this.model=g}var t,n,r;return t=e,(n=[{key:"setStep",value:function(e){this.step=e}}])&&ll(t.prototype,n),r&&ll(t,r),e}();function Tl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tl(Object(n),!0).forEach((function(t){Bl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Il(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ll(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function zl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gl(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Fl,Ul=(yl=Gl((hl=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Bl(this,"BaseType",sa.GRAPH),Bl(this,"modelType",ua.GRAPH),Bl(this,"rootEl",void 0),Bl(this,"theme",void 0),Bl(this,"eventCenter",void 0),Bl(this,"modelMap",new Map),Bl(this,"width",void 0),Bl(this,"height",void 0),Bl(this,"topElement",void 0),Bl(this,"selectElement",void 0),Bl(this,"idGenerator",void 0),Bl(this,"nodeMoveRules",[]),Ll(this,"edgeType",yl,this),Ll(this,"nodes",vl,this),Ll(this,"activeElement",bl,this),Ll(this,"activeElementState",gl,this),Ll(this,"state",ml,this),Ll(this,"additionStateData",Ol,this),Ll(this,"edges",xl,this),Ll(this,"isSlient",wl,this),Ll(this,"overlapMode",_l,this),Ll(this,"plugins",jl,this),Ll(this,"tools",El,this),Ll(this,"background",Sl,this),Ll(this,"transformMatrix",Pl,this),Ll(this,"editConfig",Al,this),Ll(this,"gridSize",kl,this),Ll(this,"partial",Nl,this),Ll(this,"fakerNode",Ml,this);var n=t.container,r=t.background,o=void 0===r?{}:r,i=t.grid,a=(i=void 0===i?{}:i).size,c=void 0===a?1:a,u=t.isSilentMode,s=void 0!==u&&u,l=t.eventCenter,f=t.idGenerator;this.background=o,this.isSlient=s,this.gridSize=c,this.rootEl=n,this.editConfig=new _a(t),this.eventCenter=l,this.transformMatrix=new Na(l),this.theme=Tc(t.style),this.edgeType=t.edgeType||"polyline",this.width=t.width,this.height=t.height,this.partial=t.partial,this.overlapMode=t.overlapMode||0,this.idGenerator=f}var t,n,r;return t=e,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce((function(e,t,n){return e[t.id]={index:n,model:t},e}),{})}},{key:"edgesMap",get:function(){return this.edges.reduce((function(e,t,n){return e[t.id]={index:n,model:t},e}),{})}},{key:"sortElements",get:function(){var e=[];this.nodes.forEach((function(t){return e.push(t)})),this.edges.forEach((function(t){return e.push(t)})),e=e.sort((function(e,t){return e.zIndex-t.zIndex}));for(var t=[],n=-1,r=[-200,-200],o=[this.width+200,this.height+200],i=0;i<e.length;i++){var a=e[i];this.partial&&!this.isElementInArea(a,r,o,!1)||(9999===a.zIndex&&(n=t.length),t.push(a))}if(-1!==n){var c=t[t.length-1];t[t.length-1]=t[n],t[n]=c}return t}},{key:"textEditElement",get:function(){var e=this.nodes.find((function(e){return e.state===aa.TEXT_EDIT})),t=this.edges.find((function(e){return e.state===aa.TEXT_EDIT}));return e||t}},{key:"selectElements",get:function(){var e=new Map;return this.nodes.forEach((function(t){t.isSelected&&e.set(t.id,t)})),this.edges.forEach((function(t){t.isSelected&&e.set(t.id,t)})),e}},{key:"getAreaElement",value:function(e,t){var n=[],r=[];this.nodes.forEach((function(e){return r.push(e)})),this.edges.forEach((function(e){return r.push(e)}));for(var o=0;o<r.length;o++){var i=r[o];this.isElementInArea(i,e,t)&&n.push(i)}return n}},{key:"getModel",value:function(e){return this.modelMap.get(e)}},{key:"getNodeModel",value:function(e){var t;return this.fakerNode&&e===this.fakerNode.id?this.fakerNode:null===(t=this.nodesMap[e])||void 0===t?void 0:t.model}},{key:"getPointByClient",value:function(e){var t=e.x,n=e.y,r=this.rootEl.getBoundingClientRect(),o={x:t-r.left,y:n-r.top},i=Il(this.transformMatrix.HtmlPointToCanvasPoint([o.x,o.y]),2);return{domOverlayPosition:o,canvasOverlayPosition:{x:i[0],y:i[1]}}}},{key:"isElementInArea",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.BaseType===sa.NODE){for(var o=Du(e=e),i=o.minX,a=o.minY,c=o.maxX,u=o.maxY,s=[{x:i,y:a},{x:c,y:a},{x:c,y:u},{x:i,y:u}],l=!0,f=0;f<s.length;f++){var p=s[f],d=p.x,h=p.y,y=Il(this.transformMatrix.CanvasPointToHtmlPoint([d,h]),2);if(d=y[0],h=y[1],!Bc([d,h],t,n)){l=!1;break}}return l}if(e.BaseType===sa.EDGE){var v=e=e,b=v.startPoint,g=v.endPoint,m=this.transformMatrix.CanvasPointToHtmlPoint([b.x,b.y]),O=this.transformMatrix.CanvasPointToHtmlPoint([g.x,g.y]),x=Bc(m,t,n),w=Bc(O,t,n);return r?x&&w:x||w}return!1}},{key:"graphDataToModel",value:function(e){var t=this;this.nodes=Ni(e.nodes,(function(e){var n=t.getModel(e.type);if(!n)throw new Error("\u627e\u4e0d\u5230".concat(e.type,"\u5bf9\u5e94\u7684\u8282\u70b9\u3002"));var r=e.x,o=e.y;return r&&o&&(e.x=Cc(r,t.gridSize),e.y=Cc(o,t.gridSize),"[object Object]"===Object.prototype.toString.call(e.text)&&(e.text.x-=Ic(r,t.gridSize),e.text.y-=Ic(o,t.gridSize))),new n(e,t)})),this.edges=Ni(e.edges,(function(e){var n=t.getModel(e.type);if(!n)throw new Error("\u627e\u4e0d\u5230".concat(e.type,"\u5bf9\u5e94\u7684\u8fb9\u3002"));return new n(e,t)}))}},{key:"modelToGraphData",value:function(){var e=this.edges.map((function(e){return e.getData()}));return{nodes:this.nodes.map((function(e){return e.getData()})),edges:e}}},{key:"getEdgeModel",value:function(e){var t;return null===(t=this.edgesMap[e])||void 0===t?void 0:t.model}},{key:"getElement",value:function(e){return this.getNodeModel(e)||this.getEdgeModel(e)}},{key:"getNodeEdges",value:function(e){for(var t=[],n=0;n<this.edges.length;n++){var r=this.edges[n],o=this.edges[n].sourceNodeId===e,i=this.edges[n].targetNodeId===e;(o||i)&&t.push(r)}return t}},{key:"getSelectElements",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.selectElements,n={nodes:[],edges:[]};return t.forEach((function(r){if(r.BaseType===sa.NODE&&n.nodes.push(r.getData()),r.BaseType===sa.EDGE){var o=r.getData(),i=t.get(o.sourceNodeId)&&t.get(o.targetNodeId);(e||i)&&n.edges.push(o)}})),n}},{key:"updateAttributes",value:function(e,t){this.getElement(e).updateAttributes(t)}},{key:"changeNodeId",value:function(e,t){return t||(t=Kc()),this.nodesMap[t]?(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u5df2\u5b58\u5728\u8282\u70b9".concat(t,", \u4fee\u6539\u5931\u8d25")),!1):this.nodesMap[e]?(this.edges.forEach((function(n){n.sourceNodeId===e&&(n.sourceNodeId=t),n.targetNodeId===e&&(n.targetNodeId=t)})),this.nodesMap[e].model.id=t,t):(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u627e\u4e0d\u5230\u8282\u70b9".concat(t,", \u4fee\u6539\u5931\u8d25")),!1)}},{key:"changeEdgeId",value:function(e,t){return t||(t=Kc()),this.edgesMap[t]?(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u5df2\u5b58\u5728\u8fde\u7ebf: ".concat(t,", \u4fee\u6539\u5931\u8d25")),!1):this.edgesMap[e]?(this.edges.forEach((function(n){n.id===e&&(n.id=t)})),t):(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u627e\u4e0d\u5230\u8fde\u7ebf: ".concat(t,", \u4fee\u6539\u5931\u8d25")),!1)}},{key:"setFakerNode",value:function(e){this.fakerNode=e}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(e,t){return this.modelMap.set(e,t)}},{key:"updateEdgeByIndex",value:function(e,t){this.edges[e]=Cl(Cl({},this.edges[e]),t)}},{key:"toFront",value:function(e){var t,n,r,o=(null===(t=this.nodesMap[e])||void 0===t?void 0:t.model)||(null===(n=this.edgesMap[e])||void 0===n?void 0:n.model);o&&(null===(r=this.topElement)||void 0===r||r.setZIndex(),this.topElement=o,o.setZIndex(9999))}},{key:"setElementZIndex",value:function(e,t){var n,r,o,i=(null===(n=this.nodesMap[e])||void 0===n?void 0:n.model)||(null===(r=this.edgesMap[e])||void 0===r?void 0:r.model);i&&("number"==typeof t&&(o=t),"top"===t&&(o=Yu()),"bottom"===t&&(o=--Hu),i.setZIndex(o))}},{key:"deleteNode",value:function(e){var t=this.nodesMap[e].model.getData();this.removeEdgeBySource(e),this.removeEdgeByTarget(e),this.nodes.splice(this.nodesMap[e].index,1),this.eventCenter.emit(la.NODE_DELETE,{data:t})}},{key:"addNode",value:function(e){var t=Uu(e);t.id&&this.nodesMap[e.id]&&delete t.id;var n=this.getModel(t.type);if(!n)throw new Error("\u627e\u4e0d\u5230".concat(t.type,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));var r=new n(t,this);this.nodes.push(r);var o=r.getData();return this.eventCenter.emit(la.NODE_ADD,{data:o}),r}},{key:"cloneNode",value:function(e){var t=this.getNodeModel(e),n=t.getData();n.x+=30,n.y+=30,delete n.id,n.text&&(n.text.x+=30,n.text.y+=30);var r=this.addNode(n);return r.setSelected(!0),t.setSelected(!1),r.getData()}},{key:"moveNode",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[e];o?(o.model.move(t,n,r),this.moveEdge(e,t,n)):console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(e,"\u7684\u8282\u70b9"))}},{key:"moveNode2Coordinate",value:function(e,t,n){var r=this.nodesMap[e];if(r){var o=r.model,i=t-o.x,a=n-o.y;this.moveNode(e,i,a)}else console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(e,"\u7684\u8282\u70b9"))}},{key:"setTextEditable",value:function(e){this.setElementStateById(e,aa.TEXT_EDIT)}},{key:"createEdge",value:function(e){var t=Uu(e),n=t.type;n||(n=this.edgeType),t.id&&this.edgesMap[t.id]&&delete t.id;var r=this.getModel(n);if(!r)throw new Error("\u627e\u4e0d\u5230".concat(n,"\u5bf9\u5e94\u7684\u8fde\u7ebf\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8fde\u7ebf\u3002"));var o=new r(Cl(Cl({},t),{},{type:n}),this),i=o.getData();return this.edges.push(o),this.eventCenter.emit(la.EDGE_ADD,{data:i}),o}},{key:"moveEdge",value:function(e,t,n){for(var r=0;r<this.edges.length;r++){var o,i=this.edges[r],a=i.textPosition,c=a.x,u=a.y,s=this.edges[r].sourceNodeId===e,l=this.edges[r].targetNodeId===e;if(s&&i.updateStartPoint({x:i.startPoint.x+t,y:i.startPoint.y+n}),l&&i.updateEndPoint({x:i.endPoint.x+t,y:i.endPoint.y+n}),s||l)if(!0===i.customTextPosition)i.resetTextPosition();else if(i.modelType===ua.POLYLINE_EDGE&&null!==(o=i.text)&&void 0!==o&&o.value){var f=i.text,p=al(f,i.points);i.moveText(p.x-f.x,p.y-f.y)}else{var d=i.textPosition,h=d.x,y=d.y;i.moveText(h-c,y-u)}}}},{key:"removeEdge",value:function(e,t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===e&&this.edges[n].targetNodeId===t){var r=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(la.EDGE_DELETE,{data:r})}}},{key:"removeEdgeById",value:function(e){var t=this.edgesMap[e].index;if(this.edgesMap[e]){var n=this.edgesMap[e].model.getData();this.edges.splice(t,1),this.eventCenter.emit(la.EDGE_DELETE,{data:n})}}},{key:"removeEdgeBySource",value:function(e){for(var t=0;t<this.edges.length;t++)if(this.edges[t].sourceNodeId===e){var n=this.edges[t].getData();this.edges.splice(t,1),t--,this.eventCenter.emit(la.EDGE_DELETE,{data:n})}}},{key:"removeEdgeByTarget",value:function(e){for(var t=0;t<this.edges.length;t++)if(this.edges[t].targetNodeId===e){var n=this.edges[t].getData();this.edges.splice(t,1),t--,this.eventCenter.emit(la.EDGE_DELETE,{data:n})}}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"setElementStateById",value:function(e,t,n){this.resetElementState(),this.nodes.forEach((function(r){r.id===e?r.setElementState(t,n):r.setElementState(aa.DEFAULT)})),this.edges.forEach((function(r){r.id===e?r.setElementState(t,n):r.setElementState(aa.DEFAULT)}))}},{key:"setElementTextById",value:function(e,t){this.nodes.forEach((function(n){n.id===e&&n.updateText(t)})),this.edges.forEach((function(n){n.id===e&&n.updateText(t)}))}},{key:"resetElementState",value:function(){}},{key:"selectNodeById",value:function(e){var t,n,r;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(r=this.selectElement)||void 0===r||r.setSelected(!1),this.clearSelectElements()),this.selectElement=null===(t=this.nodesMap[e])||void 0===t?void 0:t.model,null===(n=this.selectElement)||void 0===n||n.setSelected(!0)}},{key:"selectEdgeById",value:function(e){var t,n,r;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(r=this.selectElement)||void 0===r||r.setSelected(!1),this.clearSelectElements()),this.selectElement=null===(t=this.edgesMap[e])||void 0===t?void 0:t.model,null===(n=this.selectElement)||void 0===n||n.setSelected(!0)}},{key:"selectElementById",value:function(e){var t,n;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(n=this.selectElement)||void 0===n||n.setSelected(!1),this.clearSelectElements()),this.selectElement=this.getElement(e),null===(t=this.selectElement)||void 0===t||t.setSelected(!0)}},{key:"clearSelectElements",value:function(){var e;this.selectElements.forEach((function(e){null==e||e.setSelected(!1)})),this.selectElements.clear(),this.overlapMode!==pa.DEFAULT&&(null===(e=this.topElement)||void 0===e||e.setZIndex())}},{key:"moveElements",value:function(e,t,n){var r=this;e.nodes.forEach((function(e){return r.moveNode(e.id,t,n)}))}},{key:"moveNodes",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.forEach((function(e){return r.moveNode(e,t,n,o)}))}},{key:"addNodeMoveRules",value:function(e){this.nodeMoveRules.includes(e)||this.nodeMoveRules.push(e)}},{key:"changeEdgeType",value:function(e){this.edgeType=e}},{key:"changeNodeType",value:function(e,t){var n=this.getNodeModel(e);if(n){var r=n.getData();r.type=t;var o=this.getModel(t);if(!o)throw new Error("\u627e\u4e0d\u5230".concat(t,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));var i=new o(r,this);this.nodes.splice(this.nodesMap[e].index,1,i),this.getNodeEdges(e).forEach((function(t){if(t.sourceNodeId===e){var n=zu(i,t.startPoint,i.width,i.height);t.updateStartPoint(n)}if(t.targetNodeId===e){var r=zu(i,t.endPoint,i.width,i.height);t.updateEndPoint(r)}}))}else console.warn("\u627e\u4e0d\u5230id\u4e3a".concat(e,"\u7684\u8282\u70b9"))}},{key:"setTheme",value:function(e){this.theme=Tc(Cl(Cl({},this.theme),e))}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}}])&&zl(t.prototype,n),r&&zl(t,r),e}()).prototype,"edgeType",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vl=Gl(hl.prototype,"nodes",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bl=Gl(hl.prototype,"activeElement",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gl=Gl(hl.prototype,"activeElementState",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ml=Gl(hl.prototype,"state",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ol=Gl(hl.prototype,"additionStateData",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xl=Gl(hl.prototype,"edges",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wl=Gl(hl.prototype,"isSlient",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_l=Gl(hl.prototype,"overlapMode",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),jl=Gl(hl.prototype,"plugins",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),El=Gl(hl.prototype,"tools",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Sl=Gl(hl.prototype,"background",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pl=Gl(hl.prototype,"transformMatrix",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Al=Gl(hl.prototype,"editConfig",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kl=Gl(hl.prototype,"gridSize",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Nl=Gl(hl.prototype,"partial",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ml=Gl(hl.prototype,"fakerNode",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gl(hl.prototype,"nodesMap",[f.k],Object.getOwnPropertyDescriptor(hl.prototype,"nodesMap"),hl.prototype),Gl(hl.prototype,"edgesMap",[f.k],Object.getOwnPropertyDescriptor(hl.prototype,"edgesMap"),hl.prototype),Gl(hl.prototype,"sortElements",[f.k],Object.getOwnPropertyDescriptor(hl.prototype,"sortElements"),hl.prototype),Gl(hl.prototype,"textEditElement",[f.k],Object.getOwnPropertyDescriptor(hl.prototype,"textEditElement"),hl.prototype),Gl(hl.prototype,"selectElements",[f.k],Object.getOwnPropertyDescriptor(hl.prototype,"selectElements"),hl.prototype),Gl(hl.prototype,"setFakerNode",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"setFakerNode"),hl.prototype),Gl(hl.prototype,"removeFakerNode",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"removeFakerNode"),hl.prototype),Gl(hl.prototype,"setModel",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"setModel"),hl.prototype),Gl(hl.prototype,"updateEdgeByIndex",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"updateEdgeByIndex"),hl.prototype),Gl(hl.prototype,"toFront",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"toFront"),hl.prototype),Gl(hl.prototype,"setElementZIndex",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"setElementZIndex"),hl.prototype),Gl(hl.prototype,"deleteNode",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"deleteNode"),hl.prototype),Gl(hl.prototype,"addNode",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"addNode"),hl.prototype),Gl(hl.prototype,"cloneNode",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"cloneNode"),hl.prototype),Gl(hl.prototype,"moveNode",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"moveNode"),hl.prototype),Gl(hl.prototype,"moveNode2Coordinate",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"moveNode2Coordinate"),hl.prototype),Gl(hl.prototype,"setTextEditable",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"setTextEditable"),hl.prototype),Gl(hl.prototype,"createEdge",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"createEdge"),hl.prototype),Gl(hl.prototype,"moveEdge",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"moveEdge"),hl.prototype),Gl(hl.prototype,"removeEdge",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"removeEdge"),hl.prototype),Gl(hl.prototype,"removeEdgeById",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"removeEdgeById"),hl.prototype),Gl(hl.prototype,"removeEdgeBySource",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"removeEdgeBySource"),hl.prototype),Gl(hl.prototype,"removeEdgeByTarget",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"removeEdgeByTarget"),hl.prototype),Gl(hl.prototype,"setElementState",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"setElementState"),hl.prototype),Gl(hl.prototype,"setElementStateById",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"setElementStateById"),hl.prototype),Gl(hl.prototype,"setElementTextById",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"setElementTextById"),hl.prototype),Gl(hl.prototype,"resetElementState",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"resetElementState"),hl.prototype),Gl(hl.prototype,"selectNodeById",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"selectNodeById"),hl.prototype),Gl(hl.prototype,"selectEdgeById",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"selectEdgeById"),hl.prototype),Gl(hl.prototype,"selectElementById",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"selectElementById"),hl.prototype),Gl(hl.prototype,"clearSelectElements",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"clearSelectElements"),hl.prototype),Gl(hl.prototype,"moveElements",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"moveElements"),hl.prototype),Gl(hl.prototype,"moveNodes",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"moveNodes"),hl.prototype),Gl(hl.prototype,"changeEdgeType",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"changeEdgeType"),hl.prototype),Gl(hl.prototype,"changeNodeType",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"changeNodeType"),hl.prototype),Gl(hl.prototype,"setTheme",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"setTheme"),hl.prototype),Gl(hl.prototype,"clearData",[f.i],Object.getOwnPropertyDescriptor(hl.prototype,"clearData"),hl.prototype),hl),Xl=Ul;function Hl(e){return(Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yl(){return(Yl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Vl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wl(e,t){return(Wl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$l(e);if(t){var o=$l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zl(this,n)}}function Zl(e,t){if(t&&("object"===Hl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ql(e)}function ql(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $l(e){return($l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ql(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jl,ef=mx(Fl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wl(e,t)}(i,e);var t,n,r,o=Kl(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ql(ql(t=o.call(this)),"stepDrag",void 0),Ql(ql(t),"stepScrollX",0),Ql(ql(t),"stepScrollY",0),Ql(ql(t),"onDraging",(function(e){var n=e.deltaX,r=e.deltaY;t.setState({isDraging:!0});var o=t.props.graphModel,i=o.transformMatrix;o.editConfig.stopMoveGraph||i.translate(n,r)})),Ql(ql(t),"onDragEnd",(function(){t.setState({isDraging:!1})})),Ql(ql(t),"zoomHandler",(function(e){var n=t.props,r=n.graphModel,o=r.editConfig,i=r.transformMatrix,a=r.gridSize,c=n.graphModel,u=e.deltaX,s=e.deltaY;if(o.stopScrollGraph||!0===e.ctrlKey){if(!o.stopZoomGraph){e.preventDefault();var l=c.getPointByClient({x:e.clientX,y:e.clientY}).canvasOverlayPosition,f=l.x,p=l.y;i.zoom(e.deltaY<0,[f,p])}}else{if(e.preventDefault(),t.stepScrollX+=u,t.stepScrollY+=s,Math.abs(t.stepScrollX)>=a){var d=t.stepScrollX%a,h=t.stepScrollX-d;i.translate(-h*i.SCALE_X,0),t.stepScrollX=d}if(Math.abs(t.stepScrollY)>=a){var y=t.stepScrollY%a,v=t.stepScrollY-y;i.translate(0,-v*i.SCALE_Y),t.stepScrollY=y}}})),Ql(ql(t),"clickHandler",(function(e){if("canvas-overlay"===e.target.getAttribute("name")){var n=t.props,r=n.graphModel,o=n.eventCenter,i=r.textEditElement;r.selectElements.size>0&&r.clearSelectElements(),i&&i.setElementState(aa.DEFAULT),o.emit(la.BLANK_CLICK,{e:e})}})),Ql(ql(t),"handleContextMenu",(function(e){if("canvas-overlay"===e.target.getAttribute("name")){e.preventDefault();var n=t.props,r=n.graphModel,o=n.eventCenter,i=r.getPointByClient({x:e.clientX,y:e.clientY});r.setElementState(aa.SHOW_MENU,i.domOverlayPosition),o.emit(la.BLANK_CONTEXTMENU,{e:e,position:i})}})),Ql(ql(t),"mouseDownHandler",(function(e){var n=t.props,r=n.eventCenter,o=n.graphModel,i=o.editConfig,a=o.transformMatrix.SCALE_X,c=o.gridSize;i.stopMoveGraph?r.emit(la.BLANK_MOUSEDOWN,{e:e}):(t.stepDrag.setStep(c*a),t.stepDrag.handleMouseDown(e)),t.clickHandler(e)}));var n=e.graphModel.gridSize,r=e.eventCenter;return t.stepDrag=new Dl({onDraging:t.onDraging,onDragEnd:t.onDragEnd,step:n,eventType:"BLANK",eventCenter:r,model:null}),t.state={isDraging:!1},t}return t=i,(n=[{key:"render",value:function(){var e=this.props.graphModel.transformMatrix.getTransformStyle().transform,t=this.props,n=t.children,r=t.dnd,o=this.state.isDraging;return b("svg",Yl({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:o?"lf-dragging":"lf-drag-able"},r.eventMap()),b("g",{transform:e},n))}}])&&Vl(t.prototype,n),r&&Vl(t,r),i}(x))||Fl;function tf(e){return(tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function of(e,t){return(of=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function af(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sf(e);if(t){var o=sf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cf(this,n)}}function cf(e,t){if(t&&("object"===tf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uf(e)}function uf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sf(e){return(sf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ff=mx(Jl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&of(e,t)}(i,e);var t,n,r,o=af(i);function i(){var e;nf(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return lf(uf(e=o.call.apply(o,[this].concat(n))),"setToolOverlayRef",(function(t){var n=e.props.tool.getInstance();n.components.forEach((function(e){return e(n,t)})),n.components=[]})),e}return t=i,(n=[{key:"getTools",value:function(){var e=this.props,t=e.tool,n=e.graphModel,r=t.getTools().map((function(e){return b(e,{graphModel:n,logicFlow:t.instance})}));return t.components=r,r}},{key:"render",value:function(){return b("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&rf(t.prototype,n),r&&rf(t,r),i}(x))||Jl;function pf(e){return(pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function df(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yf(e,t){return(yf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gf(e);if(t){var o=gf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bf(this,n)}}function bf(e,t){if(t&&("object"===pf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function gf(e){return(gf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(178);var mf,Of=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yf(e,t)}(i,e);var t,n,r,o=vf(i);function i(){return df(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getAttributes",value:function(){var e=this.props.background,t=e.image,n=void 0===t?"":t,r=e.color,o=void 0===r?"":r,i=e.repeat,a=void 0===i?"no-repeat":i,c=e.position,u=void 0===c?"center":c,s=e.size,l=void 0===s?"auto auto":s,f=e.opacity,p=void 0===f?1:f;return o?{color:o,opacity:p,image:"none"}:n?{image:"url(".concat(n,")"),repeat:a,position:u,size:l,opacity:p}:{}}},{key:"getShape",value:function(){var e=this.getAttributes(),t=e.image,n=e.color,r=e.repeat,o=e.size;return b("div",{className:"lf-background"},b("div",{style:{backgroundImage:t,backgroundColor:n,backgroundRepeat:r,backgroundPosition:e.position,backgroundSize:o,opacity:e.opacity},className:"lf-background-area"}))}},{key:"render",value:function(){return this.getShape()}}])&&hf(t.prototype,n),r&&hf(t,r),i}(x);function xf(e){return(xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jf(e,t){return(jf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ef(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Af(e);if(t){var o=Af(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sf(this,n)}}function Sf(e,t){if(t&&("object"===xf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pf(e)}function Pf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Af(e){return(Af=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nf=mx(mf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jf(e,t)}(i,e);var t,n,r,o=Ef(i);function i(){var e;wf(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return kf(Pf(e=o.call.apply(o,[this].concat(n))),"id",Kc()),e}return t=i,(n=[{key:"renderDot",value:function(){var e=this.props,t=e.config,n=t.color,r=t.thickness,o=void 0===r?2:r,i=e.size,a=e.visible,c=Math.min(Math.max(2,o),i/2),u=1;return a||(u=0),b("rect",{width:c,height:c,rx:c/2,ry:c/2,fill:n,opacity:u})}},{key:"renderMesh",value:function(){var e=this.props,t=e.config,n=t.color,r=t.thickness,o=void 0===r?1:r,i=e.size,a=e.visible,c=Math.min(Math.max(1,o),i/2),u=1;return a||(u=0),b("path",{d:"M ".concat(i," 0 H0 M0 0 V0 ").concat(i),stroke:n,strokeWidth:c,opacity:u})}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.size,r=e.graphModel.transformMatrix,o=[r.SCALE_X,r.SKEW_Y,r.SKEW_X,r.SCALE_Y,r.TRANSLATE_X,r.TRANSLATE_Y].join(","),i="matrix(".concat(o,")");return b("div",{className:"lf-grid"},b("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},b("defs",null,b("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:i,x:"0",y:"0",width:n,height:n,style:{transition:"all 0.1s ease"}},"dot"===t&&this.renderDot(),"mesh"===t&&this.renderMesh())),b("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&_f(t.prototype,n),r&&_f(t,r),i}(x))||mf;function Mf(e){return(Mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Df(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Tf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Nf.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},n(44);var Cf,If=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach((function(e){var n=Df(e,2),r=n[0],o=n[1];"object"!==Mf(o)&&(t[r]=o)})),b("line",t)};function Rf(e){return(Rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bf(e,t){return(Bf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Uf(e);if(t){var o=Uf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ff(this,n)}}function Ff(e,t){if(t&&("object"===Rf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Uf(e){return(Uf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xf,Hf=mx(Cf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bf(e,t)}(i,e);var t,n,r,o=Gf(i);function i(){return Lf(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.snaplineModel,t=e.position,n=e.isShowHorizontal,r=e.isShowVertical,o=e.stroke,i=e.strokeWidth,a=t.x,c=void 0===a?0:a,u=t.y,s=void 0===u?0:u,l={x1:c,y1:-1e5,x2:c,y2:1e5,stroke:r?o:"none",strokeWidth:i};return b("g",{className:"lf-snapline"},b(If,{x1:-1e5,y1:s,x2:1e5,y2:s,stroke:n?o:"none",strokeWidth:i}),b(If,l))}}])&&zf(t.prototype,n),r&&zf(t,r),i}(x))||Cf;function Yf(e){return(Yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kf(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.className,c=t-r/2,u=n-o/2,s={width:10,height:10,cx:0,cy:0,rx:i||0,ry:i||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape ".concat(a),x:0,y:0};return Object.entries(e).forEach((function(e){var t=Vf(e,2),n=t[0],r=t[1];"object"!==Yf(r)&&(s[n]=r)})),s.x=c,s.y=u,b("rect",s)}function Zf(e){return(Zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qf(e,t){return(Qf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tp(e);if(t){var o=tp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ep(this,n)}}function ep(e,t){if(t&&("object"===Zf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tp(e){return(tp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Kf.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var np,rp=mx(Xf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qf(e,t)}(i,e);var t,n,r,o=Jf(i);function i(){return qf(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getNodeOutline",value:function(){var e=this.props.graphModel,t=e.selectElements,n=e.editConfig,r=n.hoverOutline,o=n.nodeSelectedOutline,i=[];return t.forEach((function(e){if(e.BaseType===sa.NODE){var t=e.isHovered,n=e.isSelected,a=e.x,c=e.y,u=e.width,s=e.height,l=e.hideOutline,f=e.outlineColor,p=e.hoverOutlineColor,d=e.outlineStrokeDashArray,h=e.hoverOutlineStrokeDashArray;if(!l&&(o||r&&t)){var y=n?f:p,v=n?d:h;i.push(b(Kf,{className:"lf-outline-node",x:a,y:c,width:u+10,height:s+10,radius:0,fill:"none",stroke:y,strokeDasharray:v}))}}})),i}},{key:"getEdgeOutline",value:function(){for(var e=this.props.graphModel,t=e.edges,n=e.editConfig.edgeSelectedOutline,r=[],o=0;o<t.length;o++){var i=t[o];!i.hideOutline&&i.isSelected&&n&&(i.modelType===ua.LINE_EDGE?r.push(this.getLineOutline(i)):i.modelType===ua.POLYLINE_EDGE?r.push(this.getPolylineOutline(i)):i.modelType===ua.BEZIER_EDGE&&r.push(this.getBezierOutline(i)))}return r}},{key:"getLineOutline",value:function(e){var t=e.startPoint,n=e.endPoint,r=(t.x+n.x)/2,o=(t.y+n.y)/2,i=Math.abs(t.x-n.x)+10,a=Math.abs(t.y-n.y)+10,c=this.props.graphModel.theme.line;return b(Kf,{className:"lf-outline-edge",x:r,y:o,width:i,height:a,radius:0,fill:"none",stroke:c.outlineColor,strokeDasharray:c.outlineStrokeDashArray})}},{key:"getPolylineOutline",value:function(e){var t=e.points,n=Js(t),r=Ls(n,8),o=r.x,i=r.y,a=r.width,c=r.height,u=this.props.graphModel.theme.polyline;return b(Kf,{className:"lf-outline",x:o,y:i,width:a,height:c,radius:0,fill:"none",stroke:u.outlineColor,strokeDasharray:u.outlineStrokeDashArray})}},{key:"getBezierOutline",value:function(e){var t=e.path,n=ol(t),r=Ls(n,8),o=r.x,i=r.y,a=r.width,c=r.height,u=this.props.graphModel.theme.bezier;return b(Kf,{className:"lf-outline",x:o,y:i,width:a,height:c,radius:0,fill:"none",stroke:u.outlineColor,strokeDasharray:u.outlineStrokeDashArray})}},{key:"render",value:function(){return b("g",{className:"lf-outline"},this.getNodeOutline(),this.getEdgeOutline())}}])&&$f(t.prototype,n),r&&$f(t,r),i}(x))||Xf;function op(e){return(op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ip(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ap(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ap(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ap(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cp(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.r,a={cx:n,cy:o,r:void 0===i?4:i,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape"};return Object.entries(e).forEach((function(e){var t=ip(e,2),n=t[0],r=t[1];"object"!==op(r)&&(a[n]=r)})),b("circle",a)}function up(e){return(up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dp(e,t,n){return t&&pp(e.prototype,t),n&&pp(e,n),e}function hp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yp(e,t)}function yp(e,t){return(yp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mp(e);if(t){var o=mp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bp(this,n)}}function bp(e,t){if(t&&("object"===up(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gp(e)}function gp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mp(e){return(mp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Op(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xp,wp=function(e){hp(n,e);var t=vp(n);function n(e){var r;fp(this,n),Op(gp(r=t.call(this)),"dragHandler",void 0),Op(gp(r),"onDraging",(function(e){var t=e.deltaX,n=e.deltaY,o=r.props,i=o.graphModel,a=o.bezierModel,c=o.type,u=i.transformMatrix,s=r.state,l=s.endX,f=s.endY,p=sp(u.moveCanvasPointByHtml([l,f],t,n),2),d=p[0],h=p[1];r.setState({endX:d,endY:h}),a.updateAdjustAnchor({x:d,y:h},c)})),Op(gp(r),"onDragEnd",(function(){var e=r.state,t=e.endX,n=e.endY,o=r.props,i=o.bezierModel,a=o.type;i.updateAdjustAnchor({x:t,y:n},a)})),r.dragHandler=dl({onDraging:r.onDraging,onDragEnd:r.onDragEnd});var o=e.position;return r.state={endX:o.x,endY:o.y},r}return dp(n,[{key:"render",value:function(){var e,t,n,r=this.props.position,o=r.x,i=r.y,a=null===(e=this.props)||void 0===e||null===(t=e.graphModel)||void 0===t||null===(n=t.theme)||void 0===n?void 0:n.bezier;return b(cp,{className:"lf-bezier-adjust-anchor",x:o,y:i,r:4,stroke:a.adjustAnchorStroke,fill:a.adjustAnchorFill,fillOpacity:a.adjustAnchorFillOpacity,onMouseDown:this.dragHandler})}}]),n}(x),_p=mx(np=function(e){hp(n,e);var t=vp(n);function n(){return fp(this,n),t.apply(this,arguments)}return dp(n,[{key:"getBezierAdjust",value:function(e,t){var n=e.path,r=e.id,o=sp(ol(n),4),i=o[0],a=o[1],c=o[2],u=o[3],s=t.theme.bezier.adjustLineColor,l=[];return l.push(b(If,{x1:i.x,y1:i.y,x2:a.x,y2:a.y,stroke:s})),l.push(b(wp,{position:a,bezierModel:e,graphModel:t,key:"".concat(r,"_ePre"),type:"sNext"})),l.push(b(If,{x1:u.x,y1:u.y,x2:c.x,y2:c.y,stroke:s})),l.push(b(wp,{position:c,bezierModel:e,graphModel:t,key:"".concat(r,"_sNext"),type:"ePre"})),l}},{key:"selectedBezierEdge",value:function(){for(var e=this.props.graphModel,t=e.edges,n=[],r=0;r<t.length;r++){var o=t[r];o.isSelected&&o.modelType===ua.BEZIER_EDGE&&o.draggable&&n.push(this.getBezierAdjust(o,e))}return n}},{key:"render",value:function(){return b("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(x))||np;function jp(e){return(jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ep(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pp(e,t){return(Pp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ap(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Np(e);if(t){var o=Np(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kp(this,n)}}function kp(e,t){if(t&&("object"===jp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Np(e){return(Np=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mp,Dp=mx(xp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pp(e,t)}(i,e);var t,n,r,o=Ap(i);function i(){return Ep(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return b("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},b("g",{transform:this.props.graphModel.transformMatrix.getTransformStyle().transform},this.props.children))}}])&&Sp(t.prototype,n),r&&Sp(t,r),i}(x))||xp;function Tp(e){return(Tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cp(){return(Cp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ip(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lp(e,t){return(Lp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gp(e);if(t){var o=Gp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bp(this,n)}}function Bp(e,t){if(t&&("object"===Tp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Gp(e){return(Gp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fp=mx(Mp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lp(e,t)}(i,e);var t,n,r,o=zp(i);function i(){return Ip(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getComponent",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"canvas-overlay";return b((0,this.props.getView)(e.type),{key:e.id,model:e,graphModel:t,overlay:r,eventCenter:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.graphModel,r=t.tool,o=t.options,i=t.eventCenter,a=t.dnd,c=t.snaplineModel,u={};o.width&&(u.width="".concat(o.width,"px")),o.height&&(u.height="".concat(o.height,"px"));var s=n.fakerNode,l=n.editConfig.adjustEdge;return b("div",{className:"lf-graph",style:u},b(ef,{graphModel:n,eventCenter:i,dnd:a},b("g",{className:"lf-base"},Ni(n.sortElements,(function(t){return e.getComponent(t,n,i)}))),s?this.getComponent(s,n,i):""),b(Dp,{graphModel:n},o.hideOutline?"":b(rp,{graphModel:n}),l?b(_p,{graphModel:n}):"",o.isSilentMode||!1===o.snapline?"":b(Hf,{snaplineModel:c})),b(ff,{graphModel:n,tool:r}),o.background&&b(Of,{background:o.background}),o.grid&&b(Nf,Cp({},o.grid,{graphModel:n})))}}])&&Rp(t.prototype,n),r&&Rp(t,r),i}(x))||Mp;function Up(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Up(Object(n),!0).forEach((function(t){Yp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Up(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vp=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Yp(this,"nodeConfig",void 0),Yp(this,"lf",void 0),Yp(this,"options",void 0),Yp(this,"fakerNode",void 0),Yp(this,"stopDrag",(function(){n.nodeConfig=null,window.document.removeEventListener("mouseup",n.stopDrag)})),Yp(this,"dragEnter",(function(e){n.nodeConfig&&!n.fakerNode&&(n.fakerNode=n.lf.createFakerNode(Xp(Xp({},n.nodeConfig),n.clientToLocalPoint({x:e.clientX,y:e.clientY}))))})),Yp(this,"onDragOver",(function(e){if(e.preventDefault(),n.fakerNode){var t=n.clientToLocalPoint({x:e.clientX,y:e.clientY}),r=t.x,o=t.y;n.fakerNode.moveTo(r,o);var i=n.fakerNode.getData();n.lf.setNodeSnapLine(i),n.lf.eventCenter.emit(la.NODE_DND_DRAG,{data:i})}return!1})),Yp(this,"onDragLeave",(function(){n.fakerNode&&(n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null)})),Yp(this,"onDrop",(function(e){if(n.lf.graphModel&&e&&n.nodeConfig){var t=n.lf.addNode(Xp(Xp({},n.nodeConfig),n.clientToLocalPoint({x:e.clientX,y:e.clientY})));e.preventDefault(),e.stopPropagation(),n.nodeConfig=null,n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null;var r=t.getData();n.lf.eventCenter.emit(la.NODE_DND_ADD,{data:r})}}));var r=t.options,o=t.lf;this.lf=o,this.options=r}var t,n,r;return t=e,(n=[{key:"clientToLocalPoint",value:function(e){var t=e.x,n=e.y,r=bi(this.lf.options,["grid","size"]),o=this.lf.graphModel.getPointByClient({x:t,y:n}).canvasOverlayPosition,i=o.x,a=o.y;return{x:Cc(i,r),y:Cc(a,r)}}},{key:"startDrag",value:function(e){this.nodeConfig=e,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Hp(t.prototype,n),r&&Hp(t,r),e}();function Wp(e){var t=e.container,n=e.grid;if(!t)throw new Error("\u8bf7\u68c0\u67e5 container \u53c2\u6570\u662f\u5426\u6709\u6548");return n&&(e.grid=Wi({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Wi({},qp,e)}var Kp,Zp,qp={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function $p(e){return($p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Jp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ed(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function td(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(n),!0).forEach((function(t){sd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ed(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rd(e,t,n){return(rd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ud(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function od(e,t){return(od=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function id(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ud(e);if(t){var o=ud(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ad(this,n)}}function ad(e,t){if(t&&("object"===$p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cd(e)}function cd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ud(e){return(ud=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ld(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var fd,pd,dd,hd,yd,vd,bd,gd,md,Od,xd,wd,_d,jd,Ed,Sd,Pd,Ad,kd,Nd,Md,Dd,Td,Cd,Id,Rd,Ld=(Zp=ld((Kp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&od(e,t)}(i,e);var t,n,r,o=id(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),sd(cd(n=o.call(this,e,t,"bezier")),"modelType",ua.BEZIER_EDGE),sd(cd(n),"offset",kc.bezier.offset),function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(cd(n),"path",Zp,cd(n)),n}return t=i,(n=[{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var e=0,t=0;return this.pointsList.forEach((function(n){var r=n.x,o=n.y;e+=r,t+=o})),{x:e/this.pointsList.length,y:t/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var e=rd(ud(i.prototype),"getData",this).call(this),t=this.pointsList.map((function(e){return{x:e.x,y:e.y}}));return td(td({},e),{},{pointsList:t})}},{key:"getControls",value:function(){var e=this.startPoint,t=this.endPoint;return rl({start:e,end:t,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(e){var t=Qp(e,4),n=t[0],r=t[1],o=t[2],i=t[3];return"M ".concat(n.x," ").concat(n.y,"\n    C ").concat(r.x," ").concat(r.y,",\n    ").concat(o.x," ").concat(o.y,",\n    ").concat(i.x," ").concat(i.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var e={x:this.startPoint.x,y:this.startPoint.y},t={x:this.endPoint.x,y:this.endPoint.y},n=this.getControls(),r=n.sNext,o=n.ePre;this.pointsList=[e,r,o,t],this.path=this.getPath(this.pointsList)}},{key:"updatePath",value:function(){var e={x:this.startPoint.x,y:this.startPoint.y},t={x:this.endPoint.x,y:this.endPoint.y},n=Qp(this.pointsList,3),r=n[1],o=n[2];this.pointsList=[e,r,o,t],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(e){this.startPoint=e,this.updatePath()}},{key:"updateEndPoint",value:function(e){this.endPoint=e,this.updatePath()}},{key:"updateAdjustAnchor",value:function(e,t){"sNext"===t?this.pointsList[1]=e:"ePre"===t&&(this.pointsList[2]=e),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var e=this.pointsList;return e[e.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(e){var t=e.startPoint,n=e.endPoint,r=e.sourceNode,o=e.targetNode,i=rl({start:t,end:n,sourceNode:r,targetNode:o,offset:this.offset}),a=i.sNext,c=i.ePre;this.pointsList=[t,a,c,n],this.initPoints()}}])&&nd(t.prototype,n),r&&nd(t,r),i}(es)).prototype,"path",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ld(Kp.prototype,"initPoints",[f.i],Object.getOwnPropertyDescriptor(Kp.prototype,"initPoints"),Kp.prototype),ld(Kp.prototype,"updatePoints",[f.i],Object.getOwnPropertyDescriptor(Kp.prototype,"updatePoints"),Kp.prototype),ld(Kp.prototype,"updatePath",[f.i],Object.getOwnPropertyDescriptor(Kp.prototype,"updatePath"),Kp.prototype),ld(Kp.prototype,"updateStartPoint",[f.i],Object.getOwnPropertyDescriptor(Kp.prototype,"updateStartPoint"),Kp.prototype),ld(Kp.prototype,"updateEndPoint",[f.i],Object.getOwnPropertyDescriptor(Kp.prototype,"updateEndPoint"),Kp.prototype),ld(Kp.prototype,"updateAdjustAnchor",[f.i],Object.getOwnPropertyDescriptor(Kp.prototype,"updateAdjustAnchor"),Kp.prototype),ld(Kp.prototype,"getAdjustStart",[f.i],Object.getOwnPropertyDescriptor(Kp.prototype,"getAdjustStart"),Kp.prototype),ld(Kp.prototype,"getAdjustEnd",[f.i],Object.getOwnPropertyDescriptor(Kp.prototype,"getAdjustEnd"),Kp.prototype),ld(Kp.prototype,"updateAfterAdjustStartAndEnd",[f.i],Object.getOwnPropertyDescriptor(Kp.prototype,"updateAfterAdjustStartAndEnd"),Kp.prototype),Kp);function zd(e){return(zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bd(Object(n),!0).forEach((function(t){Yd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fd(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ud(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ud(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Ud(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xd(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Hd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vd(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}n(39);var Wd,Kd,Zd=Wi({x:0,y:0,zIndex:1,text:{value:"",x:0,y:0,draggable:!1,editable:!0},hideOutline:!1},kc.rect,kc.circle),qd=(pd=Vd((fd=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Yd(this,"id",Kc()),Yd(this,"BaseType",sa.NODE),Yd(this,"modelType",ua.NODE),Yd(this,"additionStateData",void 0),Yd(this,"targetRules",[]),Yd(this,"sourceRules",[]),Yd(this,"moveRules",[]),Yd(this,"hasSetTargetRules",!1),Yd(this,"hasSetSourceRules",!1),Xd(this,"properties",pd,this),Xd(this,"type",dd,this),Xd(this,"x",hd,this),Xd(this,"y",yd,this),Xd(this,"_width",vd,this),Yd(this,"graphModel",void 0),Xd(this,"_height",bd,this),Xd(this,"fill",gd,this),Xd(this,"fillOpacity",md,this),Xd(this,"strokeWidth",Od,this),Xd(this,"stroke",xd,this),Xd(this,"strokeOpacity",wd,this),Xd(this,"opacity",_d,this),Xd(this,"outlineColor",jd,this),Xd(this,"hideOutline",Ed,this),Xd(this,"hoverOutlineColor",Sd,this),Xd(this,"outlineStrokeDashArray",Pd,this),Xd(this,"hoverOutlineStrokeDashArray",Ad,this),Xd(this,"isSelected",kd,this),Xd(this,"isHovered",Nd,this),Xd(this,"isHitable",Md,this),Xd(this,"zIndex",Dd,this),Xd(this,"anchorsOffset",Td,this),Xd(this,"state",Cd,this),Xd(this,"text",Id,this),Xd(this,"draggable",Rd,this),this.graphModel=n,this.setStyleFromTheme(r,n),this.initNodeData(t),this.setAttributes()}var t,n,r;return t=e,(n=[{key:"width",get:function(){return this._width},set:function(e){this._width=e}},{key:"height",get:function(){return this._height},set:function(e){this._height=e}},{key:"initNodeData",value:function(e){if(e.properties||(e.properties={}),!e.id){var t=this.graphModel.idGenerator,n=t&&t(e.type);n&&(e.id=n);var r=this.createId();r&&(e.id=r)}this.formatText(e),Wi(this,function(e){return ta(e,["id","type","x","y","text","properties"])}(e)),this.graphModel.overlapMode===pa.INCREASE&&(this.zIndex=e.zIndex||Yu())}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(e){e.text||(e.text={value:"",x:e.x,y:e.y,draggable:!1,editable:!0}),e.text&&"string"==typeof e.text?e.text={value:e.text,x:e.x,y:e.y,draggable:!1,editable:!0}:e.text&&void 0===e.text.editable&&(e.text.editable=!0)}},{key:"setAttributes",value:function(){}},{key:"getData",value:function(){var e=this.text,t=e.x,n=e.y,r=e.value,o=this.properties;Object(f.v)(o)&&(o=Object(f.G)(o));var i={id:this.id,type:this.type,x:this.x,y:this.y,properties:o};return this.graphModel.overlapMode===pa.INCREASE&&(i.zIndex=this.zIndex),r&&(i.text={x:t,y:n,value:r}),i}},{key:"getProperties",value:function(){return Object(f.G)(this.properties)}},{key:"isAllowConnectedAsSource",value:function(e,t,n){var r=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var o,i=!0,a=0;a<r.length;a++){var c=r[a];if(!c.validate.call(this,this,e,t,n)){i=!1,o=c.message;break}}return{isAllPass:i,msg:o}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(e,t,n){var r=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var o,i=!0,a=0;a<r.length;a++){var c=r[a];if(!c.validate.call(this,e,this,t,n)){i=!1,o=c.message;break}}return{isAllPass:i,msg:o}}},{key:"isAllowMoveNode",value:function(e,t){var n,r=Fd(this.moveRules);try{for(r.s();!(n=r.n()).done;)if(!(0,n.value)(this,e,t))return!1}catch(e){r.e(e)}finally{r.f()}var o,i=Fd(this.graphModel.nodeMoveRules);try{for(i.s();!(o=i.n()).done;)if(!(0,o.value)(this,e,t))return!1}catch(e){i.e(e)}finally{i.f()}return!0}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var e=this.anchorsOffset,t=this.x,n=this.y,r=this.id;return e.map((function(e,o){return e.length?{id:"".concat(r,"_").concat(o),x:t+e[0],y:n+e[1]}:Gd(Gd({},e),{},{x:t+e.x,y:n+e.y,id:e.id||"".concat(r,"_").concat(o)})}))}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var e=this.anchorsOffset;return e&&e.length>0?this.getAnchorsByOffset():[]}},{key:"addNodeMoveRules",value:function(e){this.moveRules.includes(e)||this.moveRules.push(e)}},{key:"move",value:function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.isAllowMoveNode(e,t)){var n=this.x+e,r=this.y+t;this.x=n,this.y=r,this.text&&this.moveText(e,t)}}},{key:"moveTo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e-this.x,o=t-this.y;(n||this.isAllowMoveNode(r,o))&&(this.text&&this.text&&this.moveText(r,o),this.x=e,this.y=t)}},{key:"moveText",value:function(e,t){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable,c=n.editable;this.text={value:i,editable:c,draggable:a,x:r+e,y:o+t}}},{key:"updateText",value:function(e){this.text.value=e}},{key:"setSelected",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=e}},{key:"setHovered",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=e}},{key:"setHitable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=e}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"updateStroke",value:function(e){this.stroke=e}},{key:"updateData",value:function(e){var t=Uu(ta(e,"type","x","y","text","properties")),n=this.text,r=n.x,o=n.y,i=n.draggable,a=n.editable;if(t.text&&"string"==typeof t.text)t.text={x:r,y:o,value:t.text,draggable:i,editable:a};else if("object"===zd(t.text)){var c=Gd(Gd({},this.text),t.text);t.text=ta(c,"x","y","value","draggable","editable")}Wi(this,t)}},{key:"setProperty",value:function(e,t){this.properties=Gd(Gd({},this.properties),{},Yd({},e,Uu(t))),this.setAttributes()}},{key:"setProperties",value:function(e){this.properties=Gd(Gd({},this.properties),Uu(e)),this.setAttributes()}},{key:"setStyleFromTheme",value:function(e,t){var n=t.theme;n[e]&&Wi(this,n[e])}},{key:"setZIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zd.zIndex;this.zIndex=e}},{key:"updateAttributes",value:function(e){Wi(this,e)}}])&&Hd(t.prototype,n),r&&Hd(t,r),e}()).prototype,"properties",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),dd=Vd(fd.prototype,"type",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),hd=Vd(fd.prototype,"x",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zd.x}}),yd=Vd(fd.prototype,"y",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zd.y}}),vd=Vd(fd.prototype,"_width",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zd.width}}),bd=Vd(fd.prototype,"_height",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zd.height}}),gd=Vd(fd.prototype,"fill",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zd.fill}}),md=Vd(fd.prototype,"fillOpacity",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zd.fillOpacity}}),Od=Vd(fd.prototype,"strokeWidth",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zd.strokeWidth}}),xd=Vd(fd.prototype,"stroke",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zd.stroke}}),wd=Vd(fd.prototype,"strokeOpacity",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zd.strokeOpacity}}),_d=Vd(fd.prototype,"opacity",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zd.opacity}}),jd=Vd(fd.prototype,"outlineColor",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zd.outlineColor}}),Ed=Vd(fd.prototype,"hideOutline",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zd.hideOutline}}),Sd=Vd(fd.prototype,"hoverOutlineColor",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zd.hoverOutlineColor}}),Pd=Vd(fd.prototype,"outlineStrokeDashArray",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zd.outlineStrokeDashArray}}),Ad=Vd(fd.prototype,"hoverOutlineStrokeDashArray",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zd.hoverOutlineStrokeDashArray}}),kd=Vd(fd.prototype,"isSelected",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nd=Vd(fd.prototype,"isHovered",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Md=Vd(fd.prototype,"isHitable",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Dd=Vd(fd.prototype,"zIndex",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zd.zIndex}}),Td=Vd(fd.prototype,"anchorsOffset",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Cd=Vd(fd.prototype,"state",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Id=Vd(fd.prototype,"text",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zd.text}}),Rd=Vd(fd.prototype,"draggable",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Vd(fd.prototype,"addNodeMoveRules",[f.i],Object.getOwnPropertyDescriptor(fd.prototype,"addNodeMoveRules"),fd.prototype),Vd(fd.prototype,"move",[f.i],Object.getOwnPropertyDescriptor(fd.prototype,"move"),fd.prototype),Vd(fd.prototype,"moveTo",[f.i],Object.getOwnPropertyDescriptor(fd.prototype,"moveTo"),fd.prototype),Vd(fd.prototype,"moveText",[f.i],Object.getOwnPropertyDescriptor(fd.prototype,"moveText"),fd.prototype),Vd(fd.prototype,"updateText",[f.i],Object.getOwnPropertyDescriptor(fd.prototype,"updateText"),fd.prototype),Vd(fd.prototype,"setSelected",[f.i],Object.getOwnPropertyDescriptor(fd.prototype,"setSelected"),fd.prototype),Vd(fd.prototype,"setHovered",[f.i],Object.getOwnPropertyDescriptor(fd.prototype,"setHovered"),fd.prototype),Vd(fd.prototype,"setHitable",[f.i],Object.getOwnPropertyDescriptor(fd.prototype,"setHitable"),fd.prototype),Vd(fd.prototype,"setElementState",[f.i],Object.getOwnPropertyDescriptor(fd.prototype,"setElementState"),fd.prototype),Vd(fd.prototype,"updateStroke",[f.i],Object.getOwnPropertyDescriptor(fd.prototype,"updateStroke"),fd.prototype),Vd(fd.prototype,"updateData",[f.i],Object.getOwnPropertyDescriptor(fd.prototype,"updateData"),fd.prototype),Vd(fd.prototype,"setProperty",[f.i],Object.getOwnPropertyDescriptor(fd.prototype,"setProperty"),fd.prototype),Vd(fd.prototype,"setProperties",[f.i],Object.getOwnPropertyDescriptor(fd.prototype,"setProperties"),fd.prototype),Vd(fd.prototype,"setStyleFromTheme",[f.i],Object.getOwnPropertyDescriptor(fd.prototype,"setStyleFromTheme"),fd.prototype),Vd(fd.prototype,"setZIndex",[f.i],Object.getOwnPropertyDescriptor(fd.prototype,"setZIndex"),fd.prototype),Vd(fd.prototype,"updateAttributes",[f.i],Object.getOwnPropertyDescriptor(fd.prototype,"updateAttributes"),fd.prototype),fd);function $d(e){return($d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jd(e,t){return(Jd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rh(e);if(t){var o=rh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return th(this,n)}}function th(e,t){if(t&&("object"===$d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nh(e)}function nh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rh(e){return(rh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oh(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var ih,ah,ch,uh=(Kd=oh((Wd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jd(e,t)}(i,e);var t,n,r,o=eh(i);function i(e,t){var n,r,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r=nh(n=o.call(this,e,t,"circle")),a="modelType",c=ua.CIRCLE_NODE,a in r?Object.defineProperty(r,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[a]=c,function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(nh(n),"r",Kd,nh(n)),n}return t=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"anchors",get:function(){var e=this.anchorsOffset,t=this.x,n=this.y,r=this.r;return e&&e.length>0?this.getAnchorsByOffset():[{x:t,y:n-r,id:"".concat(this.id,"_0")},{x:t+r,y:n,id:"".concat(this.id,"_1")},{x:t,y:n+r,id:"".concat(this.id,"_2")},{x:t-r,y:n,id:"".concat(this.id,"_3")}]}}])&&Qd(t.prototype,n),r&&Qd(t,r),i}(qd)).prototype,"r",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kc.circle.r}}),oh(Wd.prototype,"width",[f.k],Object.getOwnPropertyDescriptor(Wd.prototype,"width"),Wd.prototype),oh(Wd.prototype,"height",[f.k],Object.getOwnPropertyDescriptor(Wd.prototype,"height"),Wd.prototype),oh(Wd.prototype,"anchors",[f.k],Object.getOwnPropertyDescriptor(Wd.prototype,"anchors"),Wd.prototype),Wd);function sh(e){return(sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ph(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ph(Object(n),!0).forEach((function(t){wh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ph(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hh(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function yh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vh(e,t,n){return(vh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xh(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function bh(e,t){return(bh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xh(e);if(t){var o=xh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mh(this,n)}}function mh(e,t){if(t&&("object"===sh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oh(e)}function Oh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xh(e){return(xh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _h(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}n(103);var jh,Eh,Sh,Ph=(ah=_h((ih=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bh(e,t)}(i,e);var t,n,r,o=gh(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),wh(Oh(n=o.call(this,e,t,"diamond")),"modelType",ua.DIAMOND_NODE),hh(Oh(n),"rx",ah,Oh(n)),hh(Oh(n),"ry",ch,Oh(n)),n}return t=i,(n=[{key:"getData",value:function(){var e=this.rx,t=this.ry;return dh(dh({},vh(xh(i.prototype),"getData",this).call(this)),{},{rx:e,ry:t})}},{key:"points",get:function(){var e=this.x,t=this.y,n=this.rx,r=this.ry;return[[e,t-r],[e+n,t],[e,t+r],[e-n,t]]}},{key:"pointsPosition",get:function(){return this.points.map((function(e){return{x:e[0],y:e[1]}}))}},{key:"width",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=lh(n,1)[0];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"height",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=lh(n,2)[1];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"anchors",get:function(){var e=this,t=this.anchorsOffset,n=this.points;return t&&t.length>0?this.getAnchorsByOffset():n.map((function(t,n){var r=lh(t,2);return{x:r[0],y:r[1],id:"".concat(e.id,"_").concat(n)}}))}}])&&yh(t.prototype,n),r&&yh(t,r),i}(qd)).prototype,"rx",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ch=_h(ih.prototype,"ry",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_h(ih.prototype,"points",[f.k],Object.getOwnPropertyDescriptor(ih.prototype,"points"),ih.prototype),_h(ih.prototype,"pointsPosition",[f.k],Object.getOwnPropertyDescriptor(ih.prototype,"pointsPosition"),ih.prototype),_h(ih.prototype,"width",[f.k],Object.getOwnPropertyDescriptor(ih.prototype,"width"),ih.prototype),_h(ih.prototype,"height",[f.k],Object.getOwnPropertyDescriptor(ih.prototype,"height"),ih.prototype),_h(ih.prototype,"anchors",[f.k],Object.getOwnPropertyDescriptor(ih.prototype,"anchors"),ih.prototype),ih);function Ah(e){return(Ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kh(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Nh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mh(e,t){return(Mh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ih(e);if(t){var o=Ih(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Th(this,n)}}function Th(e,t){if(t&&("object"===Ah(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ch(e)}function Ch(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ih(e){return(Ih=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rh(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Lh,zh,Bh=(Eh=Rh((jh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mh(e,t)}(i,e);var t,n,r,o=Dh(i);function i(e,t){var n,r,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r=Ch(n=o.call(this,e,t,"ellipse")),a="modelType",c=ua.ELLIPSE_NODE,a in r?Object.defineProperty(r,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[a]=c,kh(Ch(n),"rx",Eh,Ch(n)),kh(Ch(n),"ry",Sh,Ch(n)),n}return t=i,(n=[{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"anchors",get:function(){var e=this.anchorsOffset,t=this.x,n=this.y,r=this.rx,o=this.ry;return e&&e.length>0?this.getAnchorsByOffset():[{x:t,y:n-o,id:"".concat(this.id,"_0")},{x:t+r,y:n,id:"".concat(this.id,"_1")},{x:t,y:n+o,id:"".concat(this.id,"_2")},{x:t-r,y:n,id:"".concat(this.id,"_3")}]}}])&&Nh(t.prototype,n),r&&Nh(t,r),i}(qd)).prototype,"rx",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kc.ellipse.rx}}),Sh=Rh(jh.prototype,"ry",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kc.ellipse.ry}}),Rh(jh.prototype,"width",[f.k],Object.getOwnPropertyDescriptor(jh.prototype,"width"),jh.prototype),Rh(jh.prototype,"height",[f.k],Object.getOwnPropertyDescriptor(jh.prototype,"height"),jh.prototype),Rh(jh.prototype,"anchors",[f.k],Object.getOwnPropertyDescriptor(jh.prototype,"anchors"),jh.prototype),jh);function Gh(e){return(Gh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Uh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hh(e,t){return(Hh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kh(e);if(t){var o=Kh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vh(this,n)}}function Vh(e,t){if(t&&("object"===Gh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wh(e)}function Wh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kh(e){return(Kh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zh(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var qh,$h,Qh=(zh=Zh((Lh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hh(e,t)}(i,e);var t,n,r,o=Yh(i);function i(e,t){var n,r,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r=Wh(n=o.call(this,e,t,"polygon")),a="modelType",c=ua.POLYGON_NODE,a in r?Object.defineProperty(r,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[a]=c,function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(Wh(n),"points",zh,Wh(n)),n}return t=i,(n=[{key:"pointsPosition",get:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return this.points.map((function(o){return{x:o[0]+e-n/2,y:o[1]+t-r/2}}))}},{key:"width",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=Fh(n,1)[0];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"height",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=Fh(n,2)[1];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"anchors",get:function(){var e=this,t=this.anchorsOffset,n=this.x,r=this.y,o=this.width,i=this.height,a=this.points;return t&&t.length>0?this.getAnchorsByOffset():a.map((function(t,a){var c=Fh(t,2),u=c[0],s=c[1];return{x:n+u-o/2,y:r+s-i/2,id:"".concat(e.id,"_").concat(a)}}))}}])&&Xh(t.prototype,n),r&&Xh(t,r),i}(qd)).prototype,"points",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Zh(Lh.prototype,"pointsPosition",[f.k],Object.getOwnPropertyDescriptor(Lh.prototype,"pointsPosition"),Lh.prototype),Zh(Lh.prototype,"width",[f.k],Object.getOwnPropertyDescriptor(Lh.prototype,"width"),Lh.prototype),Zh(Lh.prototype,"height",[f.k],Object.getOwnPropertyDescriptor(Lh.prototype,"height"),Lh.prototype),Zh(Lh.prototype,"anchors",[f.k],Object.getOwnPropertyDescriptor(Lh.prototype,"anchors"),Lh.prototype),Lh);function Jh(e){return(Jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ey(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ty(e,t){return(ty=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ny(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=iy(e);if(t){var o=iy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ry(this,n)}}function ry(e,t){if(t&&("object"===Jh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oy(e)}function oy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iy(e){return(iy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ay(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var cy,uy,sy,ly,fy=($h=ay((qh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ty(e,t)}(i,e);var t,n,r,o=ny(i);function i(e,t){var n,r,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r=oy(n=o.call(this,e,t,"rect")),a="modelType",c=ua.RECT_NODE,a in r?Object.defineProperty(r,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[a]=c,function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(oy(n),"radius",$h,oy(n)),n}return t=i,(n=[{key:"anchors",get:function(){var e=this.anchorsOffset,t=this.x,n=this.y,r=this.width,o=this.height;return e&&e.length>0?this.getAnchorsByOffset():[{x:t,y:n-o/2,id:"".concat(this.id,"_0")},{x:t+r/2,y:n,id:"".concat(this.id,"_1")},{x:t,y:n+o/2,id:"".concat(this.id,"_2")},{x:t-r/2,y:n,id:"".concat(this.id,"_3")}]}}])&&ey(t.prototype,n),r&&ey(t,r),i}(qd)).prototype,"radius",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kc.rect.radius}}),ay(qh.prototype,"anchors",[f.k],Object.getOwnPropertyDescriptor(qh.prototype,"anchors"),qh.prototype),qh);function py(e){return(py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dy(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function hy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yy(e,t){return(yy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=my(e);if(t){var o=my(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return by(this,n)}}function by(e,t){if(t&&("object"===py(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gy(e)}function gy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function my(e){return(my=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oy(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var xy,wy=(uy=Oy((cy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yy(e,t)}(i,e);var t,n,r,o=vy(i);function i(e,t){var n,r,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r=gy(n=o.call(this,e,t,"text")),a="modelType",c=ua.TEXT_NODE,a in r?Object.defineProperty(r,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[a]=c,dy(gy(n),"fontSize",uy,gy(n)),dy(gy(n),"fontFamily",sy,gy(n)),dy(gy(n),"fontWeight",ly,gy(n)),n}return t=i,(n=[{key:"width",get:function(){var e=String(this.text.value).split(/[\r\n]/g),t=Gu({rows:e,fontSize:this.fontSize,rowsLength:e.length}).width;return t>100?t:100}},{key:"height",get:function(){var e=String(this.text.value).split(/[\r\n]/g),t=Gu({rows:e,fontSize:this.fontSize,rowsLength:e.length}).height;return t>20?t:20}}])&&hy(t.prototype,n),r&&hy(t,r),i}(qd)).prototype,"fontSize",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kc.text.fontSize}}),sy=Oy(cy.prototype,"fontFamily",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kc.text.fontFamily}}),ly=Oy(cy.prototype,"fontWeight",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kc.text.fontWeight}}),Oy(cy.prototype,"width",[f.k],Object.getOwnPropertyDescriptor(cy.prototype,"width"),cy.prototype),Oy(cy.prototype,"height",[f.k],Object.getOwnPropertyDescriptor(cy.prototype,"height"),cy.prototype),cy);function _y(e){return(_y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ey(e,t){return(Ey=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ky(e);if(t){var o=ky(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Py(this,n)}}function Py(e,t){if(t&&("object"===_y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ay(e)}function Ay(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ky(e){return(ky=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ny,My,Dy,Ty,Cy=(function(e,t,n,r,o){var i={};Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((xy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ey(e,t)}(i,e);var t,n,r,o=Sy(i);function i(e,t){var n,r,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r=Ay(n=o.call(this,e,t,"html")),a="modelType",c=ua.HTML_NODE,a in r?Object.defineProperty(r,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[a]=c,n}return t=i,(n=[{key:"anchors",get:function(){var e=this.anchorsOffset,t=this.x,n=this.y,r=this.width,o=this.height;return e&&e.length>0?this.getAnchorsByOffset():[{x:t,y:n-o/2,id:"".concat(this.id,"_0")},{x:t+r/2,y:n,id:"".concat(this.id,"_1")},{x:t,y:n+o/2,id:"".concat(this.id,"_2")},{x:t-r/2,y:n,id:"".concat(this.id,"_3")}]}}])&&jy(t.prototype,n),r&&jy(t,r),i}(qd)).prototype,"anchors",[f.k],Object.getOwnPropertyDescriptor(xy.prototype,"anchors"),xy.prototype),xy);function Iy(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ry(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ly(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var zy=kc.snapline,By=(My=Ly((Ny=function(){function e(t){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=void 0,(r="graphModel")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,Iy(this,"isShowHorizontal",My,this),Iy(this,"isShowVertical",Dy,this),Iy(this,"position",Ty,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=t}var t,n,r;return t=e,(n=[{key:"stroke",get:function(){return this.graphModel.theme.snapline.stroke||zy.stroke}},{key:"strokeWidth",get:function(){return this.graphModel.theme.snapline.strokeWidth||zy.strokeWidth}},{key:"getCenterSnapLine",value:function(e,t){for(var n=e.x,r=e.y,o=!1,i=!1,a=0;a<t.length;a++){var c=t[a];if(c.id!==e.id&&(n===c.x&&(o=!0),r===c.y&&(i=!0),o&&i))break}return{isShowVertical:o,isShowHorizontal:i,position:{x:n,y:r}}}},{key:"getHorizontalSnapline",value:function(e,t){var n,r,o=!1,i=e.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)r=Du(a);else{var c=this.graphModel.getNodeModel(i);r=Du(c)}}for(var u=0;u<t.length;u++){var s=t[u];if(s.id!==e.id){var l=Du(s);if(l.minY===r.minY||l.maxY===r.minY){o=!0,n=r.minY;break}if(l.minY===r.maxY||l.maxY===r.maxY){o=!0,n=r.maxY;break}}}return Wi({isShowHorizontal:o,position:{y:n}})}},{key:"getVerticalSnapline",value:function(e,t){var n,r,o=!1,i=e.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)r=Du(a);else{var c=this.graphModel.getNodeModel(i);r=Du(c)}}for(var u=0;u<t.length;u++){var s=t[u];if(s.id!==e.id){var l=Du(s);if(l.minX===r.minX||l.maxX===r.minX){o=!0,n=r.minX;break}if(l.minX===r.maxX||l.maxX===r.maxX){o=!0,n=r.maxX;break}}}return Wi({isShowVertical:o,position:{x:n}})}},{key:"getSnapLinePosition",value:function(e,t){var n=this.getCenterSnapLine(e,t),r=n.isShowHorizontal,o=n.isShowVertical;if(!r){var i=this.getHorizontalSnapline(e,t);i.isShowHorizontal&&(n.isShowHorizontal=i.isShowHorizontal,n.position.y=i.position.y)}if(!o){var a=this.getVerticalSnapline(e,t);a.isShowVertical&&(n.isShowVertical=a.isShowVertical,n.position.x=a.position.x)}return n}},{key:"setSnaplineInfo",value:function(e){var t=e.isShowHorizontal,n=e.isShowVertical,r=e.position;this.position=r,this.isShowHorizontal=t,this.isShowVertical=n}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(e){var t=this.graphModel.nodes,n=this.getSnapLinePosition(e,t);this.setSnaplineInfo(n)}}])&&Ry(t.prototype,n),r&&Ry(t,r),e}()).prototype,"isShowHorizontal",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dy=Ly(Ny.prototype,"isShowVertical",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ty=Ly(Ny.prototype,"position",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ly(Ny.prototype,"stroke",[f.k],Object.getOwnPropertyDescriptor(Ny.prototype,"stroke"),Ny.prototype),Ly(Ny.prototype,"strokeWidth",[f.k],Object.getOwnPropertyDescriptor(Ny.prototype,"strokeWidth"),Ny.prototype),Ly(Ny.prototype,"clearSnapline",[f.i],Object.getOwnPropertyDescriptor(Ny.prototype,"clearSnapline"),Ny.prototype),Ly(Ny.prototype,"setNodeSnapLine",[f.i],Object.getOwnPropertyDescriptor(Ny.prototype,"setNodeSnapLine"),Ny.prototype),Ny);function Gy(e){return(Gy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fy(){return(Fy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Uy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yy(e,t){return(Yy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zy(e);if(t){var o=Zy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wy(this,n)}}function Wy(e,t){if(t&&("object"===Gy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ky(e)}function Ky(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zy(e){return(Zy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yy(e,t)}(i,e);var t,n,r,o=Vy(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),qy(Ky(e=o.call(this)),"preTargetNode",void 0),qy(Ky(e),"dragHandler",void 0),qy(Ky(e),"sourceRuleResults",void 0),qy(Ky(e),"targetRuleResults",void 0),qy(Ky(e),"onDragStart",(function(){var t=e.props,n=t.x,r=t.y,o=t.nodeModel,i=t.graphModel,a=i.overlapMode;i.selectNodeById(o.id),a!==pa.INCREASE&&i.toFront(o.id),e.setState({startX:n,startY:r,endX:n,endY:r})})),qy(Ky(e),"onDraging",(function(t){var n=t.deltaX,r=t.deltaY,o=e.state,i=o.endX,a=o.endY,c=e.props,u=c.graphModel,s=c.nodeModel,l=u.transformMatrix,f=u.nodes,p=Uy(l.moveCanvasPointByHtml([i,a],n,r),2),d=p[0],h=p[1];e.setState({endX:d,endY:h,draging:!0});var y=Pu({x:i,y:a},f);if(y){var v=y.node;e.preTargetNode=v;var b=y.anchor.id,g="".concat(v.id,"_").concat(b);if(!e.targetRuleResults.has(g)){var m=e.props.anchorData,O=y.anchor,x=s.isAllowConnectedAsSource(v,m,O),w=v.isAllowConnectedAsTarget(s,m,O);e.sourceRuleResults.set(v.id,Fu(x)),e.targetRuleResults.set(g,Fu(w))}var _=e.sourceRuleResults.get(v.id).isAllPass,j=e.targetRuleResults.get(g).isAllPass;_&&j?v.setElementState(aa.ALLOW_CONNECT):v.setElementState(aa.NOT_ALLOW_CONNECT)}else e.preTargetNode&&e.preTargetNode.state!==aa.DEFAULT&&e.preTargetNode.setElementState(aa.DEFAULT)})),qy(Ky(e),"onDragEnd",(function(){e.checkEnd(),e.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),e.sourceRuleResults.clear(),e.targetRuleResults.clear()})),qy(Ky(e),"checkEnd",(function(){var t=e.props,n=t.graphModel,r=t.nodeModel,o=t.x,i=t.y,a=t.eventCenter,c=t.id,u=n.nodes,s=n.edgeType,l=e.state,f=l.endX,p=l.endY,d=l.draging,h=Pu({x:f,y:p},u);if(e.preTargetNode&&e.preTargetNode.state!==aa.DEFAULT&&e.preTargetNode.setElementState(aa.DEFAULT),d&&h&&h.node){var y=h.node,v=e.sourceRuleResults.get(y.id)||{},b=v.isAllPass,g=v.msg,m=h.anchor.id,O="".concat(y.id,"_").concat(m),x=e.targetRuleResults.get(O)||{},w=x.isAllPass,_=x.msg;if(b&&w)y.setElementState(aa.ALLOW_CONNECT),o===h.anchor.x&&i===h.anchor.y||n.createEdge({type:s,sourceNodeId:r.id,sourceAnchorId:c,startPoint:{x:o,y:i},targetNodeId:h.node.id,targetAnchorId:h.anchor.id,endPoint:{x:h.anchor.x,y:h.anchor.y}});else{var j=y.getData();a.emit(la.CONNECTION_NOT_ALLOWED,{data:j,msg:_||g})}}})),e.sourceRuleResults=new Map,e.targetRuleResults=new Map,e.state={startX:0,startY:0,endX:0,endY:0,draging:!1},e.dragHandler=dl({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd}),e}return t=i,(n=[{key:"isShowLine",value:function(){var e=this.state,t=e.startX,n=e.startY,r=e.endX,o=e.endY;return ku(t,n,r,o)>10}},{key:"render",value:function(){var e=this.state,t=e.startX,n=e.startY,r=e.endX,o=e.endY,i=this.props,a=i.x,c=i.y,u=i.style,s=i.edgeStyle;return b("g",{className:"lf-anchor"},b(cp,Fy({className:"lf-node-anchor-hover",x:a,y:c},i.hoverStyle,{onMouseDown:this.dragHandler})),b(cp,Fy({className:"lf-node-anchor",x:a,y:c},u,{onMouseDown:this.dragHandler})),this.isShowLine()&&b(If,Fy({x1:t,y1:n,x2:r,y2:o,"pointer-events":"none"},s)))}}])&&Hy(t.prototype,n),r&&Hy(t,r),i}(x);function Qy(e){return(Qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ev(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ev(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tv(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.value,a=e.color,c=void 0===a?"#000000":a,u=e.fontSize,s=e.fill,l=void 0===s?"currentColor":s,f=e.model,p=e.fontFamily,d=void 0===p?"":p,h=e.lineHeight,y=e.autoWrap,v=void 0!==y&&y,g=e.wrapPadding,m=void 0===g?"0, 0":g,O={textAnchor:"middle","dominant-baseline":"middle",x:n,y:o,fill:l};if(Object.entries(e).forEach((function(e){var t=Jy(e,2),n=t[0],r=t[1];"object"!==Qy(r)&&(O[n]=r)})),i){var x=String(i).split(/[\r\n]/g),w=x.length,_=f.BaseType,j=f.width,E=f.textWidth,S=f.textHeight,P=f.modelType;if(_===sa.NODE&&P!==ua.TEXT_NODE&&v||_===sa.EDGE&&v&&E){var A=E||j,k=Bu({rows:x,style:{fontSize:"".concat(u,"px"),width:"".concat(A,"px"),fontFamily:d,lineHeight:h,padding:m},rowsLength:w,className:"lf-get-text-height"}),N=f.height>k?f.height:k;return S&&(N=S),b("g",null,b("foreignObject",{width:A,height:N,x:O.x-A/2,y:O.y-N/2},b("div",{className:"lf-node-text-auto-wrap",style:{boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid transparent",minHeight:N,width:A,color:c,padding:m}},b("div",{className:"lf-node-text-auto-wrap-content",style:{fontSize:u,fontFamily:d,lineHeight:h,background:"transparent",textAlign:"center",wordBreak:"break-all"}},x.map((function(e){return b("div",null,e)}))))))}if(w>1){var M=x.map((function(e,t){return b("tspan",{className:"lf-text-tspan",x:n,y:o+(t-(w-1)/2)*(u+2)},e)}));return b("text",O,M)}return b("text",O,i)}}function nv(e){return(nv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rv(){return(rv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ov(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return iv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function av(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cv(e,t){return(cv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fv(e);if(t){var o=fv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sv(this,n)}}function sv(e,t){if(t&&("object"===nv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lv(e)}function lv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fv(e){return(fv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cv(e,t)}(i,e);var t,n,r,o=uv(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),pv(lv(t=o.call(this)),"dragHandler",void 0),pv(lv(t),"sumDeltaX",0),pv(lv(t),"sumDeltaY",0),pv(lv(t),"stepDrag",void 0),pv(lv(t),"onDraging",(function(e){var n=e.deltaX,r=e.deltaY,o=t.props,i=o.model,a=ov(o.graphModel.transformMatrix.fixDeltaXY(n,r),2),c=a[0],u=a[1];i.moveText(c,u)})),pv(lv(t),"dblClickHandler",(function(){t.props.editable&&t.props.model.setElementState(aa.TEXT_EDIT)})),pv(lv(t),"mouseDownHandle",(function(e){var n=t.props,r=n.draggable,o=n.graphModel.editConfig.nodeTextDraggable;(r||o)&&t.stepDrag.handleMouseDown(e)}));var n=e.model,r=e.draggable;return t.stepDrag=new Dl({onDraging:t.onDraging,step:1,model:n,isStopPropagation:r}),t}return t=i,(n=[{key:"getShape",value:function(){var e=this.props,t=e.model,n=e.style,r=t.text,o=r.value;return b(tv,rv({},{x:r.x,y:r.y,className:"lf-element-text",value:o},n,{model:t}))}},{key:"render",value:function(){if(this.props.model.text)return b("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&av(t.prototype,n),r&&av(t,r),i}(x),hv=null!==window.navigator.userAgent.match(/MSIE|Trident/);function yv(e){return(yv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vv(){return(vv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function bv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bv(Object(n),!0).forEach((function(t){Pv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ov(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ov(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ov(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wv(e,t){return(wv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sv(e);if(t){var o=Sv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jv(this,n)}}function jv(e,t){if(t&&("object"===yv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ev(e)}function Ev(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sv(e){return(Sv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Av=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wv(e,t)}(i,e);var t,n,r,o=_v(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Pv(Ev(t=o.call(this)),"stepDrag",void 0),Pv(Ev(t),"contextMenuTime",void 0),Pv(Ev(t),"startTime",void 0),Pv(Ev(t),"clickTimer",void 0),Pv(Ev(t),"onDraging",(function(e){var n=e.deltaX,r=e.deltaY,o=t.props,i=o.model,a=o.graphModel;t.state.isDraging||t.setState({isDraging:!0});var c=mv(a.transformMatrix.fixDeltaXY(n,r),2),u=c[0],s=c[1];a.moveNode(i.id,u,s)})),Pv(Ev(t),"onDragEnd",(function(){t.setState({isDraging:!1})})),Pv(Ev(t),"handleClick",(function(e){if(t.startTime&&!((new Date).getTime()-t.startTime>200)){var n=t.props,r=n.model,o=n.eventCenter,i=n.graphModel,a={data:r.getData(),e:e,position:i.getPointByClient({x:e.clientX,y:e.clientY})},c=2===e.button,u=2===e.detail;if(!c){var s=i.editConfig;i.selectNodeById(r.id,function(e,t){var n=t.multipleSelectKey;if(t.metaKeyMultipleSelected&&e.metaKey)return!0;var r=!1;switch(n){case"meta":r=e.metaKey;break;case"alt":r=e.altKey;break;case"shift":r=e.shiftKey;break;default:r=!1}return r}(e,s)),t.toFront(),u?(s.nodeTextEdit&&r.text.editable&&(r.setSelected(!1),i.setElementStateById(r.id,aa.TEXT_EDIT)),o.emit(la.NODE_DBCLICK,a)):(o.emit(la.ELEMENT_CLICK,a),o.emit(la.NODE_CLICK,a))}}})),Pv(Ev(t),"handleContextMenu",(function(e){e.preventDefault();var n=t.props,r=n.model,o=n.eventCenter,i=n.graphModel,a=r.getData(),c=i.getPointByClient({x:e.clientX,y:e.clientY});i.setElementStateById(r.id,aa.SHOW_MENU,c.domOverlayPosition),i.selectNodeById(r.id),o.emit(la.NODE_CONTEXTMENU,{data:a,e:e,position:c}),t.toFront()})),Pv(Ev(t),"handleMouseDown",(function(e){var n=t.props,r=n.model,o=n.graphModel;t.toFront(),t.startTime=(new Date).getTime(),o.editConfig.adjustNodePosition&&r.draggable&&t.stepDrag&&t.stepDrag.handleMouseDown(e)})),Pv(Ev(t),"setHoverON",(function(e){if(!t.state.isHovered){t.setState({isHovered:!0});var n=t.props,r=n.model,o=n.eventCenter,i=r.getData();r.setHovered(!0),o.emit(la.NODE_MOUSEENTER,{data:i,e:e})}})),Pv(Ev(t),"setHoverOFF",(function(e){t.setState({isHovered:!1});var n=t.props,r=n.model,o=n.eventCenter,i=r.getData();r.setHovered(!1),o.emit(la.NODE_MOUSELEAVE,{data:i,e:e})})),Pv(Ev(t),"onMouseOut",(function(e){hv&&t.setHoverOFF(e)}));var n=e.graphModel.gridSize,r=e.eventCenter,a=e.model;return t.stepDrag=new Dl({onDraging:t.onDraging,onDragEnd:t.onDragEnd,step:n,eventType:"NODE",eventCenter:r,model:a}),t.state={isDraging:!1,isHovered:!1},t}return t=i,r=[{key:"getModel",value:function(e){return e}}],(n=[{key:"getShapeStyle",value:function(){var e=this.props.model;return{width:e.width,height:e.height,fill:e.fill,fillOpacity:e.fillOpacity,strokeWidth:e.strokeWidth,stroke:e.stroke,strokeOpacity:e.strokeOpacity,opacity:e.opacity,outlineColor:e.outlineColor}}},{key:"getAttributes",value:function(){var e=this.props.model,t=e.id,n=e.properties,r=void 0===n?{}:n,o=e.type,i=e.x,a=e.y,c=e.isSelected,u=e.isHovered,s=e.text,l=this.getShapeStyle();return gv({id:t,properties:gv({},r),type:o,x:i,y:a,isSelected:c,isHovered:u,text:gv({},s)},l)}},{key:"getProperties",value:function(){return this.props.model.getProperties()}},{key:"getAnchorStyle",value:function(){return gv({},this.props.graphModel.theme.anchor)}},{key:"getAnchorHoverStyle",value:function(){return gv({},this.props.graphModel.theme.anchorHover)}},{key:"getNewEdgeStyle",value:function(){return gv({},this.props.graphModel.theme.anchorLine)}},{key:"getAnchors",value:function(){var e=this,t=this.props,n=t.model,r=t.graphModel,o=t.eventCenter,i=n.isSelected,a=n.isHitable,c=this.state,u=c.isHovered,s=c.isDraging;if(a&&(i||u)){var l=this.getAnchorStyle(),f=this.getAnchorHoverStyle(),p=this.getNewEdgeStyle();return Ni(n.anchors,(function(t,i){return b($y,vv({},t,{anchorData:t,nodeDraging:s,style:l,hoverStyle:f,edgeStyle:p,anchorIndex:i,nodeModel:n,eventCenter:o,graphModel:r,setHoverOFF:e.setHoverOFF}))}))}return[]}},{key:"getTextStyle",value:function(){return gv({},this.props.graphModel.theme.nodeText)}},{key:"getText",value:function(){var e=this.props,t=e.model,n=e.graphModel;if(t.state===aa.TEXT_EDIT)return"";var r=this.getTextStyle();if(t.text){var o=n.editConfig,i=!1;return(t.text.draggable||o.nodeTextDraggable)&&(i=!0),b(dv,{editable:o.nodeTextEdit&&t.text.editable,style:r,model:t,graphModel:n,draggable:i})}}},{key:"getStateClassName",value:function(){var e="lf-node";switch(this.props.model.state){case aa.ALLOW_CONNECT:e+=" lf-node-allow";break;case aa.NOT_ALLOW_CONNECT:e+=" lf-node-not-allow";break;default:e+=" lf-node-default"}return this.state.isDraging&&(e+=" lf-dragging"),e}},{key:"toFront",value:function(){var e=this.props,t=e.model,n=e.graphModel;n.overlapMode!==pa.INCREASE&&n.toFront(t.id)}},{key:"render",value:function(){var e,t=this.props,n=t.model,r=t.graphModel,o=r.editConfig,i=o.hideAnchors,a=o.adjustNodePosition,c=r.gridSize,u=r.transformMatrix.SCALE_X,s=n.isHitable,l=n.draggable,f=b("g",{className:"lf-node-content"},this.getShape(),this.getText(),i?null:this.getAnchors());return s?(a&&l&&this.stepDrag.setStep(c*u),e=b("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},f)):e=b("g",{className:this.getStateClassName()},f),e}}])&&xv(t.prototype,n),r&&xv(t,r),i}(x);function kv(e){return(kv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nv(Object(n),!0).forEach((function(t){Dv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iv(e,t,n){return(Iv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Bv(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Rv(e,t){return(Rv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bv(e);if(t){var o=Bv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zv(this,n)}}function zv(e,t){if(t&&("object"===kv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Bv(e){return(Bv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rv(e,t)}(i,e);var t,n,r,o=Lv(i);function i(){return Tv(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getShapeStyle",value:function(){var e=Iv(Bv(i.prototype),"getShapeStyle",this).call(this),t=this.props.model.radius;return Mv(Mv({},e),{},{radius:t})}},{key:"getAttributes",value:function(){var e=Iv(Bv(i.prototype),"getAttributes",this).call(this),t=this.getShapeStyle();return Mv(Mv({},e),t)}},{key:"getShape",value:function(){return b(Kf,this.getAttributes())}}])&&Cv(t.prototype,n),r&&Cv(t,r),i}(Av);function Fv(e){return(Fv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uv(Object(n),!0).forEach((function(t){Hv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wv(e,t,n){return(Wv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$v(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Kv(e,t){return(Kv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$v(e);if(t){var o=$v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qv(this,n)}}function qv(e,t){if(t&&("object"===Fv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $v(e){return($v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kv(e,t)}(i,e);var t,n,r,o=Zv(i);function i(){return Yv(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getShapeStyle",value:function(){var e=Wv($v(i.prototype),"getShapeStyle",this).call(this),t=this.props.model.r;return Xv(Xv({},e),{},{r:t})}},{key:"getAttributes",value:function(){var e=Wv($v(i.prototype),"getAttributes",this).call(this),t=this.getShapeStyle();return Xv(Xv({},e),t)}},{key:"getShape",value:function(){return b(cp,this.getAttributes())}}])&&Vv(t.prototype,n),r&&Vv(t,r),i}(Av);function Jv(e){return(Jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nb(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:"",className:"lf-basic-shape ".concat(n)};return Object.entries(e).forEach((function(e){var t=eb(e,2),n=t[0],o=t[1];"object"!==Jv(o)&&(r[n]=o)})),r.points=t.map((function(e){return e.join(",")})).join(" "),b("polygon",r)}function rb(e){return(rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ob(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ib(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ob(Object(n),!0).forEach((function(t){ab(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ob(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ab(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ub(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sb(e,t,n){return(sb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=db(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function lb(e,t){return(lb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=db(e);if(t){var o=db(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pb(this,n)}}function pb(e,t){if(t&&("object"===rb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function db(e){return(db=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lb(e,t)}(i,e);var t,n,r,o=fb(i);function i(){return cb(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getShapeStyle",value:function(){var e=sb(db(i.prototype),"getShapeStyle",this).call(this),t=this.props.model.points;return ib(ib({},e),{},{points:t})}},{key:"getAttributes",value:function(){var e=sb(db(i.prototype),"getAttributes",this).call(this),t=this.getShapeStyle();return ib(ib({},e),t)}},{key:"getShape",value:function(){var e=this.getAttributes(),t=e.width,n=e.height,r=e.x,o=e.y,i=e.fill,a=e.fillOpacity,c=e.strokeWidth,u=e.stroke,s=e.strokeOpacity,l=e.points;return b("g",{transform:"matrix(1 0 0 1 ".concat(r-t/2," ").concat(o-n/2,")")},b(nb,{fill:i,fillOpacity:a,strokeWidth:c,stroke:u,strokeOpacity:s,points:l}))}}])&&ub(t.prototype,n),r&&ub(t,r),i}(Av);function yb(e){return(yb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vb(Object(n),!0).forEach((function(t){gb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ob(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xb(e,t,n){return(xb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Eb(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function wb(e,t){return(wb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Eb(e);if(t){var o=Eb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jb(this,n)}}function jb(e,t){if(t&&("object"===yb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Eb(e){return(Eb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wb(e,t)}(i,e);var t,n,r,o=_b(i);function i(){return mb(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getShapeStyle",value:function(){var e=this.props.model.points;return bb(bb({},xb(Eb(i.prototype),"getShapeStyle",this).call(this)),{},{points:e})}},{key:"getAttributes",value:function(){var e=xb(Eb(i.prototype),"getAttributes",this).call(this),t=this.getShapeStyle();return bb(bb({},e),t)}},{key:"getShape",value:function(){var e=this.props.model.points,t=this.getAttributes();return b("g",null,b(nb,{fill:t.fill,fillOpacity:t.fillOpacity,strokeWidth:t.strokeWidth,stroke:t.stroke,strokeOpacity:t.strokeOpacity,points:e}))}}])&&Ob(t.prototype,n),r&&Ob(t,r),i}(Av);function Pb(e){return(Pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ab(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nb(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.rx,a=void 0===i?4:i,c=e.ry,u={cx:n,cy:o,rx:a,ry:void 0===c?4:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach((function(e){var t=Ab(e,2),n=t[0],r=t[1];"object"!==Pb(r)&&(u[n]=r)})),b("ellipse",u)}function Mb(e){return(Mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Db(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Db(Object(n),!0).forEach((function(t){Cb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Db(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ib(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lb(e,t,n){return(Lb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fb(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function zb(e,t){return(zb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fb(e);if(t){var o=Fb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gb(this,n)}}function Gb(e,t){if(t&&("object"===Mb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Fb(e){return(Fb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ub=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zb(e,t)}(i,e);var t,n,r,o=Bb(i);function i(){return Ib(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getAttributes",value:function(){var e=Lb(Fb(i.prototype),"getAttributes",this).call(this),t=this.props.model,n=t.rx,r=t.ry;return Tb(Tb({},e),{},{rx:n,ry:r})}},{key:"getShape",value:function(){return b(Nb,this.getAttributes())}}])&&Rb(t.prototype,n),r&&Rb(t,r),i}(Av);function Xb(e){return(Xb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hb(Object(n),!0).forEach((function(t){Vb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zb(e,t){return(Zb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qb(e);if(t){var o=Qb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $b(this,n)}}function $b(e,t){if(t&&("object"===Xb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Qb(e){return(Qb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zb(e,t)}(i,e);var t,n,r,o=qb(i);function i(){return Wb(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getBackgroud",value:function(){var e=this.getAttributes().text,t=this.getTextStyle();if(e&&e.value&&t.backgroundStyle&&"transparnet"!==t.backgroundStyle.fill){var n=t.fontSize,r=e.value,o=e.x,i=e.y,a=String(r).split(/[\r\n]/g),c=a.length,u=0;a&&a.forEach((function(e){var t=nl(e);u=t>u?t:u}));var s=Gu({rows:a,fontSize:n,rowsLength:c}),l=s.width,f=s.height;return b(Kf,Yb(Yb({},t.backgroundStyle),{},{x:o-1,y:i-1,width:l,height:f}))}}},{key:"getShape",value:function(){var e=this.getAttributes();return b("g",null,this.getBackgroud(),b(tv,e))}}])&&Kb(t.prototype,n),r&&Kb(t,r),i}(Av);function eg(e){return(eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ng(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rg(e,t){return(rg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function og(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cg(e);if(t){var o=cg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ig(this,n)}}function ig(e,t){if(t&&("object"===eg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ag(e)}function ag(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cg(e){return(cg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ug(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rg(e,t)}(i,e);var t,n,r,o=og(i);function i(){var e;tg(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ug(ag(e=o.call.apply(o,[this].concat(n))),"ref",void 0),ug(ag(e),"setRef",(function(t){e.ref=t})),e}return t=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(e){e.appendChild(document.createElement("div"))}},{key:"componentDidMount",value:function(){this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var e=this.getAttributes(),t=e.x,n=e.y,r=e.width,o=e.height;return b("foreignObject",{x:t-r/2,y:n-o/2,width:r,height:o,ref:this.setRef})}}])&&ng(t.prototype,n),r&&ng(t,r),i}(Av);function lg(e){return(lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dg(e){var t={d:""};return Object.entries(e).forEach((function(e){var n=fg(e,2),r=n[0],o=n[1];"object"!==lg(o)&&(t[r]=o)})),b("path",t)}dg.defaultProps={strokeDasharray:""};var hg=dg;function yg(e){return(yg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Og(e,t){return(Og=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_g(e);if(t){var o=_g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wg(this,n)}}function wg(e,t){if(t&&("object"===yg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _g(e){return(_g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Og(e,t)}(i,e);var t,n,r,o=xg(i);function i(){return gg(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getArrowAttibutes",value:function(){var e=this.props,t=e.arrowInfo,n=e.style,r=t.start,o=t.end,i={start:r,end:o,offset:n.offset,verticalLength:n.verticalLength,type:"end"},a=js(i),c=a.leftX,u=a.leftY,s=a.rightX,l=a.rightY;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vg(Object(n),!0).forEach((function(t){bg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({d:"M".concat(c," ").concat(u," L").concat(o.x," ").concat(o.y," L").concat(s," ").concat(l," z")},n)}},{key:"getShape",value:function(){var e=this.getArrowAttibutes(),t=e.d,n=e.strokeWidth,r=e.stroke,o=e.fill;return b(hg,{d:t,fill:o,strokeWidth:n,stroke:r})}},{key:"render",value:function(){return b("g",{className:"lf-arrow"},this.getShape())}}])&&mg(t.prototype,n),r&&mg(t,r),i}(x);function Eg(e){return(Eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sg(){return(Sg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ag(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pg(Object(n),!0).forEach((function(t){Ig(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ng(e,t){return(Ng=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cg(e);if(t){var o=Cg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dg(this,n)}}function Dg(e,t){if(t&&("object"===Eg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tg(e)}function Tg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cg(e){return(Cg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ig(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rg,Lg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ng(e,t)}(i,e);var t,n,r,o=Mg(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ig(Tg(t=o.call(this,e)),"setHoverON",(function(){t.setState({isHoverd:!0})})),Ig(Tg(t),"setHoverOFF",(function(){t.setState({isHoverd:!1})})),t.state={isHoverd:!1},t}return t=i,(n=[{key:"getBackgroud",value:function(){var e=this.props.model,t=this.props.style,n=e.text,r=e.textWidth,o=ta(t.background,"fill","stroke","radius","height");if(this.state.isHoverd&&t.hoverBackground&&(o=Ag(Ag({},o),t.hoverBackground)),n&&n.value&&"transparnet"!==o.fill){var i,a=t.fontSize,c=t.autoWrap,u=t.lineHeight,s=t.wrapPadding,l=n.value,f=n.x,p=n.y,d=String(l).split(/[\r\n]/g),h=d.length;if(c&&r){var y=Bu({rows:d,style:{fontSize:"".concat(a,"px"),width:"".concat(r,"px"),lineHeight:u,padding:s},rowsLength:h,className:"lf-get-text-height"});i=Ag(Ag({},o),{},{x:f-1,y:p-1,width:r,height:y})}else{var v=0;d&&d.forEach((function(e){var t=nl(e);v=t>v?t:v}));var g=Gu({rows:d,fontSize:a,rowsLength:h}),m=g.width,O=g.height;i=Ag(Ag({},o),{},{x:f-1,y:p-1,width:m,height:O})}return b(Kf,i)}}},{key:"getShape",value:function(){var e=this.props,t=e.model,n=e.style,r=t.text,o=r.value,i=Ag({x:r.x,y:r.y,className:"lf-element-text",value:o},n);return b("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),b(tv,Sg({},i,{model:t})))}}])&&kg(t.prototype,n),r&&kg(t,r),i}(dv);function zg(e){return(zg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bg(){return(Bg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Gg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gg(Object(n),!0).forEach((function(t){qg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ug(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yg(e,t){return(Yg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zg(e);if(t){var o=Zg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wg(this,n)}}function Wg(e,t){if(t&&("object"===zg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kg(e)}function Kg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zg(e){return(Zg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(Rg||(Rg={}));var $g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yg(e,t)}(i,e);var t,n,r,o=Vg(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),qg(Kg(e=o.call(this)),"dragHandler",void 0),qg(Kg(e),"oldEdge",void 0),qg(Kg(e),"onDragStart",(function(){var t=e.props,n=t.x,r=t.y,o=t.edgeModel,i=o.startPoint,a=o.endPoint,c=o.pointsList;e.oldEdge={startPoint:i,endPoint:a,pointsList:c},e.setState({endX:n,endY:r,draging:!0})})),qg(Kg(e),"onDraging",(function(t){var n=t.deltaX,r=t.deltaY,o=e.state,i=o.endX,a=o.endY,c=e.props,u=c.graphModel,s=c.type,l=Ug(u.transformMatrix.moveCanvasPointByHtml([i,a],n,r),2),f=l[0],p=l[1];e.setState({endX:f,endY:p,draging:!0});var d=e.props.edgeModel,h=u.nodes,y=Pu({x:i,y:a},h);if(y&&y.node){var v,b=d.startPoint,g=d.endPoint,m=d.sourceNode,O=d.targetNode;s===Rg.SOURCE?v={startPoint:{x:y.anchor.x,y:y.anchor.y},endPoint:{x:g.x,y:g.y},sourceNode:y.node,targetNode:O}:s===Rg.TARGET&&(v={startPoint:{x:b.x,y:b.y},endPoint:{x:y.anchor.x,y:y.anchor.y},sourceNode:m,targetNode:y.node}),d.updateAfterAdjustStartAndEnd(v)}else s===Rg.SOURCE?d.updateStartPoint({x:f,y:p}):s===Rg.TARGET&&d.updateEndPoint({x:f,y:p})})),qg(Kg(e),"onDragEnd",(function(){e.setState({draging:!1});var t=e.props,n=t.graphModel,r=t.edgeModel,o=t.type,i=t.eventCenter,a=n.nodes,c=e.state,u=c.endX,s=c.endY,l=c.draging,f=Pu({x:u,y:s},a);if(l)if(f&&f.node){var p,d=r.getData(),h=Fg(Fg({},d),{},{sourceAnchorId:"",targetAnchorId:"",text:(null==d||null===(p=d.text)||void 0===p?void 0:p.value)||""});o===Rg.SOURCE?h=Fg(Fg({},h),{},{sourceNodeId:f.node.id,sourceAnchorId:f.anchor.id,startPoint:{x:f.anchor.x,y:f.anchor.y},targetNodeId:r.targetNodeId,endPoint:Fg({},r.endPoint)}):o===Rg.TARGET&&(h=Fg(Fg({},h),{},{sourceNodeId:r.sourceNodeId,startPoint:Fg({},r.startPoint),targetNodeId:f.node.id,targetAnchorId:f.anchor.id,endPoint:{x:f.anchor.x,y:f.anchor.y}})),n.removeEdgeById(r.id);var y=n.createEdge(Fg({},h));i.emit(la.EDGE_EXCHANGE_NODE,{data:{newEdge:y.getData(),oldEdge:r.getData()}})}else e.recoveryEdge()})),qg(Kg(e),"recoveryEdge",(function(){var t=e.props.edgeModel,n=e.oldEdge,r=n.startPoint,o=n.endPoint,i=n.pointsList;t.updateStartPoint(r),t.updateEndPoint(o),t.modelType!==ua.LINE_EDGE&&(t.pointsList=i,t.initPoints())})),qg(Kg(e),"getAdjustPointStyle",(function(){return e.props.graphModel.theme.edgeAdjust})),e.state={draging:!1,endX:0,endY:0},e.dragHandler=dl({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd}),e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=this.state.draging;return b("g",null,b(cp,Bg({className:"lf-edge-adjust-point"},this.getAdjustPointStyle(),{x:t,y:n,onMouseDown:this.dragHandler,"pointer-events":r?"none":""})))}}])&&Hg(t.prototype,n),r&&Hg(t,r),i}(x);function Qg(e){return(Qg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jg(){return(Jg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?em(Object(n),!0).forEach((function(t){sm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function om(e,t){return(om=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function im(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=um(e);if(t){var o=um(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return am(this,n)}}function am(e,t){if(t&&("object"===Qg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cm(e)}function cm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function um(e){return(um=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&om(e,t)}(i,e);var t,n,r,o=im(i);function i(){var e;nm(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return sm(cm(e=o.call.apply(o,[this].concat(n))),"startTime",void 0),sm(cm(e),"contextMenuTime",void 0),sm(cm(e),"clickTimer",void 0),sm(cm(e),"handleHover",(function(t,n){var r=e.props,o=r.model,i=r.eventCenter;o.setHovered(t);var a=t?la.EDGE_MOUSEENTER:la.EDGE_MOUSELEAVE,c=o.getData();i.emit(a,{data:c,e:n})})),sm(cm(e),"setHoverON",(function(t){e.handleHover(!0,t)})),sm(cm(e),"setHoverOFF",(function(t){e.handleHover(!1,t)})),sm(cm(e),"handleContextMenu",(function(t){t.preventDefault(),e.contextMenuTime=(new Date).getTime(),e.clickTimer&&clearTimeout(e.clickTimer);var n=e.props,r=n.model,o=n.graphModel,i=n.eventCenter,a=o.getPointByClient({x:t.clientX,y:t.clientY});o.setElementStateById(r.id,aa.SHOW_MENU,a.domOverlayPosition),e.toFront(),o.selectEdgeById(r.id);var c=null==r?void 0:r.getData();i.emit(la.EDGE_CONTEXTMENU,{data:c,e:t,position:a})})),sm(cm(e),"handleMouseDown",(function(t){t.stopPropagation(),e.startTime=(new Date).getTime()})),sm(cm(e),"handleMouseUp",(function(t){if(e.startTime&&!((new Date).getTime()-e.startTime>200||2===t.button)){var n=2===t.detail,r=e.props,o=r.model,i=r.graphModel,a=r.eventCenter,c=null==o?void 0:o.getData(),u=i.getPointByClient({x:t.clientX,y:t.clientY});if(n){var s=i.editConfig,l=i.textEditElement;if(l&&l.id===o.id&&i.setElementStateById(o.id,aa.DEFAULT),s.edgeTextEdit&&o.text.editable&&i.setElementStateById(o.id,aa.TEXT_EDIT),o.modelType===ua.POLYLINE_EDGE){var f=o,p=i.getPointByClient({x:t.x,y:t.y}).canvasOverlayPosition,d=p.x,h=p.y,y=al({x:d,y:h},f.points);f.dbClickPosition=y}a.emit(la.EDGE_DBCLICK,{data:c,e:t,position:u})}else a.emit(la.ELEMENT_CLICK,{data:c,e:t,position:u}),a.emit(la.EDGE_CLICK,{data:c,e:t,position:u});var v=i.editConfig.metaKeyMultipleSelected;i.selectEdgeById(o.id,t.metaKey&&v),e.toFront()}})),sm(cm(e),"getIsDraging",(function(){return!1})),e}return t=i,(n=[{key:"getAttributes",value:function(){var e=this.props.model,t=e.strokeWidth,n=e.strokeOpacity,r=e.strokeDashArray,o=e.isSelected,i=e.isHovered,a=e.hoverStroke,c=e.selectedStroke,u=e.properties,s=this.props.model.stroke;return i?s=a:o&&(s=c),{stroke:s,strokeWidth:t,strokeOpacity:n,strokeDashArray:r,isSelected:o,isHovered:i,hoverStroke:a,selectedStroke:c,properties:tm({},u)}}},{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var e=this.props,t=e.model,n=e.graphModel;if(t.state===aa.TEXT_EDIT)return"";var r=n.theme.edgeText,o=this.getTextStyle(),i=Wi({},r,o),a=!1,c=n.editConfig;return(t.text.draggable||c.edgeTextDraggable)&&(a=!0),b(Lg,{editable:c.edgeTextEdit&&t.text.editable,model:t,graphModel:n,style:i,draggable:a})}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=e.startPoint,n=e.endPoint,r=e.isSelected;return{start:t,end:n,hover:this.state.hover,isSelected:r}}},{key:"getArrowStyle",value:function(){var e=this.getAttributes().stroke,t=this.props.graphModel.theme.arrow;return{stroke:e,strokeWidth:1,fill:e,offset:t.offset,verticalLength:t.verticalLength}}},{key:"getArrow",value:function(){var e=this.getArrowInfo(),t=e.start,n=e.end;if(t&&n&&(t.x!==n.x||t.y!==n.y)){var r=this.getArrowStyle();return b(jg,{arrowInfo:e,style:r})}}},{key:"getAdjustPoints",value:function(){var e=this.props,t=e.model,n=e.graphModel,r=e.eventCenter,o=t.getAdjustStart(),i=t.getAdjustEnd();return b("g",null,b($g,Jg({type:"SOURCE"},o,{edgeModel:t,graphModel:n,eventCenter:r})),b($g,Jg({type:"TARGET"},i,{edgeModel:t,graphModel:n,eventCenter:r})))}},{key:"getAppendWidth",value:function(){return b("g",null)}},{key:"getAppend",value:function(){return b("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var e=this.props,t=e.graphModel,n=e.model;t.overlapMode!==pa.INCREASE&&t.toFront(n.id)}},{key:"render",value:function(){var e=this.props,t=e.model.isSelected,n=e.graphModel.editConfig,r=this.getIsDraging(),o=n.adjustEdgeStartAndEnd;return b("g",{className:"lf-edge",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow(),o&&t&&!r?this.getAdjustPoints():"")}}])&&rm(t.prototype,n),r&&rm(t,r),i}(x);function fm(e){return(fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pm(Object(n),!0).forEach((function(t){hm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ym(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bm(e,t,n){return(bm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xm(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function gm(e,t){return(gm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xm(e);if(t){var o=xm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Om(this,n)}}function Om(e,t){if(t&&("object"===fm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xm(e){return(xm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gm(e,t)}(i,e);var t,n,r,o=mm(i);function i(){return ym(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getAttributes",value:function(){var e=this.props.model,t=e.startPoint,n=e.endPoint;return dm(dm({},bm(xm(i.prototype),"getAttributes",this).call(this)),{},{startPoint:t,endPoint:n})}},{key:"getEdge",value:function(){var e=this.getAttributes(),t=e.stroke,n=e.startPoint,r=e.endPoint,o=e.strokeWidth,i=e.strokeOpacity,a=e.strokeDashArray;return b(If,{x1:n.x,y1:n.y,x2:r.x,y2:r.y,strokeOpacity:i,strokeWidth:o,stroke:t,strokeDasharray:a})}},{key:"getShape",value:function(){return b("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var e=this.props.model,t=function(e){var t,n=e.start,r=e.end;if(n.x===r.x&&n.y===r.y)t="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=js(Ss(Ss({},o),{},{type:"start"})),a=js(Ss(Ss({},o),{},{type:"end"}));t="M".concat(i.leftX," ").concat(i.leftY," \n    L").concat(i.rightX," ").concat(i.rightY," \n    L").concat(a.rightX," ").concat(a.rightY,"\n    L").concat(a.leftX," ").concat(a.leftY," z")}return{d:t,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:e.startPoint,end:e.endPoint}),n=t.d,r=t.strokeWidth,o=t.fill,i=t.strokeDasharray,a=t.stroke;return b(hg,{d:n,fill:o,strokeWidth:r,stroke:a,strokeDasharray:i})}}])&&vm(t.prototype,n),r&&vm(t,r),i}(lm);function _m(e){return(_m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Em(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Em(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Em(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sm=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach((function(e){var n=jm(e,2),r=n[0],o=n[1];"object"!==_m(o)&&(t[r]=o)})),b("polyline",t)};function Pm(e){return(Pm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Am(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function km(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Am(Object(n),!0).forEach((function(t){Bm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Am(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tm(e,t,n){return(Tm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zm(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Cm(e,t){return(Cm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Im(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zm(e);if(t){var o=zm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rm(this,n)}}function Rm(e,t){if(t&&("object"===Pm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lm(e)}function Lm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zm(e){return(zm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cm(e,t)}(i,e);var t,n,r,o=Im(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Bm(Lm(e=o.call(this)),"drag",void 0),Bm(Lm(e),"isDraging",void 0),Bm(Lm(e),"appendInfo",void 0),Bm(Lm(e),"dragHandler",void 0),Bm(Lm(e),"onDragStart",(function(){e.props.model.dragAppendStart()})),Bm(Lm(e),"onDraging",(function(t){var n=t.deltaX,r=t.deltaY,o=e.props,i=o.model,a=o.graphModel;e.isDraging=!0;var c=a.transformMatrix,u=a.editConfig,s=Nm(c.fixDeltaXY(n,r),2),l=s[0],f=s[1],p=i,d=u.adjustEdgeMiddle;e.appendInfo=d?p.dragAppendSimple(e.appendInfo,{x:l,y:f}):p.dragAppend(e.appendInfo,{x:l,y:f})})),Bm(Lm(e),"onDragEnd",(function(){var t=e.props,n=t.model,r=t.eventCenter,o=n;o.dragAppendEnd(),e.isDraging=!1,e.appendInfo=void 0,r.emit(la.EDGE_ADJUST,{data:o.getData()})})),Bm(Lm(e),"beforeDragStart",(function(t,n){n.dragAble&&e.dragHandler(t),e.appendInfo=n})),Bm(Lm(e),"getIsDraging",(function(){return e.isDraging})),e.drag=dl({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd,isStopPropagation:!1}),e}return t=i,(n=[{key:"getAttributes",value:function(){var e=Tm(zm(i.prototype),"getAttributes",this).call(this),t=this.props.model.points;return km(km({},e),{},{points:t})}},{key:"getEdge",value:function(){var e=this.getAttributes(),t=e.points,n=e.strokeWidth,r=e.stroke,o=e.strokeDashArray;return b(Sm,{points:t,strokeWidth:n,stroke:r,strokeDasharray:o})}},{key:"getShape",value:function(){return b("g",null,this.getEdge())}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=e.points,n=e.isSelected,r={start:null,end:null,hover:this.state.hover,isSelected:n},o=Js(t);return o.length>=2&&(r.start=o[o.length-2],r.end=o[o.length-1]),r}},{key:"getAppendAttibutes",value:function(e){var t,n=e.start,r=e.end;if(n.x===r.x&&n.y===r.y)t="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=js(km(km({},o),{},{type:"start"})),a=js(km(km({},o),{},{type:"end"}));t="M".concat(i.leftX," ").concat(i.leftY," \n      L").concat(i.rightX," ").concat(i.rightY," \n      L").concat(a.rightX," ").concat(a.rightY,"\n      L").concat(a.leftX," ").concat(a.leftY," z")}return{d:t,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(e){var t=this.getAppendAttibutes(e),n=t.d,r=t.strokeWidth,o=t.fill,i=t.strokeDasharray,a=t.stroke;return b(hg,{d:n,fill:o,strokeWidth:r,stroke:a,strokeDasharray:i})}},{key:"getAppendWidth",value:function(){for(var e=this,t=this.props,n=t.model,r=t.graphModel,o=n.pointsList,i=n.draggable,a=[],c=o.length,u=function(t){var n="lf-polyline-append",u={start:{x:o[t].x,y:o[t].y},end:{x:o[t+1].x,y:o[t+1].y},startIndex:t,endIndex:t+1,direction:"",dragAble:!0},s=b("g",{className:n},e.getAppendShape(u)),l=r.editConfig,f=l.adjustEdge,p=l.adjustEdgeMiddle;if(f&&i){e.dragHandler=e.drag;var d=u.startIndex,h=u.endIndex,y=p&&(0===d||h===c-1);u.dragAble=!y,u.start.x===u.end.x?(u.dragAble&&(n+="-ew-resize"),u.direction=fa.VERTICAL):u.start.y===u.end.y&&(u.dragAble&&(n+="-ns-resize"),u.direction=fa.HORIZONTAL),s=b("g",{className:e.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(t){return e.beforeDragStart(t,u)}},b("g",{className:n},e.getAppendShape(u)))}else e.dragHandler=function(){};a.push(s)},s=0;s<c-1;s++)u(s);return b("g",null,a)}}])&&Dm(t.prototype,n),r&&Dm(t,r),i}(lm);function Fm(e){return(Fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Um(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ym(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hm(Object(n),!0).forEach((function(t){Vm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zm(e,t,n){return(Zm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jm(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function qm(e,t){return(qm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jm(e);if(t){var o=Jm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qm(this,n)}}function Qm(e,t){if(t&&("object"===Fm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Jm(e){return(Jm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qm(e,t)}(i,e);var t,n,r,o=$m(i);function i(){return Wm(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getAttributes",value:function(){var e=Zm(Jm(i.prototype),"getAttributes",this).call(this),t=this.props.model.path;return Ym(Ym({},e),{},{path:t})}},{key:"getEdge",value:function(){var e=this.getAttributes(),t=e.path,n=e.strokeWidth,r=e.stroke,o=e.strokeDashArray;return b(hg,{d:t,strokeWidth:n,stroke:r,fill:"none",strokeDasharray:o})}},{key:"getShape",value:function(){return b("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var e=this.getAttributes().path;return b(hg,{d:e,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=this.state.hover,n=e,r=n.path,o=n.isSelected,i=Um(function(e){var t=ol(e);return[t[2],t[3]]}(r),2);return{start:i[0],end:i[1],hover:t,isSelected:o}}}])&&Km(t.prototype,n),r&&Km(t,r),i}(lm),tO=function(e,t){return Do(e,t)},nO=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},rO=function(){return En.a.Date.now()},oO=/\s/,iO=function(e){for(var t=e.length;t--&&oO.test(e.charAt(t)););return t},aO=/^\s+/,cO=function(e){return e?e.slice(0,iO(e)+1).replace(aO,""):e},uO=/^[-+]0x[0-9a-f]+$/i,sO=/^0b[01]+$/i,lO=/^0o[0-7]+$/i,fO=parseInt,pO=function(e){if("number"==typeof e)return e;if(zo(e))return NaN;if(Rn(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Rn(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=cO(e);var n=sO.test(e);return n||lO.test(e)?fO(e.slice(2),n?2:8):uO.test(e)?NaN:+e},dO=Math.max,hO=Math.min,yO=function(e,t,n){var r,o,i,a,c,u,s=0,l=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,i=o;return r=o=void 0,s=t,a=e.apply(i,n)}function h(e){return s=e,c=setTimeout(v,t),l?d(e):a}function y(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-s>=i}function v(){var e=rO();if(y(e))return b(e);c=setTimeout(v,function(e){var n=t-(e-u);return f?hO(n,i-(e-s)):n}(e))}function b(e){return c=void 0,p&&r?d(e):(r=o=void 0,a)}function g(){var e=rO(),n=y(e);if(r=arguments,o=this,u=e,n){if(void 0===c)return h(u);if(f)return clearTimeout(c),c=setTimeout(v,t),d(u)}return void 0===c&&(c=setTimeout(v,t)),a}return t=pO(t)||0,Rn(n)&&(l=!!n.leading,i=(f="maxWait"in n)?dO(pO(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p),g.cancel=function(){void 0!==c&&clearTimeout(c),s=0,r=u=o=c=void 0},g.flush=function(){return void 0===c?a:b(rO())},g},vO=n(140);function bO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mO,OO,xO,wO=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),gO(this,"undos",[]),gO(this,"redos",[]),gO(this,"callbacks",[]),gO(this,"stopWatch",null),gO(this,"curData",null),gO(this,"maxSize",50),gO(this,"waitTime",100),gO(this,"eventCenter",void 0),this.eventCenter=t}var t,n,r;return t=e,(n=[{key:"add",value:function(e){tO(nO(this.undos),e)||(this.undos.push(e),tO(this.curData,e)||(this.redos=[]),this.eventCenter.emit(la.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var e=this.undos.pop();this.redos.push(e);var t=this.undos.pop();return this.curData=dc(t),t}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var e=this.redos.pop();return this.curData=dc(e),e}}},{key:"watch",value:function(e){var t=this;this.stopWatch&&this.stopWatch(),this.undos.push(e.modelToGraphData()),this.stopWatch=Object(vO.a)(e,yO((function(){var n=e.modelToGraphData();t.add(n)}),this.waitTime))}}])&&bO(t.prototype,n),r&&bO(t,r),e}();function _O(e){return(_O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return EO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EO(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SO(Object(n),!0).forEach((function(t){CO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kO(e,t){return(kO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function NO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=TO(e);if(t){var o=TO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return MO(this,n)}}function MO(e,t){if(t&&("object"===_O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return DO(e)}function DO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TO(e){return(TO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var IO,RO,LO,zO=mx((xO=OO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kO(e,t)}(i,e);var t,n,r,o=NO(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),CO(DO(e=o.call(this)),"ref",{current:null}),CO(DO(e),"__prevText",{type:"",text:"",id:""}),CO(DO(e),"keyupHandler",(function(t){var n=t.target.innerText,r=e.props.graphModel.textEditElement;13===t.keyCode&&t.altKey&&r.setElementState(0),e.__prevText={type:r.type,text:n,id:r.id}})),e.state={style:{left:0,top:0}},e}return t=i,r=[{key:"getDerivedStateFromProps",value:function(e){var t,n=e.graphModel,r=n.transformMatrix,o=n.theme,i=n.textEditElement;if(i){var a;if(null===(a=i.text)||void 0===a||!a.value)if(i.BaseType===sa.EDGE){var c=(i=i).text,u=i.textPosition,s=u.x,l=u.y;c.x=s,c.y=l,i.setText(c)}else i=i;var f={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(i.BaseType===sa.EDGE){var p=o.edgeText,d=p.autoWrap,h=p.lineHeight,y=p.wrapPadding,v=i.textWidth;d&&v&&(t=PO(PO({},f),{},{width:v,minWidth:v,lineHeight:h,padding:y}))}else if(i.BaseType===sa.NODE){var b=o.nodeText,g=b.autoWrap,m=b.lineHeight,O=b.wrapPadding,x=i,w=x.width,_=x.textWidth,j=x.modelType;(j!==ua.TEXT_NODE&&g||j===ua.TEXT_NODE&&g&&_)&&(t=PO(PO({},f),{},{width:_||w,minWidth:_||w,lineHeight:m,padding:O}))}var E=i.text,S=E.x,P=E.y,A=jO(r.CanvasPointToHtmlPoint([S,P]),2);return{style:PO({left:A[0],top:A[1]},t)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var e=this.props.graphModel,t=e.eventCenter,n=e.editConfig,r=n.edgeTextEdit,o=n.nodeTextEdit;(r||o)&&t.on(la.GRAPH_TRANSFORM,(function(){e.textEditElement&&e.textEditElement.setElementState(aa.DEFAULT)}))}},{key:"componentDidUpdate",value:function(){var e=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id){var t=this.__prevText,n=t.text,r=t.id;e.setElementTextById(r,n),e.eventCenter.emit(la.TEXT_UPDATE,PO({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(e){if(void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}}},{key:"render",value:function(){var e,t=this.props.graphModel.textEditElement,n=this.state.style;return t?b("div",{contentEditable:!0,className:"lf-text-input",style:n,ref:this.ref,key:t.id,onKeyUp:this.keyupHandler},null===(e=t.text)||void 0===e?void 0:e.value):null}}])&&AO(t.prototype,n),r&&AO(t,r),i}(x),CO(OO,"toolName","textEdit"),mO=xO))||mO,BO=function(e){return e.modelType===ua.LINE_EDGE?function(e){var t=e.startPoint,n=e.endPoint,r=(t.x+n.x)/2,o=(t.y+n.y)/2,i=Math.abs(t.x-n.x)+10,a=Math.abs(t.y-n.y)+10;return{x:r-i/2,y:o-a/2,x1:r+i/2,y1:o+a/2}}(e):e.modelType===ua.POLYLINE_EDGE?function(e){var t=e.points,n=Js(t),r=Ls(n,8),o=r.x,i=r.y,a=r.width,c=r.height;return{x:o-a/2,y:i-c/2,x1:o+a/2,y1:i+c/2}}(e):e.modelType===ua.BEZIER_EDGE?function(e){var t=e.path,n=ol(t),r=Ls(n,8),o=r.x,i=r.y,a=r.width,c=r.height;return{x:o-a/2,y:i-c/2,x1:o+a/2,y1:i+c/2}}(e):void 0};function GO(e){return(GO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||XO(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UO(e){return function(e){if(Array.isArray(e))return HO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||XO(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XO(e,t){if(e){if("string"==typeof e)return HO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HO(e,t):void 0}}function HO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VO(e,t){return(VO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function WO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qO(e);if(t){var o=qO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return KO(this,n)}}function KO(e,t){if(t&&("object"===GO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ZO(e)}function ZO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qO(e){return(qO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QO=mx((LO=RO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&VO(e,t)}(i,e);var t,n,r,o=WO(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),$O(ZO(t=o.call(this)),"stepDrag",void 0),$O(ZO(t),"handleMouseDown",(function(e){t.stepDrag.handleMouseDown(e)})),$O(ZO(t),"onDraging",(function(e){var n=e.deltaX,r=e.deltaY,o=t.props.graphModel;o.moveElements(o.getSelectElements(!0),n,r)})),$O(ZO(t),"handleContextMenu",(function(e){e.preventDefault();var n=t.props,r=n.graphModel,o=n.graphModel,i=o.eventCenter,a=o.selectElements,c=r.getPointByClient({x:e.clientX,y:e.clientY}),u={nodes:[],edges:[]};UO(a.values()).forEach((function(e){e.BaseType===sa.NODE&&u.nodes.push(e.getData()),e.BaseType===sa.EDGE&&u.edges.push(e.getData())})),i.emit(la.SELECTION_CONTEXTMENU,{data:u,e:e,position:c})}));var n=e.graphModel.gridSize,r=e.eventCenter;return t.stepDrag=new Dl({onDraging:t.onDraging,step:n,eventType:"multiple:select",eventCenter:r}),t}return t=i,(n=[{key:"render",value:function(){var e=this.props.graphModel,t=e.selectElements,n=e.transformMatrix;if(!(t.size<=1)){var r=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;t.forEach((function(e){var t={x:0,y:0,x1:0,y1:0};e.BaseType===sa.NODE&&(t=function(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{x:t-r/2,y:n-o/2,x1:t+r/2,y1:n+o/2}}(e)),e.BaseType===sa.EDGE&&(t=BO(e)),r=Math.min(r,t.x),o=Math.min(o,t.y),i=Math.max(i,t.x1),a=Math.max(a,t.y1)}));var c=FO(n.CanvasPointToHtmlPoint([r,o]),2);r=c[0],o=c[1];var u=FO(n.CanvasPointToHtmlPoint([i,a]),2);return i=u[0],a=u[1],b("div",{className:"lf-multiple-select",style:{left:"".concat(r-10,"px"),top:"".concat(o-10,"px"),width:"".concat(i-r+20,"px"),height:"".concat(a-o+20,"px")},onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&YO(t.prototype,n),r&&YO(t,r),i}(x),$O(RO,"toolName","multipleSelect"),IO=LO))||IO;function JO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ex(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tx=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ex(this,"tools",void 0),ex(this,"components",void 0),ex(this,"toolMap",new Map),ex(this,"instance",void 0),this.instance=t,this.isDisabledTool(zO.toolName)||this.registerTool(zO.toolName,zO),this.isDisabledTool(QO.toolName)||this.registerTool(QO.toolName,QO)}var t,n,r;return t=e,(n=[{key:"isDisabledTool",value:function(e){return-1!==this.instance.options.disabledTools.indexOf(e)}},{key:"registerTool",value:function(e,t){this.toolMap.set(e,t)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&JO(t.prototype,n),r&&JO(t,r),e}();function nx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(182);var rx=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r={},(n="_events")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,r;return t=e,(n=[{key:"on",value:function(e,t,n){var r=this;return e.split(",").forEach((function(e){e=e.trim(),r._events[e]||(r._events[e]=[]),r._events[e].push({callback:t,once:!!n})})),this}},{key:"once",value:function(e,t){var n=this;e.split(",").forEach((function(e){return e=e.trim(),n.on(e,t,!0)}))}},{key:"emit",value:function(e,t){var n=this;e.split(",").forEach((function(e){var r=n._events[e]||[],o=n._events["*"]||[],i=function(r){for(var o=r.length,i=0;i<o;i++)if(r[i]){var a=r[i],c=a.callback;a.once&&(r.splice(i,1),0===r.length&&delete n._events[e],o--,i--),c.apply(n,[t])}};i(r),i(o)}))}},{key:"off",value:function(e,t){var n=this;return e||(this._events={}),e.split(",").forEach((function(e){if(t){for(var r=n._events[e]||[],o=r.length,i=0;i<o;i++)r[i].callback===t&&(r.splice(i,1),o--,i--);0===r.length&&delete n._events[e]}else delete n._events[e]})),this}},{key:"getEvents",value:function(){return this._events}}])&&nx(t.prototype,n),r&&nx(t,r),e}(),ox=n(141),ix=n.n(ox);function ax(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ux=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cx(this,"mousetrap",void 0),cx(this,"options",void 0),cx(this,"target",void 0),t.keyboard||(t.keyboard={enabled:!1}),this.options=t;var n=t.lf;this.target=n.container,this.mousetrap=new ix.a(this.target),t.keyboard.enabled&&this.enable(!0)}var t,n,r;return t=e,(n=[{key:"initShortcuts",value:function(){var e=this,t=this.options.keyboard.shortcuts;if(t)if(Ir(t))t.forEach((function(t){var n=t.keys,r=t.callback,o=t.action;return e.on(n,r,o)}));else{var n=t.keys,r=t.callback,o=t.action;this.on(n,r,o)}}},{key:"on",value:function(e,t,n){this.mousetrap.bind(this.getKeys(e),t,n)}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}},{key:"off",value:function(e,t){this.mousetrap.unbind(this.getKeys(e),t)}},{key:"enable",value:function(e){(this.disabled||e)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(e){var t=this;return(Array.isArray(e)?e:[e]).map((function(e){return t.formatkey(e)}))}},{key:"formatkey",value:function(e){return e.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&ax(t.prototype,n),r&&ax(t,r),e}(),sx=ux,lx=null;function fx(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function px(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach((function(e){e.x+=t,e.y+=t})),e.text&&(e.text.x+=t,e.text.y+=t),e}function dx(e){return(dx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hx(Object(n),!0).forEach((function(t){bx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gx=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),bx(this,"container",void 0),bx(this,"width",void 0),bx(this,"height",void 0),bx(this,"graphModel",void 0),bx(this,"history",void 0),bx(this,"viewMap",new Map),bx(this,"tool",void 0),bx(this,"keyboard",void 0),bx(this,"dnd",void 0),bx(this,"options",void 0),bx(this,"getSnapshot",void 0),bx(this,"eventCenter",void 0),bx(this,"snaplineModel",void 0),bx(this,"components",[]),bx(this,"adapterIn",void 0),bx(this,"adapterOut",void 0),bx(this,"getView",(function(e){return n.viewMap.get(e)}));var r,o,i=t.container,a=t.width,c=t.height,u=t.dndOptions,s=t.keyboard,l=t.isSilentMode,f=t.snapline;this.options=Wp(t),this.container=i,this.width=a||i.getBoundingClientRect().width,this.height=c||i.getBoundingClientRect().height,this.tool=new tx(this),this.eventCenter=new rx,this.history=new wO(this.eventCenter),this.dnd=new Vp({options:u,lf:this}),this.keyboard=new sx({lf:this,keyboard:s}),this.graphModel=new Xl(yx(yx({},this.options),{},{eventCenter:this.eventCenter,rootEl:this.container,width:this.width,height:this.height})),l||!1===f||(this.snaplineModel=new By(this.graphModel),r=this.eventCenter,o=this.snaplineModel,r.on("node:mousemove",(function(e){var t=e.data;o.setNodeSnapLine(t)})),r.on("node:mouseup",(function(){o.clearSnapline()}))),function(e,t){var n=e.keyboard,r=n.options.keyboard;n.on(["cmd + c","ctrl + c"],(function(){if(r.enabled&&!t.textEditElement){var n=e.options.guards,o=t.getSelectElements(!1);return n&&n.beforeClone&&!n.beforeClone(o)?(lx=null,!1):((lx=o).nodes.forEach((function(e){return fx(e,40)})),lx.edges.forEach((function(e){return px(e,40)})),!1)}})),n.on(["cmd + v","ctrl + v"],(function(){if(r.enabled&&!t.textEditElement){if(lx&&(lx.nodes||lx.edges)){e.clearSelectElements();var n=e.addElements(lx);if(!n)return;n.nodes.forEach((function(t){return e.select(t.id,!0)})),n.edges.forEach((function(t){return e.select(t.id,!0)})),lx.nodes.forEach((function(e){return fx(e,40)})),lx.edges.forEach((function(e){return px(e,40)}))}return!1}})),n.on(["cmd + z","ctrl + z"],(function(){if(r.enabled&&!t.textEditElement)return e.undo(),!1})),n.on(["cmd + y","ctrl + y"],(function(){if(r.enabled&&!t.textEditElement)return e.redo(),!1})),n.on(["backspace"],(function(){if(r.enabled&&!t.textEditElement){var n=t.getSelectElements(!0);return e.clearSelectElements(),n.edges.forEach((function(t){return e.deleteEdge(t.id)})),n.nodes.forEach((function(t){return e.deleteNode(t.id)})),!1}}))}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(t.disabledPlugins)}var t,n,r;return t=e,r=[{key:"use",value:function(e){var t=e.pluginName;t||(console.warn("\u8bf7\u7ed9\u63d2\u4ef6".concat(e.name||e.constructor.name,"\u6307\u5b9apluginName!")),t=e.name);var n=this.extensions.get(t);n&&n.destroy&&n.destroy(),this.extensions.set(t,e)}}],(n=[{key:"on",value:function(e,t){this.eventCenter.on(e,t)}},{key:"off",value:function(e,t){this.eventCenter.off(e,t)}},{key:"once",value:function(e,t){this.eventCenter.once(e,t)}},{key:"emit",value:function(e,t){this.eventCenter.emit(e,t)}},{key:"installPlugins",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.extensions.forEach((function(e){var r=e.pluginName||e.name;-1===n.indexOf(r)&&t.__installPlugin(e)}))}},{key:"__installPlugin",value:function(t){if("object"===dx(t)){var n=t.install,r=t.render;return n&&n.call(t,this,e),void(r&&this.components.push(r.bind(t)))}var o=new t({lf:this,LogicFlow:e});o.render&&this.components.push(o.render.bind(o))}},{key:"register",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"==typeof e){var r={BaseEdge:lm,BaseEdgeModel:Ju,BaseNode:Av,BaseNodeModel:qd,RectNode:Gv,RectNodeModel:fy,CircleNode:Qv,CircleNodeModel:uh,PolygonNode:hb,PolygonNodeModel:Qh,TextNode:Jb,TextNodeModel:wy,LineEdge:wm,LineEdgeModel:ls,DiamondNode:Sb,DiamondNodeModel:Ph,PolylineEdge:Gm,PolylineEdgeModel:_s,BezierEdge:eO,BezierEdgeModel:Ld,EllipseNode:Ub,EllipseNodeModel:Bh,HtmlNode:sg,HtmlNodeModel:Cy,h:b,type:e};this.viewMap.forEach((function(e){var t=e.extendKey;t&&(r[t]=e)})),this.graphModel.modelMap.forEach((function(e){var t=e.extendKey;t&&(r[t]=e)}));var o=t(r),i=o.view,a=o.model,c=i;n&&!c.isObervered&&(c.isObervered=!0,c=qt(c)),this.setView(e,c),this.graphModel.setModel(e,a)}else this._registerElement(e)}},{key:"_registerElement",value:function(e){var t=e.view;!1===e.isObserverView||t.isObervered||(t.isObervered=!0,t=qt(t)),this.setView(e.type,t),this.graphModel.setModel(e.type,e.model)}},{key:"defaultRegister",value:function(){this._registerElement({view:Gv,model:fy,type:"rect"}),this._registerElement({type:"circle",view:Qv,model:uh}),this._registerElement({type:"polygon",view:hb,model:Qh}),this._registerElement({type:"line",view:wm,model:ls}),this._registerElement({type:"polyline",view:Gm,model:_s}),this._registerElement({type:"bezier",view:eO,model:Ld}),this._registerElement({type:"text",view:Jb,model:wy}),this._registerElement({type:"ellipse",view:Ub,model:Bh}),this._registerElement({type:"diamond",view:Sb,model:Ph}),this._registerElement({type:"html",view:sg,model:Cy})}},{key:"undo",value:function(){if(this.history.undoAble()){var e=Uu(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}}},{key:"redo",value:function(){if(this.history.redoAble()){var e=Uu(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}}},{key:"zoom",value:function(e,t){var n=this.graphModel.transformMatrix;return n.zoom(e,t),"".concat(100*n.SCALE_X,"%")}},{key:"resetZoom",value:function(){this.graphModel.transformMatrix.resetZoom()}},{key:"setZoomMiniSize",value:function(e){this.graphModel.transformMatrix.setZoomMiniSize(e)}},{key:"setZoomMaxSize",value:function(e){this.graphModel.transformMatrix.setZoomMaxSize(e)}},{key:"getTransform",value:function(){var e=this.graphModel.transformMatrix;return{SCALE_X:e.SCALE_X,SCALE_Y:e.SCALE_Y,TRANSLATE_X:e.TRANSLATE_X,TRANSLATE_Y:e.TRANSLATE_Y}}},{key:"translate",value:function(e,t){this.graphModel.transformMatrix.translate(e,t)}},{key:"resetTranslate",value:function(){var e=this.graphModel.transformMatrix,t=e.TRANSLATE_X,n=e.TRANSLATE_Y;this.translate(-t,-n)}},{key:"select",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.graphModel.selectElementById(e,t)}},{key:"focusOn",value:function(e){var t=this.graphModel.transformMatrix,n=e.coordinate,r=e.id;if(!n){var o=this.getNodeModel(r);o&&(n=o.getData());var i=this.getEdgeModelById(r);i&&(n=i.textPosition)}var a=n,c=a.x,u=a.y;t.focusOn(c,u,this.width,this.height)}},{key:"setTheme",value:function(e){this.graphModel.setTheme(e)}},{key:"setDefaultEdgeType",value:function(e){this.options.edgeType=e,this.graphModel.changeEdgeType(e)}},{key:"updateText",value:function(e,t){this.graphModel.setElementTextById(e,t)}},{key:"deleteElement",value:function(e){return this.graphModel.getNodeModel(e)?this.deleteNode(e):!!this.graphModel.getEdgeModel(e)&&this.deleteEdge(e)}},{key:"changeNodeType",value:function(e,t){this.graphModel.changeNodeType(e,t)}},{key:"getNodeEdges",value:function(e){return this.graphModel.getNodeEdges(e)}},{key:"addNode",value:function(e){return this.graphModel.addNode(e)}},{key:"deleteNode",value:function(e){var t=this.graphModel.getNodeModel(e);if(!t)return!1;var n=t.getData(),r=this.options.guards,o=!r||!r.beforeDelete||r.beforeDelete(n);return o&&this.graphModel.deleteNode(e),o}},{key:"editNodeText",value:function(e){this.graphModel.setTextEditable(e)}},{key:"cloneNode",value:function(e){var t=this.graphModel.getNodeModel(e).getData(),n=this.options.guards;if(!n||!n.beforeClone||n.beforeClone(t))return this.graphModel.cloneNode(e)}},{key:"createEdge",value:function(e){this.graphModel.createEdge(e)}},{key:"deleteEdge",value:function(e){var t=this.options.guards,n=this.graphModel.edgesMap[e];if(!n)return!1;var r=n.model.getData(),o=!t||!t.beforeDelete||t.beforeDelete(r);return o&&this.graphModel.removeEdgeById(e),o}},{key:"removeEdge",value:function(e){var t=e.sourceNodeId,n=e.targetNodeId;t&&n?this.graphModel.removeEdge(t,n):t?this.graphModel.removeEdgeBySource(t):n&&this.graphModel.removeEdgeByTarget(n)}},{key:"getNodeModel",value:function(e){return this.graphModel.getNodeModel(e)}},{key:"getNodeData",value:function(e){return this.graphModel.getNodeModel(e).getData()}},{key:"setNodeData",value:function(e){var t=e.id;this.graphModel.getNodeModel(t).updateData(e)}},{key:"getEdgeModel",value:function(e){return this.getEdge(e)}},{key:"getEdgeModelById",value:function(e){var t;return null===(t=this.graphModel.edgesMap[e])||void 0===t?void 0:t.model}},{key:"getEdge",value:function(e){var t=this.graphModel,n=t.edges,r=t.edgesMap,o=e.id,i=e.sourceNodeId,a=e.targetNodeId;if(o)return r[o]?[r[o].model]:void console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(o,"\u7684\u8fb9"));if(i&&a){var c=[];return n.forEach((function(e){e.sourceNodeId===i&&e.targetNodeId===a&&c.push(e)})),c}if(i){var u=[];return n.forEach((function(e){e.sourceNodeId===i&&u.push(e)})),u}if(a){var s=[];return n.forEach((function(e){e.targetNodeId===a&&s.push(e)})),s}return[]}},{key:"getEdgeData",value:function(e){var t;return null===(t=this.getEdgeModelById(e))||void 0===t?void 0:t.getData()}},{key:"setEdgeData",value:function(e){var t,n=e.id;return null===(t=this.getEdgeModelById(n))||void 0===t?void 0:t.updateData(e)}},{key:"getGraphData",value:function(){var e=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(e):e}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"setProperties",value:function(e,t){var n;null===(n=this.graphModel.getElement(e))||void 0===n||n.setProperties(Uu(t))}},{key:"getProperties",value:function(e){var t;return null===(t=this.graphModel.getElement(e))||void 0===t?void 0:t.getProperties()}},{key:"changeNodeId",value:function(e,t){return this.graphModel.changeNodeId(e,t)}},{key:"changeEdgeId",value:function(e,t){return this.graphModel.changeEdgeId(e,t)}},{key:"updateEditConfig",value:function(e){this.graphModel.editConfig.updateEditConfig(e)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfig.getConfig()}},{key:"getPointByClient",value:function(e,t){return this.graphModel.getPointByClient({x:e,y:t})}},{key:"getSelectElements",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.graphModel.getSelectElements(e)}},{key:"updateAttributes",value:function(e,t){this.graphModel.updateAttributes(e,t)}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"setElementZIndex",value:function(e,t){return this.graphModel.setElementZIndex(e,t)}},{key:"addElements",value:function(e){for(var t=this,n=e.nodes,r=e.edges,o={},i={nodes:[],edges:[]},a=0;a<n.length;a++){var c=n[a],u=c.id,s=this.addNode(c);if(!s)return;u&&(o[u]=s.id),i.nodes.push(s)}return r.forEach((function(e){var n=e.sourceNodeId,r=e.targetNodeId;o[n]&&(e.sourceNodeId=o[n]),o[r]&&(e.targetNodeId=o[r]);var a=t.graphModel.createEdge(e);i.edges.push(a)})),i}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"createFakerNode",value:function(e){var t=this.graphModel.modelMap.get(e.type);if(t){var n=new t(e,this.graphModel);return this.graphModel.setFakerNode(n),n}console.warn("\u4e0d\u5b58\u5728\u4e3a".concat(e.type,"\u7c7b\u578b\u7684\u8282\u70b9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(e){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(e)}},{key:"getAreaElement",value:function(e,t){return this.graphModel.getAreaElement(e,t).map((function(e){return e.getData()}))}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(e,t){this.viewMap.set(e,t)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(e=this.adapterIn(e)),this.graphModel.graphDataToModel(Uu(e)),this.options.isSilentMode||!1===this.options.history||this.history.watch(this.graphModel),G(b(Fp,{eventCenter:this.eventCenter,getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container)}}])&&vx(t.prototype,n),r&&vx(t,r),e}();function mx(e){return qt(e)}bx(gx,"extensions",new Map),t.default=gx}])},88:function(e,t,n){}},[[245,1,2]]]);
//# sourceMappingURL=main.e444cd82.chunk.js.map